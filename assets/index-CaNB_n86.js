(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&a(m)}).observe(document,{childList:!0,subtree:!0});function l(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(u){if(u.ep)return;u.ep=!0;const d=l(u);fetch(u.href,d)}})();function Wy(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var ou={exports:{}},fl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Np;function jy(){if(Np)return fl;Np=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function l(a,u,d){var m=null;if(d!==void 0&&(m=""+d),u.key!==void 0&&(m=""+u.key),"key"in u){d={};for(var g in u)g!=="key"&&(d[g]=u[g])}else d=u;return u=d.ref,{$$typeof:i,type:a,key:m,ref:u!==void 0?u:null,props:d}}return fl.Fragment=n,fl.jsx=l,fl.jsxs=l,fl}var Dp;function ev(){return Dp||(Dp=1,ou.exports=jy()),ou.exports}var E=ev(),lu={exports:{}},dl={},au={exports:{}},su={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ip;function tv(){return Ip||(Ip=1,(function(i){function n(G,$){var X=G.length;G.push($);e:for(;0<X;){var Y=X-1>>>1,W=G[Y];if(0<u(W,$))G[Y]=$,G[X]=W,X=Y;else break e}}function l(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var $=G[0],X=G.pop();if(X!==$){G[0]=X;e:for(var Y=0,W=G.length,A=W>>>1;Y<A;){var R=2*(Y+1)-1,P=G[R],O=R+1,de=G[O];if(0>u(P,X))O<W&&0>u(de,P)?(G[Y]=de,G[O]=X,Y=O):(G[Y]=P,G[R]=X,Y=R);else if(O<W&&0>u(de,X))G[Y]=de,G[O]=X,Y=O;else break e}}return $}function u(G,$){var X=G.sortIndex-$.sortIndex;return X!==0?X:G.id-$.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;i.unstable_now=function(){return d.now()}}else{var m=Date,g=m.now();i.unstable_now=function(){return m.now()-g}}var y=[],h=[],v=1,S=null,C=3,M=!1,H=!1,b=!1,J=!1,te=typeof setTimeout=="function"?setTimeout:null,le=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function Z(G){for(var $=l(h);$!==null;){if($.callback===null)a(h);else if($.startTime<=G)a(h),$.sortIndex=$.expirationTime,n(y,$);else break;$=l(h)}}function ee(G){if(b=!1,Z(G),!H)if(l(y)!==null)H=!0,ne||(ne=!0,ye());else{var $=l(h);$!==null&&Xe(ee,$.startTime-G)}}var ne=!1,j=-1,Ee=5,re=-1;function me(){return J?!0:!(i.unstable_now()-re<Ee)}function Ne(){if(J=!1,ne){var G=i.unstable_now();re=G;var $=!0;try{e:{H=!1,b&&(b=!1,le(j),j=-1),M=!0;var X=C;try{t:{for(Z(G),S=l(y);S!==null&&!(S.expirationTime>G&&me());){var Y=S.callback;if(typeof Y=="function"){S.callback=null,C=S.priorityLevel;var W=Y(S.expirationTime<=G);if(G=i.unstable_now(),typeof W=="function"){S.callback=W,Z(G),$=!0;break t}S===l(y)&&a(y),Z(G)}else a(y);S=l(y)}if(S!==null)$=!0;else{var A=l(h);A!==null&&Xe(ee,A.startTime-G),$=!1}}break e}finally{S=null,C=X,M=!1}$=void 0}}finally{$?ye():ne=!1}}}var ye;if(typeof Q=="function")ye=function(){Q(Ne)};else if(typeof MessageChannel<"u"){var ze=new MessageChannel,mt=ze.port2;ze.port1.onmessage=Ne,ye=function(){mt.postMessage(null)}}else ye=function(){te(Ne,0)};function Xe(G,$){j=te(function(){G(i.unstable_now())},$)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(G){G.callback=null},i.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ee=0<G?Math.floor(1e3/G):5},i.unstable_getCurrentPriorityLevel=function(){return C},i.unstable_next=function(G){switch(C){case 1:case 2:case 3:var $=3;break;default:$=C}var X=C;C=$;try{return G()}finally{C=X}},i.unstable_requestPaint=function(){J=!0},i.unstable_runWithPriority=function(G,$){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var X=C;C=G;try{return $()}finally{C=X}},i.unstable_scheduleCallback=function(G,$,X){var Y=i.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?Y+X:Y):X=Y,G){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=X+W,G={id:v++,callback:$,priorityLevel:G,startTime:X,expirationTime:W,sortIndex:-1},X>Y?(G.sortIndex=X,n(h,G),l(y)===null&&G===l(h)&&(b?(le(j),j=-1):b=!0,Xe(ee,X-Y))):(G.sortIndex=W,n(y,G),H||M||(H=!0,ne||(ne=!0,ye()))),G},i.unstable_shouldYield=me,i.unstable_wrapCallback=function(G){var $=C;return function(){var X=C;C=$;try{return G.apply(this,arguments)}finally{C=X}}}})(su)),su}var wp;function nv(){return wp||(wp=1,au.exports=tv()),au.exports}var ru={exports:{}},_e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bp;function iv(){if(bp)return _e;bp=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),C=Symbol.iterator;function M(A){return A===null||typeof A!="object"?null:(A=C&&A[C]||A["@@iterator"],typeof A=="function"?A:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,J={};function te(A,R,P){this.props=A,this.context=R,this.refs=J,this.updater=P||H}te.prototype.isReactComponent={},te.prototype.setState=function(A,R){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,R,"setState")},te.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function le(){}le.prototype=te.prototype;function Q(A,R,P){this.props=A,this.context=R,this.refs=J,this.updater=P||H}var Z=Q.prototype=new le;Z.constructor=Q,b(Z,te.prototype),Z.isPureReactComponent=!0;var ee=Array.isArray;function ne(){}var j={H:null,A:null,T:null,S:null},Ee=Object.prototype.hasOwnProperty;function re(A,R,P){var O=P.ref;return{$$typeof:i,type:A,key:R,ref:O!==void 0?O:null,props:P}}function me(A,R){return re(A.type,R,A.props)}function Ne(A){return typeof A=="object"&&A!==null&&A.$$typeof===i}function ye(A){var R={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(P){return R[P]})}var ze=/\/+/g;function mt(A,R){return typeof A=="object"&&A!==null&&A.key!=null?ye(""+A.key):R.toString(36)}function Xe(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(ne,ne):(A.status="pending",A.then(function(R){A.status==="pending"&&(A.status="fulfilled",A.value=R)},function(R){A.status==="pending"&&(A.status="rejected",A.reason=R)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function G(A,R,P,O,de){var ae=typeof A;(ae==="undefined"||ae==="boolean")&&(A=null);var he=!1;if(A===null)he=!0;else switch(ae){case"bigint":case"string":case"number":he=!0;break;case"object":switch(A.$$typeof){case i:case n:he=!0;break;case v:return he=A._init,G(he(A._payload),R,P,O,de)}}if(he)return de=de(A),he=O===""?"."+mt(A,0):O,ee(de)?(P="",he!=null&&(P=he.replace(ze,"$&/")+"/"),G(de,R,P,"",function(fn){return fn})):de!=null&&(Ne(de)&&(de=me(de,P+(de.key==null||A&&A.key===de.key?"":(""+de.key).replace(ze,"$&/")+"/")+he)),R.push(de)),1;he=0;var Qe=O===""?".":O+":";if(ee(A))for(var Ye=0;Ye<A.length;Ye++)O=A[Ye],ae=Qe+mt(O,Ye),he+=G(O,R,P,ae,de);else if(Ye=M(A),typeof Ye=="function")for(A=Ye.call(A),Ye=0;!(O=A.next()).done;)O=O.value,ae=Qe+mt(O,Ye++),he+=G(O,R,P,ae,de);else if(ae==="object"){if(typeof A.then=="function")return G(Xe(A),R,P,O,de);throw R=String(A),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.")}return he}function $(A,R,P){if(A==null)return A;var O=[],de=0;return G(A,O,"","",function(ae){return R.call(P,ae,de++)}),O}function X(A){if(A._status===-1){var R=A._result;R=R(),R.then(function(P){(A._status===0||A._status===-1)&&(A._status=1,A._result=P)},function(P){(A._status===0||A._status===-1)&&(A._status=2,A._result=P)}),A._status===-1&&(A._status=0,A._result=R)}if(A._status===1)return A._result.default;throw A._result}var Y=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var R=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(R))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},W={map:$,forEach:function(A,R,P){$(A,function(){R.apply(this,arguments)},P)},count:function(A){var R=0;return $(A,function(){R++}),R},toArray:function(A){return $(A,function(R){return R})||[]},only:function(A){if(!Ne(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return _e.Activity=S,_e.Children=W,_e.Component=te,_e.Fragment=l,_e.Profiler=u,_e.PureComponent=Q,_e.StrictMode=a,_e.Suspense=y,_e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,_e.__COMPILER_RUNTIME={__proto__:null,c:function(A){return j.H.useMemoCache(A)}},_e.cache=function(A){return function(){return A.apply(null,arguments)}},_e.cacheSignal=function(){return null},_e.cloneElement=function(A,R,P){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var O=b({},A.props),de=A.key;if(R!=null)for(ae in R.key!==void 0&&(de=""+R.key),R)!Ee.call(R,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&R.ref===void 0||(O[ae]=R[ae]);var ae=arguments.length-2;if(ae===1)O.children=P;else if(1<ae){for(var he=Array(ae),Qe=0;Qe<ae;Qe++)he[Qe]=arguments[Qe+2];O.children=he}return re(A.type,de,O)},_e.createContext=function(A){return A={$$typeof:m,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:d,_context:A},A},_e.createElement=function(A,R,P){var O,de={},ae=null;if(R!=null)for(O in R.key!==void 0&&(ae=""+R.key),R)Ee.call(R,O)&&O!=="key"&&O!=="__self"&&O!=="__source"&&(de[O]=R[O]);var he=arguments.length-2;if(he===1)de.children=P;else if(1<he){for(var Qe=Array(he),Ye=0;Ye<he;Ye++)Qe[Ye]=arguments[Ye+2];de.children=Qe}if(A&&A.defaultProps)for(O in he=A.defaultProps,he)de[O]===void 0&&(de[O]=he[O]);return re(A,ae,de)},_e.createRef=function(){return{current:null}},_e.forwardRef=function(A){return{$$typeof:g,render:A}},_e.isValidElement=Ne,_e.lazy=function(A){return{$$typeof:v,_payload:{_status:-1,_result:A},_init:X}},_e.memo=function(A,R){return{$$typeof:h,type:A,compare:R===void 0?null:R}},_e.startTransition=function(A){var R=j.T,P={};j.T=P;try{var O=A(),de=j.S;de!==null&&de(P,O),typeof O=="object"&&O!==null&&typeof O.then=="function"&&O.then(ne,Y)}catch(ae){Y(ae)}finally{R!==null&&P.types!==null&&(R.types=P.types),j.T=R}},_e.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},_e.use=function(A){return j.H.use(A)},_e.useActionState=function(A,R,P){return j.H.useActionState(A,R,P)},_e.useCallback=function(A,R){return j.H.useCallback(A,R)},_e.useContext=function(A){return j.H.useContext(A)},_e.useDebugValue=function(){},_e.useDeferredValue=function(A,R){return j.H.useDeferredValue(A,R)},_e.useEffect=function(A,R){return j.H.useEffect(A,R)},_e.useEffectEvent=function(A){return j.H.useEffectEvent(A)},_e.useId=function(){return j.H.useId()},_e.useImperativeHandle=function(A,R,P){return j.H.useImperativeHandle(A,R,P)},_e.useInsertionEffect=function(A,R){return j.H.useInsertionEffect(A,R)},_e.useLayoutEffect=function(A,R){return j.H.useLayoutEffect(A,R)},_e.useMemo=function(A,R){return j.H.useMemo(A,R)},_e.useOptimistic=function(A,R){return j.H.useOptimistic(A,R)},_e.useReducer=function(A,R,P){return j.H.useReducer(A,R,P)},_e.useRef=function(A){return j.H.useRef(A)},_e.useState=function(A){return j.H.useState(A)},_e.useSyncExternalStore=function(A,R,P){return j.H.useSyncExternalStore(A,R,P)},_e.useTransition=function(){return j.H.useTransition()},_e.version="19.2.0",_e}var Up;function _u(){return Up||(Up=1,ru.exports=iv()),ru.exports}var uu={exports:{}},Ct={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lp;function ov(){if(Lp)return Ct;Lp=1;var i=_u();function n(y){var h="https://react.dev/errors/"+y;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var a={d:{f:l,r:function(){throw Error(n(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},u=Symbol.for("react.portal");function d(y,h,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:S==null?null:""+S,children:y,containerInfo:h,implementation:v}}var m=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,h){if(y==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Ct.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ct.createPortal=function(y,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(n(299));return d(y,h,null,v)},Ct.flushSync=function(y){var h=m.T,v=a.p;try{if(m.T=null,a.p=2,y)return y()}finally{m.T=h,a.p=v,a.d.f()}},Ct.preconnect=function(y,h){typeof y=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,a.d.C(y,h))},Ct.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Ct.preinit=function(y,h){if(typeof y=="string"&&h&&typeof h.as=="string"){var v=h.as,S=g(v,h.crossOrigin),C=typeof h.integrity=="string"?h.integrity:void 0,M=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;v==="style"?a.d.S(y,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:S,integrity:C,fetchPriority:M}):v==="script"&&a.d.X(y,{crossOrigin:S,integrity:C,fetchPriority:M,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Ct.preinitModule=function(y,h){if(typeof y=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var v=g(h.as,h.crossOrigin);a.d.M(y,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&a.d.M(y)},Ct.preload=function(y,h){if(typeof y=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var v=h.as,S=g(v,h.crossOrigin);a.d.L(y,v,{crossOrigin:S,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Ct.preloadModule=function(y,h){if(typeof y=="string")if(h){var v=g(h.as,h.crossOrigin);a.d.m(y,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else a.d.m(y)},Ct.requestFormReset=function(y){a.d.r(y)},Ct.unstable_batchedUpdates=function(y,h){return y(h)},Ct.useFormState=function(y,h,v){return m.H.useFormState(y,h,v)},Ct.useFormStatus=function(){return m.H.useHostTransitionStatus()},Ct.version="19.2.0",Ct}var qp;function lv(){if(qp)return uu.exports;qp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),uu.exports=ov(),uu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gp;function av(){if(Gp)return dl;Gp=1;var i=nv(),n=_u(),l=lv();function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)t+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,o=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(o=t.return),e=t.return;while(e)}return t.tag===3?o:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(d(e)!==e)throw Error(a(188))}function h(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(a(188));return t!==e?null:e}for(var o=e,s=t;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(s=f.return,s!==null){o=s;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return y(f),e;if(p===s)return y(f),t;p=p.sibling}throw Error(a(188))}if(o.return!==s.return)o=f,s=p;else{for(var T=!1,_=f.child;_;){if(_===o){T=!0,o=f,s=p;break}if(_===s){T=!0,s=f,o=p;break}_=_.sibling}if(!T){for(_=p.child;_;){if(_===o){T=!0,o=p,s=f;break}if(_===s){T=!0,s=p,o=f;break}_=_.sibling}if(!T)throw Error(a(189))}}if(o.alternate!==s)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var S=Object.assign,C=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),le=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),Ee=Symbol.for("react.lazy"),re=Symbol.for("react.activity"),me=Symbol.for("react.memo_cache_sentinel"),Ne=Symbol.iterator;function ye(e){return e===null||typeof e!="object"?null:(e=Ne&&e[Ne]||e["@@iterator"],typeof e=="function"?e:null)}var ze=Symbol.for("react.client.reference");function mt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ze?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case b:return"Fragment";case te:return"Profiler";case J:return"StrictMode";case ee:return"Suspense";case ne:return"SuspenseList";case re:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case H:return"Portal";case Q:return e.displayName||"Context";case le:return(e._context.displayName||"Context")+".Consumer";case Z:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case j:return t=e.displayName||null,t!==null?t:mt(e.type)||"Memo";case Ee:t=e._payload,e=e._init;try{return mt(e(t))}catch{}}return null}var Xe=Array.isArray,G=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},Y=[],W=-1;function A(e){return{current:e}}function R(e){0>W||(e.current=Y[W],Y[W]=null,W--)}function P(e,t){W++,Y[W]=e.current,e.current=t}var O=A(null),de=A(null),ae=A(null),he=A(null);function Qe(e,t){switch(P(ae,t),P(de,e),P(O,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?$d(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=$d(t),e=Wd(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}R(O),P(O,e)}function Ye(){R(O),R(de),R(ae)}function fn(e){e.memoizedState!==null&&P(he,e);var t=O.current,o=Wd(t,e.type);t!==o&&(P(de,e),P(O,o))}function oi(e){de.current===e&&(R(O),R(de)),he.current===e&&(R(he),sl._currentValue=X)}var yo,vo;function en(e){if(yo===void 0)try{throw Error()}catch(o){var t=o.stack.trim().match(/\n( *(at )?)/);yo=t&&t[1]||"",vo=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yo+e+vo}var Ai=!1;function To(e,t){if(!e||Ai)return"";Ai=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(q){var U=q}Reflect.construct(e,[],B)}else{try{B.call()}catch(q){U=q}e.call(B.prototype)}}else{try{throw Error()}catch(q){U=q}(B=e())&&typeof B.catch=="function"&&B.catch(function(){})}}catch(q){if(q&&U&&typeof q.stack=="string")return[q.stack,U.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=s.DetermineComponentFrameRoot(),T=p[0],_=p[1];if(T&&_){var x=T.split(`
`),w=_.split(`
`);for(f=s=0;s<x.length&&!x[s].includes("DetermineComponentFrameRoot");)s++;for(;f<w.length&&!w[f].includes("DetermineComponentFrameRoot");)f++;if(s===x.length||f===w.length)for(s=x.length-1,f=w.length-1;1<=s&&0<=f&&x[s]!==w[f];)f--;for(;1<=s&&0<=f;s--,f--)if(x[s]!==w[f]){if(s!==1||f!==1)do if(s--,f--,0>f||x[s]!==w[f]){var V=`
`+x[s].replace(" at new "," at ");return e.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",e.displayName)),V}while(1<=s&&0<=f);break}}}finally{Ai=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?en(o):""}function Ya(e,t){switch(e.tag){case 26:case 27:case 5:return en(e.type);case 16:return en("Lazy");case 13:return e.child!==t&&t!==null?en("Suspense Fallback"):en("Suspense");case 19:return en("SuspenseList");case 0:case 15:return To(e.type,!1);case 11:return To(e.type.render,!1);case 1:return To(e.type,!0);case 31:return en("Activity");default:return""}}function hl(e){try{var t="",o=null;do t+=Ya(e,o),o=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var K=Object.prototype.hasOwnProperty,F=i.unstable_scheduleCallback,ve=i.unstable_cancelCallback,Je=i.unstable_shouldYield,Se=i.unstable_requestPaint,Ce=i.unstable_now,et=i.unstable_getCurrentPriorityLevel,at=i.unstable_ImmediatePriority,Ae=i.unstable_UserBlockingPriority,ue=i.unstable_NormalPriority,fe=i.unstable_LowPriority,ge=i.unstable_IdlePriority,xe=i.log,Be=i.unstable_setDisableYieldValue,st=null,Ze=null;function _t(e){if(typeof xe=="function"&&Be(e),Ze&&typeof Ze.setStrictMode=="function")try{Ze.setStrictMode(st,e)}catch{}}var xt=Math.clz32?Math.clz32:Ph,Gh=Math.log,Hh=Math.LN2;function Ph(e){return e>>>=0,e===0?32:31-(Gh(e)/Hh|0)|0}var gl=256,yl=262144,vl=4194304;function li(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Tl(e,t,o){var s=e.pendingLanes;if(s===0)return 0;var f=0,p=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var _=s&134217727;return _!==0?(s=_&~p,s!==0?f=li(s):(T&=_,T!==0?f=li(T):o||(o=_&~e,o!==0&&(f=li(o))))):(_=s&~p,_!==0?f=li(_):T!==0?f=li(T):o||(o=s&~e,o!==0&&(f=li(o)))),f===0?0:t!==0&&t!==f&&(t&p)===0&&(p=f&-f,o=t&-t,p>=o||p===32&&(o&4194048)!==0)?t:f}function So(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Vh(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wu(){var e=vl;return vl<<=1,(vl&62914560)===0&&(vl=4194304),e}function Ja(e){for(var t=[],o=0;31>o;o++)t.push(e);return t}function Eo(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function zh(e,t,o,s,f,p){var T=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var _=e.entanglements,x=e.expirationTimes,w=e.hiddenUpdates;for(o=T&~o;0<o;){var V=31-xt(o),B=1<<V;_[V]=0,x[V]=-1;var U=w[V];if(U!==null)for(w[V]=null,V=0;V<U.length;V++){var q=U[V];q!==null&&(q.lane&=-536870913)}o&=~B}s!==0&&bu(e,s,0),p!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=p&~(T&~t))}function bu(e,t,o){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-xt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|o&261930}function Uu(e,t){var o=e.entangledLanes|=t;for(e=e.entanglements;o;){var s=31-xt(o),f=1<<s;f&t|e[s]&t&&(e[s]|=t),o&=~f}}function Lu(e,t){var o=t&-t;return o=(o&42)!==0?1:Ka(o),(o&(e.suspendedLanes|t))!==0?0:o}function Ka(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Xa(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function qu(){var e=$.p;return e!==0?e:(e=window.event,e===void 0?32:Ep(e.type))}function Gu(e,t){var o=$.p;try{return $.p=e,t()}finally{$.p=o}}var Un=Math.random().toString(36).slice(2),yt="__reactFiber$"+Un,Nt="__reactProps$"+Un,xi="__reactContainer$"+Un,Qa="__reactEvents$"+Un,Bh="__reactListeners$"+Un,kh="__reactHandles$"+Un,Hu="__reactResources$"+Un,_o="__reactMarker$"+Un;function Za(e){delete e[yt],delete e[Nt],delete e[Qa],delete e[Bh],delete e[kh]}function Mi(e){var t=e[yt];if(t)return t;for(var o=e.parentNode;o;){if(t=o[xi]||o[yt]){if(o=t.alternate,t.child!==null||o!==null&&o.child!==null)for(e=lp(e);e!==null;){if(o=e[yt])return o;e=lp(e)}return t}e=o,o=e.parentNode}return null}function Ri(e){if(e=e[yt]||e[xi]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Co(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(a(33))}function Ni(e){var t=e[Hu];return t||(t=e[Hu]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ht(e){e[_o]=!0}var Pu=new Set,Vu={};function ai(e,t){Di(e,t),Di(e+"Capture",t)}function Di(e,t){for(Vu[e]=t,e=0;e<t.length;e++)Pu.add(t[e])}var Oh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zu={},Bu={};function Fh(e){return K.call(Bu,e)?!0:K.call(zu,e)?!1:Oh.test(e)?Bu[e]=!0:(zu[e]=!0,!1)}function Sl(e,t,o){if(Fh(t))if(o===null)e.removeAttribute(t);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+o)}}function El(e,t,o){if(o===null)e.removeAttribute(t);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+o)}}function dn(e,t,o,s){if(s===null)e.removeAttribute(o);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(t,o,""+s)}}function kt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ku(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Yh(e,t,o){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,p=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return f.call(this)},set:function(T){o=""+T,p.call(this,T)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function $a(e){if(!e._valueTracker){var t=ku(e)?"checked":"value";e._valueTracker=Yh(e,t,""+e[t])}}function Ou(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var o=t.getValue(),s="";return e&&(s=ku(e)?e.checked?"true":"false":e.value),e=s,e!==o?(t.setValue(e),!0):!1}function _l(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Jh=/[\n"\\]/g;function Ot(e){return e.replace(Jh,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Wa(e,t,o,s,f,p,T,_){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),t!=null?T==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+kt(t)):e.value!==""+kt(t)&&(e.value=""+kt(t)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),t!=null?ja(e,T,kt(t)):o!=null?ja(e,T,kt(o)):s!=null&&e.removeAttribute("value"),f==null&&p!=null&&(e.defaultChecked=!!p),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+kt(_):e.removeAttribute("name")}function Fu(e,t,o,s,f,p,T,_){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),t!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||t!=null)){$a(e);return}o=o!=null?""+kt(o):"",t=t!=null?""+kt(t):o,_||t===e.value||(e.value=t),e.defaultValue=t}s=s??f,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=_?e.checked:!!s,e.defaultChecked=!!s,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T),$a(e)}function ja(e,t,o){t==="number"&&_l(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function Ii(e,t,o,s){if(e=e.options,t){t={};for(var f=0;f<o.length;f++)t["$"+o[f]]=!0;for(o=0;o<e.length;o++)f=t.hasOwnProperty("$"+e[o].value),e[o].selected!==f&&(e[o].selected=f),f&&s&&(e[o].defaultSelected=!0)}else{for(o=""+kt(o),t=null,f=0;f<e.length;f++){if(e[f].value===o){e[f].selected=!0,s&&(e[f].defaultSelected=!0);return}t!==null||e[f].disabled||(t=e[f])}t!==null&&(t.selected=!0)}}function Yu(e,t,o){if(t!=null&&(t=""+kt(t),t!==e.value&&(e.value=t),o==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=o!=null?""+kt(o):""}function Ju(e,t,o,s){if(t==null){if(s!=null){if(o!=null)throw Error(a(92));if(Xe(s)){if(1<s.length)throw Error(a(93));s=s[0]}o=s}o==null&&(o=""),t=o}o=kt(t),e.defaultValue=o,s=e.textContent,s===o&&s!==""&&s!==null&&(e.value=s),$a(e)}function wi(e,t){if(t){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=t;return}}e.textContent=t}var Kh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ku(e,t,o){var s=t.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,o):typeof o!="number"||o===0||Kh.has(t)?t==="float"?e.cssFloat=o:e[t]=(""+o).trim():e[t]=o+"px"}function Xu(e,t,o){if(t!=null&&typeof t!="object")throw Error(a(62));if(e=e.style,o!=null){for(var s in o)!o.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var f in t)s=t[f],t.hasOwnProperty(f)&&o[f]!==s&&Ku(e,f,s)}else for(var p in t)t.hasOwnProperty(p)&&Ku(e,p,t[p])}function es(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cl(e){return Qh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function pn(){}var ts=null;function ns(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var bi=null,Ui=null;function Qu(e){var t=Ri(e);if(t&&(e=t.stateNode)){var o=e[Nt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Wa(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),t=o.name,o.type==="radio"&&t!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ot(""+t)+'"][type="radio"]'),t=0;t<o.length;t++){var s=o[t];if(s!==e&&s.form===e.form){var f=s[Nt]||null;if(!f)throw Error(a(90));Wa(s,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(t=0;t<o.length;t++)s=o[t],s.form===e.form&&Ou(s)}break e;case"textarea":Yu(e,o.value,o.defaultValue);break e;case"select":t=o.value,t!=null&&Ii(e,!!o.multiple,t,!1)}}}var is=!1;function Zu(e,t,o){if(is)return e(t,o);is=!0;try{var s=e(t);return s}finally{if(is=!1,(bi!==null||Ui!==null)&&(ca(),bi&&(t=bi,e=Ui,Ui=bi=null,Qu(t),e)))for(t=0;t<e.length;t++)Qu(e[t])}}function Ao(e,t){var o=e.stateNode;if(o===null)return null;var s=o[Nt]||null;if(s===null)return null;o=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(a(231,t,typeof o));return o}var mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),os=!1;if(mn)try{var xo={};Object.defineProperty(xo,"passive",{get:function(){os=!0}}),window.addEventListener("test",xo,xo),window.removeEventListener("test",xo,xo)}catch{os=!1}var Ln=null,ls=null,Al=null;function $u(){if(Al)return Al;var e,t=ls,o=t.length,s,f="value"in Ln?Ln.value:Ln.textContent,p=f.length;for(e=0;e<o&&t[e]===f[e];e++);var T=o-e;for(s=1;s<=T&&t[o-s]===f[p-s];s++);return Al=f.slice(e,1<s?1-s:void 0)}function xl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ml(){return!0}function Wu(){return!1}function Dt(e){function t(o,s,f,p,T){this._reactName=o,this._targetInst=f,this.type=s,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(o=e[_],this[_]=o?o(p):p[_]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ml:Wu,this.isPropagationStopped=Wu,this}return S(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ml)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ml)},persist:function(){},isPersistent:Ml}),t}var si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rl=Dt(si),Mo=S({},si,{view:0,detail:0}),Zh=Dt(Mo),as,ss,Ro,Nl=S({},Mo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:us,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ro&&(Ro&&e.type==="mousemove"?(as=e.screenX-Ro.screenX,ss=e.screenY-Ro.screenY):ss=as=0,Ro=e),as)},movementY:function(e){return"movementY"in e?e.movementY:ss}}),ju=Dt(Nl),$h=S({},Nl,{dataTransfer:0}),Wh=Dt($h),jh=S({},Mo,{relatedTarget:0}),rs=Dt(jh),eg=S({},si,{animationName:0,elapsedTime:0,pseudoElement:0}),tg=Dt(eg),ng=S({},si,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ig=Dt(ng),og=S({},si,{data:0}),ec=Dt(og),lg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ag={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=sg[e])?!!t[e]:!1}function us(){return rg}var ug=S({},Mo,{key:function(e){if(e.key){var t=lg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=xl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ag[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:us,charCode:function(e){return e.type==="keypress"?xl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),cg=Dt(ug),fg=S({},Nl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tc=Dt(fg),dg=S({},Mo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:us}),pg=Dt(dg),mg=S({},si,{propertyName:0,elapsedTime:0,pseudoElement:0}),hg=Dt(mg),gg=S({},Nl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yg=Dt(gg),vg=S({},si,{newState:0,oldState:0}),Tg=Dt(vg),Sg=[9,13,27,32],cs=mn&&"CompositionEvent"in window,No=null;mn&&"documentMode"in document&&(No=document.documentMode);var Eg=mn&&"TextEvent"in window&&!No,nc=mn&&(!cs||No&&8<No&&11>=No),ic=" ",oc=!1;function lc(e,t){switch(e){case"keyup":return Sg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ac(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Li=!1;function _g(e,t){switch(e){case"compositionend":return ac(t);case"keypress":return t.which!==32?null:(oc=!0,ic);case"textInput":return e=t.data,e===ic&&oc?null:e;default:return null}}function Cg(e,t){if(Li)return e==="compositionend"||!cs&&lc(e,t)?(e=$u(),Al=ls=Ln=null,Li=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nc&&t.locale!=="ko"?null:t.data;default:return null}}var Ag={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ag[e.type]:t==="textarea"}function rc(e,t,o,s){bi?Ui?Ui.push(s):Ui=[s]:bi=s,t=ya(t,"onChange"),0<t.length&&(o=new Rl("onChange","change",null,o,s),e.push({event:o,listeners:t}))}var Do=null,Io=null;function xg(e){Yd(e,0)}function Dl(e){var t=Co(e);if(Ou(t))return e}function uc(e,t){if(e==="change")return t}var cc=!1;if(mn){var fs;if(mn){var ds="oninput"in document;if(!ds){var fc=document.createElement("div");fc.setAttribute("oninput","return;"),ds=typeof fc.oninput=="function"}fs=ds}else fs=!1;cc=fs&&(!document.documentMode||9<document.documentMode)}function dc(){Do&&(Do.detachEvent("onpropertychange",pc),Io=Do=null)}function pc(e){if(e.propertyName==="value"&&Dl(Io)){var t=[];rc(t,Io,e,ns(e)),Zu(xg,t)}}function Mg(e,t,o){e==="focusin"?(dc(),Do=t,Io=o,Do.attachEvent("onpropertychange",pc)):e==="focusout"&&dc()}function Rg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Dl(Io)}function Ng(e,t){if(e==="click")return Dl(t)}function Dg(e,t){if(e==="input"||e==="change")return Dl(t)}function Ig(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qt=typeof Object.is=="function"?Object.is:Ig;function wo(e,t){if(qt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var o=Object.keys(e),s=Object.keys(t);if(o.length!==s.length)return!1;for(s=0;s<o.length;s++){var f=o[s];if(!K.call(t,f)||!qt(e[f],t[f]))return!1}return!0}function mc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hc(e,t){var o=mc(e);e=0;for(var s;o;){if(o.nodeType===3){if(s=e+o.textContent.length,e<=t&&s>=t)return{node:o,offset:t-e};e=s}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=mc(o)}}function gc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function yc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=_l(e.document);t instanceof e.HTMLIFrameElement;){try{var o=typeof t.contentWindow.location.href=="string"}catch{o=!1}if(o)e=t.contentWindow;else break;t=_l(e.document)}return t}function ps(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var wg=mn&&"documentMode"in document&&11>=document.documentMode,qi=null,ms=null,bo=null,hs=!1;function vc(e,t,o){var s=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;hs||qi==null||qi!==_l(s)||(s=qi,"selectionStart"in s&&ps(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),bo&&wo(bo,s)||(bo=s,s=ya(ms,"onSelect"),0<s.length&&(t=new Rl("onSelect","select",null,t,o),e.push({event:t,listeners:s}),t.target=qi)))}function ri(e,t){var o={};return o[e.toLowerCase()]=t.toLowerCase(),o["Webkit"+e]="webkit"+t,o["Moz"+e]="moz"+t,o}var Gi={animationend:ri("Animation","AnimationEnd"),animationiteration:ri("Animation","AnimationIteration"),animationstart:ri("Animation","AnimationStart"),transitionrun:ri("Transition","TransitionRun"),transitionstart:ri("Transition","TransitionStart"),transitioncancel:ri("Transition","TransitionCancel"),transitionend:ri("Transition","TransitionEnd")},gs={},Tc={};mn&&(Tc=document.createElement("div").style,"AnimationEvent"in window||(delete Gi.animationend.animation,delete Gi.animationiteration.animation,delete Gi.animationstart.animation),"TransitionEvent"in window||delete Gi.transitionend.transition);function ui(e){if(gs[e])return gs[e];if(!Gi[e])return e;var t=Gi[e],o;for(o in t)if(t.hasOwnProperty(o)&&o in Tc)return gs[e]=t[o];return e}var Sc=ui("animationend"),Ec=ui("animationiteration"),_c=ui("animationstart"),bg=ui("transitionrun"),Ug=ui("transitionstart"),Lg=ui("transitioncancel"),Cc=ui("transitionend"),Ac=new Map,ys="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ys.push("scrollEnd");function tn(e,t){Ac.set(e,t),ai(t,[e])}var Il=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ft=[],Hi=0,vs=0;function wl(){for(var e=Hi,t=vs=Hi=0;t<e;){var o=Ft[t];Ft[t++]=null;var s=Ft[t];Ft[t++]=null;var f=Ft[t];Ft[t++]=null;var p=Ft[t];if(Ft[t++]=null,s!==null&&f!==null){var T=s.pending;T===null?f.next=f:(f.next=T.next,T.next=f),s.pending=f}p!==0&&xc(o,f,p)}}function bl(e,t,o,s){Ft[Hi++]=e,Ft[Hi++]=t,Ft[Hi++]=o,Ft[Hi++]=s,vs|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Ts(e,t,o,s){return bl(e,t,o,s),Ul(e)}function ci(e,t){return bl(e,null,null,t),Ul(e)}function xc(e,t,o){e.lanes|=o;var s=e.alternate;s!==null&&(s.lanes|=o);for(var f=!1,p=e.return;p!==null;)p.childLanes|=o,s=p.alternate,s!==null&&(s.childLanes|=o),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(f=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,f&&t!==null&&(f=31-xt(o),e=p.hiddenUpdates,s=e[f],s===null?e[f]=[t]:s.push(t),t.lane=o|536870912),p):null}function Ul(e){if(50<el)throw el=0,Nr=null,Error(a(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Pi={};function qg(e,t,o,s){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gt(e,t,o,s){return new qg(e,t,o,s)}function Ss(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hn(e,t){var o=e.alternate;return o===null?(o=Gt(e.tag,t,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=t,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,t=e.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function Mc(e,t){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,t=o.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ll(e,t,o,s,f,p){var T=0;if(s=e,typeof e=="function")Ss(e)&&(T=1);else if(typeof e=="string")T=zy(e,o,O.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case re:return e=Gt(31,o,t,f),e.elementType=re,e.lanes=p,e;case b:return fi(o.children,f,p,t);case J:T=8,f|=24;break;case te:return e=Gt(12,o,t,f|2),e.elementType=te,e.lanes=p,e;case ee:return e=Gt(13,o,t,f),e.elementType=ee,e.lanes=p,e;case ne:return e=Gt(19,o,t,f),e.elementType=ne,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Q:T=10;break e;case le:T=9;break e;case Z:T=11;break e;case j:T=14;break e;case Ee:T=16,s=null;break e}T=29,o=Error(a(130,e===null?"null":typeof e,"")),s=null}return t=Gt(T,o,t,f),t.elementType=e,t.type=s,t.lanes=p,t}function fi(e,t,o,s){return e=Gt(7,e,s,t),e.lanes=o,e}function Es(e,t,o){return e=Gt(6,e,null,t),e.lanes=o,e}function Rc(e){var t=Gt(18,null,null,0);return t.stateNode=e,t}function _s(e,t,o){return t=Gt(4,e.children!==null?e.children:[],e.key,t),t.lanes=o,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Nc=new WeakMap;function Yt(e,t){if(typeof e=="object"&&e!==null){var o=Nc.get(e);return o!==void 0?o:(t={value:e,source:t,stack:hl(t)},Nc.set(e,t),t)}return{value:e,source:t,stack:hl(t)}}var Vi=[],zi=0,ql=null,Uo=0,Jt=[],Kt=0,qn=null,an=1,sn="";function gn(e,t){Vi[zi++]=Uo,Vi[zi++]=ql,ql=e,Uo=t}function Dc(e,t,o){Jt[Kt++]=an,Jt[Kt++]=sn,Jt[Kt++]=qn,qn=e;var s=an;e=sn;var f=32-xt(s)-1;s&=~(1<<f),o+=1;var p=32-xt(t)+f;if(30<p){var T=f-f%5;p=(s&(1<<T)-1).toString(32),s>>=T,f-=T,an=1<<32-xt(t)+f|o<<f|s,sn=p+e}else an=1<<p|o<<f|s,sn=e}function Cs(e){e.return!==null&&(gn(e,1),Dc(e,1,0))}function As(e){for(;e===ql;)ql=Vi[--zi],Vi[zi]=null,Uo=Vi[--zi],Vi[zi]=null;for(;e===qn;)qn=Jt[--Kt],Jt[Kt]=null,sn=Jt[--Kt],Jt[Kt]=null,an=Jt[--Kt],Jt[Kt]=null}function Ic(e,t){Jt[Kt++]=an,Jt[Kt++]=sn,Jt[Kt++]=qn,an=t.id,sn=t.overflow,qn=e}var vt=null,$e=null,Ue=!1,Gn=null,Xt=!1,xs=Error(a(519));function Hn(e){var t=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Lo(Yt(t,e)),xs}function wc(e){var t=e.stateNode,o=e.type,s=e.memoizedProps;switch(t[yt]=e,t[Nt]=s,o){case"dialog":Ie("cancel",t),Ie("close",t);break;case"iframe":case"object":case"embed":Ie("load",t);break;case"video":case"audio":for(o=0;o<nl.length;o++)Ie(nl[o],t);break;case"source":Ie("error",t);break;case"img":case"image":case"link":Ie("error",t),Ie("load",t);break;case"details":Ie("toggle",t);break;case"input":Ie("invalid",t),Fu(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Ie("invalid",t);break;case"textarea":Ie("invalid",t),Ju(t,s.value,s.defaultValue,s.children)}o=s.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||t.textContent===""+o||s.suppressHydrationWarning===!0||Qd(t.textContent,o)?(s.popover!=null&&(Ie("beforetoggle",t),Ie("toggle",t)),s.onScroll!=null&&Ie("scroll",t),s.onScrollEnd!=null&&Ie("scrollend",t),s.onClick!=null&&(t.onclick=pn),t=!0):t=!1,t||Hn(e,!0)}function bc(e){for(vt=e.return;vt;)switch(vt.tag){case 5:case 31:case 13:Xt=!1;return;case 27:case 3:Xt=!0;return;default:vt=vt.return}}function Bi(e){if(e!==vt)return!1;if(!Ue)return bc(e),Ue=!0,!1;var t=e.tag,o;if((o=t!==3&&t!==27)&&((o=t===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||Or(e.type,e.memoizedProps)),o=!o),o&&$e&&Hn(e),bc(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));$e=op(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));$e=op(e)}else t===27?(t=$e,$n(e.type)?(e=Xr,Xr=null,$e=e):$e=t):$e=vt?Zt(e.stateNode.nextSibling):null;return!0}function di(){$e=vt=null,Ue=!1}function Ms(){var e=Gn;return e!==null&&(Ut===null?Ut=e:Ut.push.apply(Ut,e),Gn=null),e}function Lo(e){Gn===null?Gn=[e]:Gn.push(e)}var Rs=A(null),pi=null,yn=null;function Pn(e,t,o){P(Rs,t._currentValue),t._currentValue=o}function vn(e){e._currentValue=Rs.current,R(Rs)}function Ns(e,t,o){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===o)break;e=e.return}}function Ds(e,t,o,s){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var p=f.dependencies;if(p!==null){var T=f.child;p=p.firstContext;e:for(;p!==null;){var _=p;p=f;for(var x=0;x<t.length;x++)if(_.context===t[x]){p.lanes|=o,_=p.alternate,_!==null&&(_.lanes|=o),Ns(p.return,o,e),s||(T=null);break e}p=_.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(a(341));T.lanes|=o,p=T.alternate,p!==null&&(p.lanes|=o),Ns(T,o,e),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===e){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function ki(e,t,o,s){e=null;for(var f=t,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var _=f.type;qt(f.pendingProps.value,T.value)||(e!==null?e.push(_):e=[_])}}else if(f===he.current){if(T=f.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(sl):e=[sl])}f=f.return}e!==null&&Ds(t,e,o,s),t.flags|=262144}function Gl(e){for(e=e.firstContext;e!==null;){if(!qt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function mi(e){pi=e,yn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Tt(e){return Uc(pi,e)}function Hl(e,t){return pi===null&&mi(e),Uc(e,t)}function Uc(e,t){var o=t._currentValue;if(t={context:t,memoizedValue:o,next:null},yn===null){if(e===null)throw Error(a(308));yn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else yn=yn.next=t;return o}var Gg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(o,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(o){return o()})}},Hg=i.unstable_scheduleCallback,Pg=i.unstable_NormalPriority,rt={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Is(){return{controller:new Gg,data:new Map,refCount:0}}function qo(e){e.refCount--,e.refCount===0&&Hg(Pg,function(){e.controller.abort()})}var Go=null,ws=0,Oi=0,Fi=null;function Vg(e,t){if(Go===null){var o=Go=[];ws=0,Oi=Lr(),Fi={status:"pending",value:void 0,then:function(s){o.push(s)}}}return ws++,t.then(Lc,Lc),t}function Lc(){if(--ws===0&&Go!==null){Fi!==null&&(Fi.status="fulfilled");var e=Go;Go=null,Oi=0,Fi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function zg(e,t){var o=[],s={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var f=0;f<o.length;f++)(0,o[f])(t)},function(f){for(s.status="rejected",s.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),s}var qc=G.S;G.S=function(e,t){Td=Ce(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Vg(e,t),qc!==null&&qc(e,t)};var hi=A(null);function bs(){var e=hi.current;return e!==null?e:Ke.pooledCache}function Pl(e,t){t===null?P(hi,hi.current):P(hi,t.pool)}function Gc(){var e=bs();return e===null?null:{parent:rt._currentValue,pool:e}}var Yi=Error(a(460)),Us=Error(a(474)),Vl=Error(a(542)),zl={then:function(){}};function Hc(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Pc(e,t,o){switch(o=e[o],o===void 0?e.push(t):o!==t&&(t.then(pn,pn),t=o),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,zc(e),e;default:if(typeof t.status=="string")t.then(pn,pn);else{if(e=Ke,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var f=t;f.status="fulfilled",f.value=s}},function(s){if(t.status==="pending"){var f=t;f.status="rejected",f.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,zc(e),e}throw yi=t,Yi}}function gi(e){try{var t=e._init;return t(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(yi=o,Yi):o}}var yi=null;function Vc(){if(yi===null)throw Error(a(459));var e=yi;return yi=null,e}function zc(e){if(e===Yi||e===Vl)throw Error(a(483))}var Ji=null,Ho=0;function Bl(e){var t=Ho;return Ho+=1,Ji===null&&(Ji=[]),Pc(Ji,e,t)}function Po(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function kl(e,t){throw t.$$typeof===C?Error(a(525)):(e=Object.prototype.toString.call(t),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Bc(e){function t(D,N){if(e){var I=D.deletions;I===null?(D.deletions=[N],D.flags|=16):I.push(N)}}function o(D,N){if(!e)return null;for(;N!==null;)t(D,N),N=N.sibling;return null}function s(D){for(var N=new Map;D!==null;)D.key!==null?N.set(D.key,D):N.set(D.index,D),D=D.sibling;return N}function f(D,N){return D=hn(D,N),D.index=0,D.sibling=null,D}function p(D,N,I){return D.index=I,e?(I=D.alternate,I!==null?(I=I.index,I<N?(D.flags|=67108866,N):I):(D.flags|=67108866,N)):(D.flags|=1048576,N)}function T(D){return e&&D.alternate===null&&(D.flags|=67108866),D}function _(D,N,I,z){return N===null||N.tag!==6?(N=Es(I,D.mode,z),N.return=D,N):(N=f(N,I),N.return=D,N)}function x(D,N,I,z){var pe=I.type;return pe===b?V(D,N,I.props.children,z,I.key):N!==null&&(N.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Ee&&gi(pe)===N.type)?(N=f(N,I.props),Po(N,I),N.return=D,N):(N=Ll(I.type,I.key,I.props,null,D.mode,z),Po(N,I),N.return=D,N)}function w(D,N,I,z){return N===null||N.tag!==4||N.stateNode.containerInfo!==I.containerInfo||N.stateNode.implementation!==I.implementation?(N=_s(I,D.mode,z),N.return=D,N):(N=f(N,I.children||[]),N.return=D,N)}function V(D,N,I,z,pe){return N===null||N.tag!==7?(N=fi(I,D.mode,z,pe),N.return=D,N):(N=f(N,I),N.return=D,N)}function B(D,N,I){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Es(""+N,D.mode,I),N.return=D,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case M:return I=Ll(N.type,N.key,N.props,null,D.mode,I),Po(I,N),I.return=D,I;case H:return N=_s(N,D.mode,I),N.return=D,N;case Ee:return N=gi(N),B(D,N,I)}if(Xe(N)||ye(N))return N=fi(N,D.mode,I,null),N.return=D,N;if(typeof N.then=="function")return B(D,Bl(N),I);if(N.$$typeof===Q)return B(D,Hl(D,N),I);kl(D,N)}return null}function U(D,N,I,z){var pe=N!==null?N.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return pe!==null?null:_(D,N,""+I,z);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case M:return I.key===pe?x(D,N,I,z):null;case H:return I.key===pe?w(D,N,I,z):null;case Ee:return I=gi(I),U(D,N,I,z)}if(Xe(I)||ye(I))return pe!==null?null:V(D,N,I,z,null);if(typeof I.then=="function")return U(D,N,Bl(I),z);if(I.$$typeof===Q)return U(D,N,Hl(D,I),z);kl(D,I)}return null}function q(D,N,I,z,pe){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return D=D.get(I)||null,_(N,D,""+z,pe);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case M:return D=D.get(z.key===null?I:z.key)||null,x(N,D,z,pe);case H:return D=D.get(z.key===null?I:z.key)||null,w(N,D,z,pe);case Ee:return z=gi(z),q(D,N,I,z,pe)}if(Xe(z)||ye(z))return D=D.get(I)||null,V(N,D,z,pe,null);if(typeof z.then=="function")return q(D,N,I,Bl(z),pe);if(z.$$typeof===Q)return q(D,N,I,Hl(N,z),pe);kl(N,z)}return null}function se(D,N,I,z){for(var pe=null,Le=null,ce=N,Re=N=0,be=null;ce!==null&&Re<I.length;Re++){ce.index>Re?(be=ce,ce=null):be=ce.sibling;var qe=U(D,ce,I[Re],z);if(qe===null){ce===null&&(ce=be);break}e&&ce&&qe.alternate===null&&t(D,ce),N=p(qe,N,Re),Le===null?pe=qe:Le.sibling=qe,Le=qe,ce=be}if(Re===I.length)return o(D,ce),Ue&&gn(D,Re),pe;if(ce===null){for(;Re<I.length;Re++)ce=B(D,I[Re],z),ce!==null&&(N=p(ce,N,Re),Le===null?pe=ce:Le.sibling=ce,Le=ce);return Ue&&gn(D,Re),pe}for(ce=s(ce);Re<I.length;Re++)be=q(ce,D,Re,I[Re],z),be!==null&&(e&&be.alternate!==null&&ce.delete(be.key===null?Re:be.key),N=p(be,N,Re),Le===null?pe=be:Le.sibling=be,Le=be);return e&&ce.forEach(function(ni){return t(D,ni)}),Ue&&gn(D,Re),pe}function Te(D,N,I,z){if(I==null)throw Error(a(151));for(var pe=null,Le=null,ce=N,Re=N=0,be=null,qe=I.next();ce!==null&&!qe.done;Re++,qe=I.next()){ce.index>Re?(be=ce,ce=null):be=ce.sibling;var ni=U(D,ce,qe.value,z);if(ni===null){ce===null&&(ce=be);break}e&&ce&&ni.alternate===null&&t(D,ce),N=p(ni,N,Re),Le===null?pe=ni:Le.sibling=ni,Le=ni,ce=be}if(qe.done)return o(D,ce),Ue&&gn(D,Re),pe;if(ce===null){for(;!qe.done;Re++,qe=I.next())qe=B(D,qe.value,z),qe!==null&&(N=p(qe,N,Re),Le===null?pe=qe:Le.sibling=qe,Le=qe);return Ue&&gn(D,Re),pe}for(ce=s(ce);!qe.done;Re++,qe=I.next())qe=q(ce,D,Re,qe.value,z),qe!==null&&(e&&qe.alternate!==null&&ce.delete(qe.key===null?Re:qe.key),N=p(qe,N,Re),Le===null?pe=qe:Le.sibling=qe,Le=qe);return e&&ce.forEach(function($y){return t(D,$y)}),Ue&&gn(D,Re),pe}function Fe(D,N,I,z){if(typeof I=="object"&&I!==null&&I.type===b&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case M:e:{for(var pe=I.key;N!==null;){if(N.key===pe){if(pe=I.type,pe===b){if(N.tag===7){o(D,N.sibling),z=f(N,I.props.children),z.return=D,D=z;break e}}else if(N.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Ee&&gi(pe)===N.type){o(D,N.sibling),z=f(N,I.props),Po(z,I),z.return=D,D=z;break e}o(D,N);break}else t(D,N);N=N.sibling}I.type===b?(z=fi(I.props.children,D.mode,z,I.key),z.return=D,D=z):(z=Ll(I.type,I.key,I.props,null,D.mode,z),Po(z,I),z.return=D,D=z)}return T(D);case H:e:{for(pe=I.key;N!==null;){if(N.key===pe)if(N.tag===4&&N.stateNode.containerInfo===I.containerInfo&&N.stateNode.implementation===I.implementation){o(D,N.sibling),z=f(N,I.children||[]),z.return=D,D=z;break e}else{o(D,N);break}else t(D,N);N=N.sibling}z=_s(I,D.mode,z),z.return=D,D=z}return T(D);case Ee:return I=gi(I),Fe(D,N,I,z)}if(Xe(I))return se(D,N,I,z);if(ye(I)){if(pe=ye(I),typeof pe!="function")throw Error(a(150));return I=pe.call(I),Te(D,N,I,z)}if(typeof I.then=="function")return Fe(D,N,Bl(I),z);if(I.$$typeof===Q)return Fe(D,N,Hl(D,I),z);kl(D,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,N!==null&&N.tag===6?(o(D,N.sibling),z=f(N,I),z.return=D,D=z):(o(D,N),z=Es(I,D.mode,z),z.return=D,D=z),T(D)):o(D,N)}return function(D,N,I,z){try{Ho=0;var pe=Fe(D,N,I,z);return Ji=null,pe}catch(ce){if(ce===Yi||ce===Vl)throw ce;var Le=Gt(29,ce,null,D.mode);return Le.lanes=z,Le.return=D,Le}finally{}}}var vi=Bc(!0),kc=Bc(!1),Vn=!1;function Ls(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function zn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Bn(e,t,o){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(He&2)!==0){var f=s.pending;return f===null?t.next=t:(t.next=f.next,f.next=t),s.pending=t,t=Ul(e),xc(e,null,o),t}return bl(e,s,t,o),Ul(e)}function Vo(e,t,o){if(t=t.updateQueue,t!==null&&(t=t.shared,(o&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,o|=s,t.lanes=o,Uu(e,o)}}function Gs(e,t){var o=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,o===s)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?f=p=T:p=p.next=T,o=o.next}while(o!==null);p===null?f=p=t:p=p.next=t}else f=p=t;o={baseState:s.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:s.shared,callbacks:s.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=t:e.next=t,o.lastBaseUpdate=t}var Hs=!1;function zo(){if(Hs){var e=Fi;if(e!==null)throw e}}function Bo(e,t,o,s){Hs=!1;var f=e.updateQueue;Vn=!1;var p=f.firstBaseUpdate,T=f.lastBaseUpdate,_=f.shared.pending;if(_!==null){f.shared.pending=null;var x=_,w=x.next;x.next=null,T===null?p=w:T.next=w,T=x;var V=e.alternate;V!==null&&(V=V.updateQueue,_=V.lastBaseUpdate,_!==T&&(_===null?V.firstBaseUpdate=w:_.next=w,V.lastBaseUpdate=x))}if(p!==null){var B=f.baseState;T=0,V=w=x=null,_=p;do{var U=_.lane&-536870913,q=U!==_.lane;if(q?(we&U)===U:(s&U)===U){U!==0&&U===Oi&&(Hs=!0),V!==null&&(V=V.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var se=e,Te=_;U=t;var Fe=o;switch(Te.tag){case 1:if(se=Te.payload,typeof se=="function"){B=se.call(Fe,B,U);break e}B=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=Te.payload,U=typeof se=="function"?se.call(Fe,B,U):se,U==null)break e;B=S({},B,U);break e;case 2:Vn=!0}}U=_.callback,U!==null&&(e.flags|=64,q&&(e.flags|=8192),q=f.callbacks,q===null?f.callbacks=[U]:q.push(U))}else q={lane:U,tag:_.tag,payload:_.payload,callback:_.callback,next:null},V===null?(w=V=q,x=B):V=V.next=q,T|=U;if(_=_.next,_===null){if(_=f.shared.pending,_===null)break;q=_,_=q.next,q.next=null,f.lastBaseUpdate=q,f.shared.pending=null}}while(!0);V===null&&(x=B),f.baseState=x,f.firstBaseUpdate=w,f.lastBaseUpdate=V,p===null&&(f.shared.lanes=0),Jn|=T,e.lanes=T,e.memoizedState=B}}function Oc(e,t){if(typeof e!="function")throw Error(a(191,e));e.call(t)}function Fc(e,t){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)Oc(o[e],t)}var Ki=A(null),Ol=A(0);function Yc(e,t){e=Rn,P(Ol,e),P(Ki,t),Rn=e|t.baseLanes}function Ps(){P(Ol,Rn),P(Ki,Ki.current)}function Vs(){Rn=Ol.current,R(Ki),R(Ol)}var Ht=A(null),Qt=null;function kn(e){var t=e.alternate;P(ot,ot.current&1),P(Ht,e),Qt===null&&(t===null||Ki.current!==null||t.memoizedState!==null)&&(Qt=e)}function zs(e){P(ot,ot.current),P(Ht,e),Qt===null&&(Qt=e)}function Jc(e){e.tag===22?(P(ot,ot.current),P(Ht,e),Qt===null&&(Qt=e)):On()}function On(){P(ot,ot.current),P(Ht,Ht.current)}function Pt(e){R(Ht),Qt===e&&(Qt=null),R(ot)}var ot=A(0);function Fl(e){for(var t=e;t!==null;){if(t.tag===13){var o=t.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Jr(o)||Kr(o)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Tn=0,Me=null,ke=null,ut=null,Yl=!1,Xi=!1,Ti=!1,Jl=0,ko=0,Qi=null,Bg=0;function nt(){throw Error(a(321))}function Bs(e,t){if(t===null)return!1;for(var o=0;o<t.length&&o<e.length;o++)if(!qt(e[o],t[o]))return!1;return!0}function ks(e,t,o,s,f,p){return Tn=p,Me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,G.H=e===null||e.memoizedState===null?If:ir,Ti=!1,p=o(s,f),Ti=!1,Xi&&(p=Xc(t,o,s,f)),Kc(e),p}function Kc(e){G.H=Yo;var t=ke!==null&&ke.next!==null;if(Tn=0,ut=ke=Me=null,Yl=!1,ko=0,Qi=null,t)throw Error(a(300));e===null||ct||(e=e.dependencies,e!==null&&Gl(e)&&(ct=!0))}function Xc(e,t,o,s){Me=e;var f=0;do{if(Xi&&(Qi=null),ko=0,Xi=!1,25<=f)throw Error(a(301));if(f+=1,ut=ke=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}G.H=wf,p=t(o,s)}while(Xi);return p}function kg(){var e=G.H,t=e.useState()[0];return t=typeof t.then=="function"?Oo(t):t,e=e.useState()[0],(ke!==null?ke.memoizedState:null)!==e&&(Me.flags|=1024),t}function Os(){var e=Jl!==0;return Jl=0,e}function Fs(e,t,o){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o}function Ys(e){if(Yl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Yl=!1}Tn=0,ut=ke=Me=null,Xi=!1,ko=Jl=0,Qi=null}function Mt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?Me.memoizedState=ut=e:ut=ut.next=e,ut}function lt(){if(ke===null){var e=Me.alternate;e=e!==null?e.memoizedState:null}else e=ke.next;var t=ut===null?Me.memoizedState:ut.next;if(t!==null)ut=t,ke=e;else{if(e===null)throw Me.alternate===null?Error(a(467)):Error(a(310));ke=e,e={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},ut===null?Me.memoizedState=ut=e:ut=ut.next=e}return ut}function Kl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Oo(e){var t=ko;return ko+=1,Qi===null&&(Qi=[]),e=Pc(Qi,e,t),t=Me,(ut===null?t.memoizedState:ut.next)===null&&(t=t.alternate,G.H=t===null||t.memoizedState===null?If:ir),e}function Xl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Oo(e);if(e.$$typeof===Q)return Tt(e)}throw Error(a(438,String(e)))}function Js(e){var t=null,o=Me.updateQueue;if(o!==null&&(t=o.memoCache),t==null){var s=Me.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(f){return f.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),o===null&&(o=Kl(),Me.updateQueue=o),o.memoCache=t,o=t.data[t.index],o===void 0)for(o=t.data[t.index]=Array(e),s=0;s<e;s++)o[s]=me;return t.index++,o}function Sn(e,t){return typeof t=="function"?t(e):t}function Ql(e){var t=lt();return Ks(t,ke,e)}function Ks(e,t,o){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=o;var f=e.baseQueue,p=s.pending;if(p!==null){if(f!==null){var T=f.next;f.next=p.next,p.next=T}t.baseQueue=f=p,s.pending=null}if(p=e.baseState,f===null)e.memoizedState=p;else{t=f.next;var _=T=null,x=null,w=t,V=!1;do{var B=w.lane&-536870913;if(B!==w.lane?(we&B)===B:(Tn&B)===B){var U=w.revertLane;if(U===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),B===Oi&&(V=!0);else if((Tn&U)===U){w=w.next,U===Oi&&(V=!0);continue}else B={lane:0,revertLane:w.revertLane,gesture:null,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},x===null?(_=x=B,T=p):x=x.next=B,Me.lanes|=U,Jn|=U;B=w.action,Ti&&o(p,B),p=w.hasEagerState?w.eagerState:o(p,B)}else U={lane:B,revertLane:w.revertLane,gesture:w.gesture,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},x===null?(_=x=U,T=p):x=x.next=U,Me.lanes|=B,Jn|=B;w=w.next}while(w!==null&&w!==t);if(x===null?T=p:x.next=_,!qt(p,e.memoizedState)&&(ct=!0,V&&(o=Fi,o!==null)))throw o;e.memoizedState=p,e.baseState=T,e.baseQueue=x,s.lastRenderedState=p}return f===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Xs(e){var t=lt(),o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=e;var s=o.dispatch,f=o.pending,p=t.memoizedState;if(f!==null){o.pending=null;var T=f=f.next;do p=e(p,T.action),T=T.next;while(T!==f);qt(p,t.memoizedState)||(ct=!0),t.memoizedState=p,t.baseQueue===null&&(t.baseState=p),o.lastRenderedState=p}return[p,s]}function Qc(e,t,o){var s=Me,f=lt(),p=Ue;if(p){if(o===void 0)throw Error(a(407));o=o()}else o=t();var T=!qt((ke||f).memoizedState,o);if(T&&(f.memoizedState=o,ct=!0),f=f.queue,$s(Wc.bind(null,s,f,e),[e]),f.getSnapshot!==t||T||ut!==null&&ut.memoizedState.tag&1){if(s.flags|=2048,Zi(9,{destroy:void 0},$c.bind(null,s,f,o,t),null),Ke===null)throw Error(a(349));p||(Tn&127)!==0||Zc(s,t,o)}return o}function Zc(e,t,o){e.flags|=16384,e={getSnapshot:t,value:o},t=Me.updateQueue,t===null?(t=Kl(),Me.updateQueue=t,t.stores=[e]):(o=t.stores,o===null?t.stores=[e]:o.push(e))}function $c(e,t,o,s){t.value=o,t.getSnapshot=s,jc(t)&&ef(e)}function Wc(e,t,o){return o(function(){jc(t)&&ef(e)})}function jc(e){var t=e.getSnapshot;e=e.value;try{var o=t();return!qt(e,o)}catch{return!0}}function ef(e){var t=ci(e,2);t!==null&&Lt(t,e,2)}function Qs(e){var t=Mt();if(typeof e=="function"){var o=e;if(e=o(),Ti){_t(!0);try{o()}finally{_t(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:e},t}function tf(e,t,o,s){return e.baseState=o,Ks(e,ke,typeof s=="function"?s:Sn)}function Og(e,t,o,s,f){if(Wl(e))throw Error(a(485));if(e=t.action,e!==null){var p={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};G.T!==null?o(!0):p.isTransition=!1,s(p),o=t.pending,o===null?(p.next=t.pending=p,nf(t,p)):(p.next=o.next,t.pending=o.next=p)}}function nf(e,t){var o=t.action,s=t.payload,f=e.state;if(t.isTransition){var p=G.T,T={};G.T=T;try{var _=o(f,s),x=G.S;x!==null&&x(T,_),of(e,t,_)}catch(w){Zs(e,t,w)}finally{p!==null&&T.types!==null&&(p.types=T.types),G.T=p}}else try{p=o(f,s),of(e,t,p)}catch(w){Zs(e,t,w)}}function of(e,t,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(s){lf(e,t,s)},function(s){return Zs(e,t,s)}):lf(e,t,o)}function lf(e,t,o){t.status="fulfilled",t.value=o,af(t),e.state=o,t=e.pending,t!==null&&(o=t.next,o===t?e.pending=null:(o=o.next,t.next=o,nf(e,o)))}function Zs(e,t,o){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=o,af(t),t=t.next;while(t!==s)}e.action=null}function af(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function sf(e,t){return t}function rf(e,t){if(Ue){var o=Ke.formState;if(o!==null){e:{var s=Me;if(Ue){if($e){t:{for(var f=$e,p=Xt;f.nodeType!==8;){if(!p){f=null;break t}if(f=Zt(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){$e=Zt(f.nextSibling),s=f.data==="F!";break e}}Hn(s)}s=!1}s&&(t=o[0])}}return o=Mt(),o.memoizedState=o.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sf,lastRenderedState:t},o.queue=s,o=Rf.bind(null,Me,s),s.dispatch=o,s=Qs(!1),p=nr.bind(null,Me,!1,s.queue),s=Mt(),f={state:t,dispatch:null,action:e,pending:null},s.queue=f,o=Og.bind(null,Me,f,p,o),f.dispatch=o,s.memoizedState=e,[t,o,!1]}function uf(e){var t=lt();return cf(t,ke,e)}function cf(e,t,o){if(t=Ks(e,t,sf)[0],e=Ql(Sn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Oo(t)}catch(T){throw T===Yi?Vl:T}else s=t;t=lt();var f=t.queue,p=f.dispatch;return o!==t.memoizedState&&(Me.flags|=2048,Zi(9,{destroy:void 0},Fg.bind(null,f,o),null)),[s,p,e]}function Fg(e,t){e.action=t}function ff(e){var t=lt(),o=ke;if(o!==null)return cf(t,o,e);lt(),t=t.memoizedState,o=lt();var s=o.queue.dispatch;return o.memoizedState=e,[t,s,!1]}function Zi(e,t,o,s){return e={tag:e,create:o,deps:s,inst:t,next:null},t=Me.updateQueue,t===null&&(t=Kl(),Me.updateQueue=t),o=t.lastEffect,o===null?t.lastEffect=e.next=e:(s=o.next,o.next=e,e.next=s,t.lastEffect=e),e}function df(){return lt().memoizedState}function Zl(e,t,o,s){var f=Mt();Me.flags|=e,f.memoizedState=Zi(1|t,{destroy:void 0},o,s===void 0?null:s)}function $l(e,t,o,s){var f=lt();s=s===void 0?null:s;var p=f.memoizedState.inst;ke!==null&&s!==null&&Bs(s,ke.memoizedState.deps)?f.memoizedState=Zi(t,p,o,s):(Me.flags|=e,f.memoizedState=Zi(1|t,p,o,s))}function pf(e,t){Zl(8390656,8,e,t)}function $s(e,t){$l(2048,8,e,t)}function Yg(e){Me.flags|=4;var t=Me.updateQueue;if(t===null)t=Kl(),Me.updateQueue=t,t.events=[e];else{var o=t.events;o===null?t.events=[e]:o.push(e)}}function mf(e){var t=lt().memoizedState;return Yg({ref:t,nextImpl:e}),function(){if((He&2)!==0)throw Error(a(440));return t.impl.apply(void 0,arguments)}}function hf(e,t){return $l(4,2,e,t)}function gf(e,t){return $l(4,4,e,t)}function yf(e,t){if(typeof t=="function"){e=e();var o=t(e);return function(){typeof o=="function"?o():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function vf(e,t,o){o=o!=null?o.concat([e]):null,$l(4,4,yf.bind(null,t,e),o)}function Ws(){}function Tf(e,t){var o=lt();t=t===void 0?null:t;var s=o.memoizedState;return t!==null&&Bs(t,s[1])?s[0]:(o.memoizedState=[e,t],e)}function Sf(e,t){var o=lt();t=t===void 0?null:t;var s=o.memoizedState;if(t!==null&&Bs(t,s[1]))return s[0];if(s=e(),Ti){_t(!0);try{e()}finally{_t(!1)}}return o.memoizedState=[s,t],s}function js(e,t,o){return o===void 0||(Tn&1073741824)!==0&&(we&261930)===0?e.memoizedState=t:(e.memoizedState=o,e=Ed(),Me.lanes|=e,Jn|=e,o)}function Ef(e,t,o,s){return qt(o,t)?o:Ki.current!==null?(e=js(e,o,s),qt(e,t)||(ct=!0),e):(Tn&42)===0||(Tn&1073741824)!==0&&(we&261930)===0?(ct=!0,e.memoizedState=o):(e=Ed(),Me.lanes|=e,Jn|=e,t)}function _f(e,t,o,s,f){var p=$.p;$.p=p!==0&&8>p?p:8;var T=G.T,_={};G.T=_,nr(e,!1,t,o);try{var x=f(),w=G.S;if(w!==null&&w(_,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var V=zg(x,s);Fo(e,t,V,Bt(e))}else Fo(e,t,s,Bt(e))}catch(B){Fo(e,t,{then:function(){},status:"rejected",reason:B},Bt())}finally{$.p=p,T!==null&&_.types!==null&&(T.types=_.types),G.T=T}}function Jg(){}function er(e,t,o,s){if(e.tag!==5)throw Error(a(476));var f=Cf(e).queue;_f(e,f,t,X,o===null?Jg:function(){return Af(e),o(s)})}function Cf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:X},next:null};var o={};return t.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:o},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Af(e){var t=Cf(e);t.next===null&&(t=e.alternate.memoizedState),Fo(e,t.next.queue,{},Bt())}function tr(){return Tt(sl)}function xf(){return lt().memoizedState}function Mf(){return lt().memoizedState}function Kg(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var o=Bt();e=zn(o);var s=Bn(t,e,o);s!==null&&(Lt(s,t,o),Vo(s,t,o)),t={cache:Is()},e.payload=t;return}t=t.return}}function Xg(e,t,o){var s=Bt();o={lane:s,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Wl(e)?Nf(t,o):(o=Ts(e,t,o,s),o!==null&&(Lt(o,e,s),Df(o,t,s)))}function Rf(e,t,o){var s=Bt();Fo(e,t,o,s)}function Fo(e,t,o,s){var f={lane:s,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Wl(e))Nf(t,f);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=t.lastRenderedReducer,p!==null))try{var T=t.lastRenderedState,_=p(T,o);if(f.hasEagerState=!0,f.eagerState=_,qt(_,T))return bl(e,t,f,0),Ke===null&&wl(),!1}catch{}finally{}if(o=Ts(e,t,f,s),o!==null)return Lt(o,e,s),Df(o,t,s),!0}return!1}function nr(e,t,o,s){if(s={lane:2,revertLane:Lr(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Wl(e)){if(t)throw Error(a(479))}else t=Ts(e,o,s,2),t!==null&&Lt(t,e,2)}function Wl(e){var t=e.alternate;return e===Me||t!==null&&t===Me}function Nf(e,t){Xi=Yl=!0;var o=e.pending;o===null?t.next=t:(t.next=o.next,o.next=t),e.pending=t}function Df(e,t,o){if((o&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,o|=s,t.lanes=o,Uu(e,o)}}var Yo={readContext:Tt,use:Xl,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useLayoutEffect:nt,useInsertionEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useSyncExternalStore:nt,useId:nt,useHostTransitionStatus:nt,useFormState:nt,useActionState:nt,useOptimistic:nt,useMemoCache:nt,useCacheRefresh:nt};Yo.useEffectEvent=nt;var If={readContext:Tt,use:Xl,useCallback:function(e,t){return Mt().memoizedState=[e,t===void 0?null:t],e},useContext:Tt,useEffect:pf,useImperativeHandle:function(e,t,o){o=o!=null?o.concat([e]):null,Zl(4194308,4,yf.bind(null,t,e),o)},useLayoutEffect:function(e,t){return Zl(4194308,4,e,t)},useInsertionEffect:function(e,t){Zl(4,2,e,t)},useMemo:function(e,t){var o=Mt();t=t===void 0?null:t;var s=e();if(Ti){_t(!0);try{e()}finally{_t(!1)}}return o.memoizedState=[s,t],s},useReducer:function(e,t,o){var s=Mt();if(o!==void 0){var f=o(t);if(Ti){_t(!0);try{o(t)}finally{_t(!1)}}}else f=t;return s.memoizedState=s.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},s.queue=e,e=e.dispatch=Xg.bind(null,Me,e),[s.memoizedState,e]},useRef:function(e){var t=Mt();return e={current:e},t.memoizedState=e},useState:function(e){e=Qs(e);var t=e.queue,o=Rf.bind(null,Me,t);return t.dispatch=o,[e.memoizedState,o]},useDebugValue:Ws,useDeferredValue:function(e,t){var o=Mt();return js(o,e,t)},useTransition:function(){var e=Qs(!1);return e=_f.bind(null,Me,e.queue,!0,!1),Mt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,o){var s=Me,f=Mt();if(Ue){if(o===void 0)throw Error(a(407));o=o()}else{if(o=t(),Ke===null)throw Error(a(349));(we&127)!==0||Zc(s,t,o)}f.memoizedState=o;var p={value:o,getSnapshot:t};return f.queue=p,pf(Wc.bind(null,s,p,e),[e]),s.flags|=2048,Zi(9,{destroy:void 0},$c.bind(null,s,p,o,t),null),o},useId:function(){var e=Mt(),t=Ke.identifierPrefix;if(Ue){var o=sn,s=an;o=(s&~(1<<32-xt(s)-1)).toString(32)+o,t="_"+t+"R_"+o,o=Jl++,0<o&&(t+="H"+o.toString(32)),t+="_"}else o=Bg++,t="_"+t+"r_"+o.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:tr,useFormState:rf,useActionState:rf,useOptimistic:function(e){var t=Mt();t.memoizedState=t.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=o,t=nr.bind(null,Me,!0,o),o.dispatch=t,[e,t]},useMemoCache:Js,useCacheRefresh:function(){return Mt().memoizedState=Kg.bind(null,Me)},useEffectEvent:function(e){var t=Mt(),o={impl:e};return t.memoizedState=o,function(){if((He&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},ir={readContext:Tt,use:Xl,useCallback:Tf,useContext:Tt,useEffect:$s,useImperativeHandle:vf,useInsertionEffect:hf,useLayoutEffect:gf,useMemo:Sf,useReducer:Ql,useRef:df,useState:function(){return Ql(Sn)},useDebugValue:Ws,useDeferredValue:function(e,t){var o=lt();return Ef(o,ke.memoizedState,e,t)},useTransition:function(){var e=Ql(Sn)[0],t=lt().memoizedState;return[typeof e=="boolean"?e:Oo(e),t]},useSyncExternalStore:Qc,useId:xf,useHostTransitionStatus:tr,useFormState:uf,useActionState:uf,useOptimistic:function(e,t){var o=lt();return tf(o,ke,e,t)},useMemoCache:Js,useCacheRefresh:Mf};ir.useEffectEvent=mf;var wf={readContext:Tt,use:Xl,useCallback:Tf,useContext:Tt,useEffect:$s,useImperativeHandle:vf,useInsertionEffect:hf,useLayoutEffect:gf,useMemo:Sf,useReducer:Xs,useRef:df,useState:function(){return Xs(Sn)},useDebugValue:Ws,useDeferredValue:function(e,t){var o=lt();return ke===null?js(o,e,t):Ef(o,ke.memoizedState,e,t)},useTransition:function(){var e=Xs(Sn)[0],t=lt().memoizedState;return[typeof e=="boolean"?e:Oo(e),t]},useSyncExternalStore:Qc,useId:xf,useHostTransitionStatus:tr,useFormState:ff,useActionState:ff,useOptimistic:function(e,t){var o=lt();return ke!==null?tf(o,ke,e,t):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:Js,useCacheRefresh:Mf};wf.useEffectEvent=mf;function or(e,t,o,s){t=e.memoizedState,o=o(s,t),o=o==null?t:S({},t,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var lr={enqueueSetState:function(e,t,o){e=e._reactInternals;var s=Bt(),f=zn(s);f.payload=t,o!=null&&(f.callback=o),t=Bn(e,f,s),t!==null&&(Lt(t,e,s),Vo(t,e,s))},enqueueReplaceState:function(e,t,o){e=e._reactInternals;var s=Bt(),f=zn(s);f.tag=1,f.payload=t,o!=null&&(f.callback=o),t=Bn(e,f,s),t!==null&&(Lt(t,e,s),Vo(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var o=Bt(),s=zn(o);s.tag=2,t!=null&&(s.callback=t),t=Bn(e,s,o),t!==null&&(Lt(t,e,o),Vo(t,e,o))}};function bf(e,t,o,s,f,p,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,p,T):t.prototype&&t.prototype.isPureReactComponent?!wo(o,s)||!wo(f,p):!0}function Uf(e,t,o,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(o,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(o,s),t.state!==e&&lr.enqueueReplaceState(t,t.state,null)}function Si(e,t){var o=t;if("ref"in t){o={};for(var s in t)s!=="ref"&&(o[s]=t[s])}if(e=e.defaultProps){o===t&&(o=S({},o));for(var f in e)o[f]===void 0&&(o[f]=e[f])}return o}function Lf(e){Il(e)}function qf(e){console.error(e)}function Gf(e){Il(e)}function jl(e,t){try{var o=e.onUncaughtError;o(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function Hf(e,t,o){try{var s=e.onCaughtError;s(o.value,{componentStack:o.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function ar(e,t,o){return o=zn(o),o.tag=3,o.payload={element:null},o.callback=function(){jl(e,t)},o}function Pf(e){return e=zn(e),e.tag=3,e}function Vf(e,t,o,s){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var p=s.value;e.payload=function(){return f(p)},e.callback=function(){Hf(t,o,s)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){Hf(t,o,s),typeof f!="function"&&(Kn===null?Kn=new Set([this]):Kn.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})})}function Qg(e,t,o,s,f){if(o.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=o.alternate,t!==null&&ki(t,o,f,!0),o=Ht.current,o!==null){switch(o.tag){case 31:case 13:return Qt===null?fa():o.alternate===null&&it===0&&(it=3),o.flags&=-257,o.flags|=65536,o.lanes=f,s===zl?o.flags|=16384:(t=o.updateQueue,t===null?o.updateQueue=new Set([s]):t.add(s),wr(e,s,f)),!1;case 22:return o.flags|=65536,s===zl?o.flags|=16384:(t=o.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},o.updateQueue=t):(o=t.retryQueue,o===null?t.retryQueue=new Set([s]):o.add(s)),wr(e,s,f)),!1}throw Error(a(435,o.tag))}return wr(e,s,f),fa(),!1}if(Ue)return t=Ht.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=f,s!==xs&&(e=Error(a(422),{cause:s}),Lo(Yt(e,o)))):(s!==xs&&(t=Error(a(423),{cause:s}),Lo(Yt(t,o))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,s=Yt(s,o),f=ar(e.stateNode,s,f),Gs(e,f),it!==4&&(it=2)),!1;var p=Error(a(520),{cause:s});if(p=Yt(p,o),jo===null?jo=[p]:jo.push(p),it!==4&&(it=2),t===null)return!0;s=Yt(s,o),o=t;do{switch(o.tag){case 3:return o.flags|=65536,e=f&-f,o.lanes|=e,e=ar(o.stateNode,s,e),Gs(o,e),!1;case 1:if(t=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Kn===null||!Kn.has(p))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Pf(f),Vf(f,e,o,s),Gs(o,f),!1}o=o.return}while(o!==null);return!1}var sr=Error(a(461)),ct=!1;function St(e,t,o,s){t.child=e===null?kc(t,null,o,s):vi(t,e.child,o,s)}function zf(e,t,o,s,f){o=o.render;var p=t.ref;if("ref"in s){var T={};for(var _ in s)_!=="ref"&&(T[_]=s[_])}else T=s;return mi(t),s=ks(e,t,o,T,p,f),_=Os(),e!==null&&!ct?(Fs(e,t,f),En(e,t,f)):(Ue&&_&&Cs(t),t.flags|=1,St(e,t,s,f),t.child)}function Bf(e,t,o,s,f){if(e===null){var p=o.type;return typeof p=="function"&&!Ss(p)&&p.defaultProps===void 0&&o.compare===null?(t.tag=15,t.type=p,kf(e,t,p,s,f)):(e=Ll(o.type,null,s,t,t.mode,f),e.ref=t.ref,e.return=t,t.child=e)}if(p=e.child,!hr(e,f)){var T=p.memoizedProps;if(o=o.compare,o=o!==null?o:wo,o(T,s)&&e.ref===t.ref)return En(e,t,f)}return t.flags|=1,e=hn(p,s),e.ref=t.ref,e.return=t,t.child=e}function kf(e,t,o,s,f){if(e!==null){var p=e.memoizedProps;if(wo(p,s)&&e.ref===t.ref)if(ct=!1,t.pendingProps=s=p,hr(e,f))(e.flags&131072)!==0&&(ct=!0);else return t.lanes=e.lanes,En(e,t,f)}return rr(e,t,o,s,f)}function Of(e,t,o,s){var f=s.children,p=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,e!==null){for(s=t.child=e.child,f=0;s!==null;)f=f|s.lanes|s.childLanes,s=s.sibling;s=f&~p}else s=0,t.child=null;return Ff(e,t,p,o,s)}if((o&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Pl(t,p!==null?p.cachePool:null),p!==null?Yc(t,p):Ps(),Jc(t);else return s=t.lanes=536870912,Ff(e,t,p!==null?p.baseLanes|o:o,o,s)}else p!==null?(Pl(t,p.cachePool),Yc(t,p),On(),t.memoizedState=null):(e!==null&&Pl(t,null),Ps(),On());return St(e,t,f,o),t.child}function Jo(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Ff(e,t,o,s,f){var p=bs();return p=p===null?null:{parent:rt._currentValue,pool:p},t.memoizedState={baseLanes:o,cachePool:p},e!==null&&Pl(t,null),Ps(),Jc(t),e!==null&&ki(e,t,s,!0),t.childLanes=f,null}function ea(e,t){return t=na({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Yf(e,t,o){return vi(t,e.child,null,o),e=ea(t,t.pendingProps),e.flags|=2,Pt(t),t.memoizedState=null,e}function Zg(e,t,o){var s=t.pendingProps,f=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ue){if(s.mode==="hidden")return e=ea(t,s),t.lanes=536870912,Jo(null,e);if(zs(t),(e=$e)?(e=ip(e,Xt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:qn!==null?{id:an,overflow:sn}:null,retryLane:536870912,hydrationErrors:null},o=Rc(e),o.return=t,t.child=o,vt=t,$e=null)):e=null,e===null)throw Hn(t);return t.lanes=536870912,null}return ea(t,s)}var p=e.memoizedState;if(p!==null){var T=p.dehydrated;if(zs(t),f)if(t.flags&256)t.flags&=-257,t=Yf(e,t,o);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(a(558));else if(ct||ki(e,t,o,!1),f=(o&e.childLanes)!==0,ct||f){if(s=Ke,s!==null&&(T=Lu(s,o),T!==0&&T!==p.retryLane))throw p.retryLane=T,ci(e,T),Lt(s,e,T),sr;fa(),t=Yf(e,t,o)}else e=p.treeContext,$e=Zt(T.nextSibling),vt=t,Ue=!0,Gn=null,Xt=!1,e!==null&&Ic(t,e),t=ea(t,s),t.flags|=4096;return t}return e=hn(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function ta(e,t){var o=t.ref;if(o===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(e===null||e.ref!==o)&&(t.flags|=4194816)}}function rr(e,t,o,s,f){return mi(t),o=ks(e,t,o,s,void 0,f),s=Os(),e!==null&&!ct?(Fs(e,t,f),En(e,t,f)):(Ue&&s&&Cs(t),t.flags|=1,St(e,t,o,f),t.child)}function Jf(e,t,o,s,f,p){return mi(t),t.updateQueue=null,o=Xc(t,s,o,f),Kc(e),s=Os(),e!==null&&!ct?(Fs(e,t,p),En(e,t,p)):(Ue&&s&&Cs(t),t.flags|=1,St(e,t,o,p),t.child)}function Kf(e,t,o,s,f){if(mi(t),t.stateNode===null){var p=Pi,T=o.contextType;typeof T=="object"&&T!==null&&(p=Tt(T)),p=new o(s,p),t.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=lr,t.stateNode=p,p._reactInternals=t,p=t.stateNode,p.props=s,p.state=t.memoizedState,p.refs={},Ls(t),T=o.contextType,p.context=typeof T=="object"&&T!==null?Tt(T):Pi,p.state=t.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(or(t,o,T,s),p.state=t.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&lr.enqueueReplaceState(p,p.state,null),Bo(t,s,p,f),zo(),p.state=t.memoizedState),typeof p.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){p=t.stateNode;var _=t.memoizedProps,x=Si(o,_);p.props=x;var w=p.context,V=o.contextType;T=Pi,typeof V=="object"&&V!==null&&(T=Tt(V));var B=o.getDerivedStateFromProps;V=typeof B=="function"||typeof p.getSnapshotBeforeUpdate=="function",_=t.pendingProps!==_,V||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(_||w!==T)&&Uf(t,p,s,T),Vn=!1;var U=t.memoizedState;p.state=U,Bo(t,s,p,f),zo(),w=t.memoizedState,_||U!==w||Vn?(typeof B=="function"&&(or(t,o,B,s),w=t.memoizedState),(x=Vn||bf(t,o,x,s,U,w,T))?(V||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=w),p.props=s,p.state=w,p.context=T,s=x):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{p=t.stateNode,qs(e,t),T=t.memoizedProps,V=Si(o,T),p.props=V,B=t.pendingProps,U=p.context,w=o.contextType,x=Pi,typeof w=="object"&&w!==null&&(x=Tt(w)),_=o.getDerivedStateFromProps,(w=typeof _=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==B||U!==x)&&Uf(t,p,s,x),Vn=!1,U=t.memoizedState,p.state=U,Bo(t,s,p,f),zo();var q=t.memoizedState;T!==B||U!==q||Vn||e!==null&&e.dependencies!==null&&Gl(e.dependencies)?(typeof _=="function"&&(or(t,o,_,s),q=t.memoizedState),(V=Vn||bf(t,o,V,s,U,q,x)||e!==null&&e.dependencies!==null&&Gl(e.dependencies))?(w||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(s,q,x),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(s,q,x)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=q),p.props=s,p.state=q,p.context=x,s=V):(typeof p.componentDidUpdate!="function"||T===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),s=!1)}return p=s,ta(e,t),s=(t.flags&128)!==0,p||s?(p=t.stateNode,o=s&&typeof o.getDerivedStateFromError!="function"?null:p.render(),t.flags|=1,e!==null&&s?(t.child=vi(t,e.child,null,f),t.child=vi(t,null,o,f)):St(e,t,o,f),t.memoizedState=p.state,e=t.child):e=En(e,t,f),e}function Xf(e,t,o,s){return di(),t.flags|=256,St(e,t,o,s),t.child}var ur={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cr(e){return{baseLanes:e,cachePool:Gc()}}function fr(e,t,o){return e=e!==null?e.childLanes&~o:0,t&&(e|=zt),e}function Qf(e,t,o){var s=t.pendingProps,f=!1,p=(t.flags&128)!==0,T;if((T=p)||(T=e!==null&&e.memoizedState===null?!1:(ot.current&2)!==0),T&&(f=!0,t.flags&=-129),T=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ue){if(f?kn(t):On(),(e=$e)?(e=ip(e,Xt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:qn!==null?{id:an,overflow:sn}:null,retryLane:536870912,hydrationErrors:null},o=Rc(e),o.return=t,t.child=o,vt=t,$e=null)):e=null,e===null)throw Hn(t);return Kr(e)?t.lanes=32:t.lanes=536870912,null}var _=s.children;return s=s.fallback,f?(On(),f=t.mode,_=na({mode:"hidden",children:_},f),s=fi(s,f,o,null),_.return=t,s.return=t,_.sibling=s,t.child=_,s=t.child,s.memoizedState=cr(o),s.childLanes=fr(e,T,o),t.memoizedState=ur,Jo(null,s)):(kn(t),dr(t,_))}var x=e.memoizedState;if(x!==null&&(_=x.dehydrated,_!==null)){if(p)t.flags&256?(kn(t),t.flags&=-257,t=pr(e,t,o)):t.memoizedState!==null?(On(),t.child=e.child,t.flags|=128,t=null):(On(),_=s.fallback,f=t.mode,s=na({mode:"visible",children:s.children},f),_=fi(_,f,o,null),_.flags|=2,s.return=t,_.return=t,s.sibling=_,t.child=s,vi(t,e.child,null,o),s=t.child,s.memoizedState=cr(o),s.childLanes=fr(e,T,o),t.memoizedState=ur,t=Jo(null,s));else if(kn(t),Kr(_)){if(T=_.nextSibling&&_.nextSibling.dataset,T)var w=T.dgst;T=w,s=Error(a(419)),s.stack="",s.digest=T,Lo({value:s,source:null,stack:null}),t=pr(e,t,o)}else if(ct||ki(e,t,o,!1),T=(o&e.childLanes)!==0,ct||T){if(T=Ke,T!==null&&(s=Lu(T,o),s!==0&&s!==x.retryLane))throw x.retryLane=s,ci(e,s),Lt(T,e,s),sr;Jr(_)||fa(),t=pr(e,t,o)}else Jr(_)?(t.flags|=192,t.child=e.child,t=null):(e=x.treeContext,$e=Zt(_.nextSibling),vt=t,Ue=!0,Gn=null,Xt=!1,e!==null&&Ic(t,e),t=dr(t,s.children),t.flags|=4096);return t}return f?(On(),_=s.fallback,f=t.mode,x=e.child,w=x.sibling,s=hn(x,{mode:"hidden",children:s.children}),s.subtreeFlags=x.subtreeFlags&65011712,w!==null?_=hn(w,_):(_=fi(_,f,o,null),_.flags|=2),_.return=t,s.return=t,s.sibling=_,t.child=s,Jo(null,s),s=t.child,_=e.child.memoizedState,_===null?_=cr(o):(f=_.cachePool,f!==null?(x=rt._currentValue,f=f.parent!==x?{parent:x,pool:x}:f):f=Gc(),_={baseLanes:_.baseLanes|o,cachePool:f}),s.memoizedState=_,s.childLanes=fr(e,T,o),t.memoizedState=ur,Jo(e.child,s)):(kn(t),o=e.child,e=o.sibling,o=hn(o,{mode:"visible",children:s.children}),o.return=t,o.sibling=null,e!==null&&(T=t.deletions,T===null?(t.deletions=[e],t.flags|=16):T.push(e)),t.child=o,t.memoizedState=null,o)}function dr(e,t){return t=na({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function na(e,t){return e=Gt(22,e,null,t),e.lanes=0,e}function pr(e,t,o){return vi(t,e.child,null,o),e=dr(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Zf(e,t,o){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Ns(e.return,t,o)}function mr(e,t,o,s,f,p){var T=e.memoizedState;T===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:o,tailMode:f,treeForkCount:p}:(T.isBackwards=t,T.rendering=null,T.renderingStartTime=0,T.last=s,T.tail=o,T.tailMode=f,T.treeForkCount=p)}function $f(e,t,o){var s=t.pendingProps,f=s.revealOrder,p=s.tail;s=s.children;var T=ot.current,_=(T&2)!==0;if(_?(T=T&1|2,t.flags|=128):T&=1,P(ot,T),St(e,t,s,o),s=Ue?Uo:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zf(e,o,t);else if(e.tag===19)Zf(e,o,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(o=t.child,f=null;o!==null;)e=o.alternate,e!==null&&Fl(e)===null&&(f=o),o=o.sibling;o=f,o===null?(f=t.child,t.child=null):(f=o.sibling,o.sibling=null),mr(t,!1,f,o,p,s);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=t.child,t.child=null;f!==null;){if(e=f.alternate,e!==null&&Fl(e)===null){t.child=f;break}e=f.sibling,f.sibling=o,o=f,f=e}mr(t,!0,o,null,p,s);break;case"together":mr(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function En(e,t,o){if(e!==null&&(t.dependencies=e.dependencies),Jn|=t.lanes,(o&t.childLanes)===0)if(e!==null){if(ki(e,t,o,!1),(o&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(a(153));if(t.child!==null){for(e=t.child,o=hn(e,e.pendingProps),t.child=o,o.return=t;e.sibling!==null;)e=e.sibling,o=o.sibling=hn(e,e.pendingProps),o.return=t;o.sibling=null}return t.child}function hr(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Gl(e)))}function $g(e,t,o){switch(t.tag){case 3:Qe(t,t.stateNode.containerInfo),Pn(t,rt,e.memoizedState.cache),di();break;case 27:case 5:fn(t);break;case 4:Qe(t,t.stateNode.containerInfo);break;case 10:Pn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,zs(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(kn(t),t.flags|=128,null):(o&t.child.childLanes)!==0?Qf(e,t,o):(kn(t),e=En(e,t,o),e!==null?e.sibling:null);kn(t);break;case 19:var f=(e.flags&128)!==0;if(s=(o&t.childLanes)!==0,s||(ki(e,t,o,!1),s=(o&t.childLanes)!==0),f){if(s)return $f(e,t,o);t.flags|=128}if(f=t.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),P(ot,ot.current),s)break;return null;case 22:return t.lanes=0,Of(e,t,o,t.pendingProps);case 24:Pn(t,rt,e.memoizedState.cache)}return En(e,t,o)}function Wf(e,t,o){if(e!==null)if(e.memoizedProps!==t.pendingProps)ct=!0;else{if(!hr(e,o)&&(t.flags&128)===0)return ct=!1,$g(e,t,o);ct=(e.flags&131072)!==0}else ct=!1,Ue&&(t.flags&1048576)!==0&&Dc(t,Uo,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=gi(t.elementType),t.type=e,typeof e=="function")Ss(e)?(s=Si(e,s),t.tag=1,t=Kf(null,t,e,s,o)):(t.tag=0,t=rr(null,t,e,s,o));else{if(e!=null){var f=e.$$typeof;if(f===Z){t.tag=11,t=zf(null,t,e,s,o);break e}else if(f===j){t.tag=14,t=Bf(null,t,e,s,o);break e}}throw t=mt(e)||e,Error(a(306,t,""))}}return t;case 0:return rr(e,t,t.type,t.pendingProps,o);case 1:return s=t.type,f=Si(s,t.pendingProps),Kf(e,t,s,f,o);case 3:e:{if(Qe(t,t.stateNode.containerInfo),e===null)throw Error(a(387));s=t.pendingProps;var p=t.memoizedState;f=p.element,qs(e,t),Bo(t,s,null,o);var T=t.memoizedState;if(s=T.cache,Pn(t,rt,s),s!==p.cache&&Ds(t,[rt],o,!0),zo(),s=T.element,p.isDehydrated)if(p={element:s,isDehydrated:!1,cache:T.cache},t.updateQueue.baseState=p,t.memoizedState=p,t.flags&256){t=Xf(e,t,s,o);break e}else if(s!==f){f=Yt(Error(a(424)),t),Lo(f),t=Xf(e,t,s,o);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for($e=Zt(e.firstChild),vt=t,Ue=!0,Gn=null,Xt=!0,o=kc(t,null,s,o),t.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(di(),s===f){t=En(e,t,o);break e}St(e,t,s,o)}t=t.child}return t;case 26:return ta(e,t),e===null?(o=up(t.type,null,t.pendingProps,null))?t.memoizedState=o:Ue||(o=t.type,e=t.pendingProps,s=va(ae.current).createElement(o),s[yt]=t,s[Nt]=e,Et(s,o,e),ht(s),t.stateNode=s):t.memoizedState=up(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return fn(t),e===null&&Ue&&(s=t.stateNode=ap(t.type,t.pendingProps,ae.current),vt=t,Xt=!0,f=$e,$n(t.type)?(Xr=f,$e=Zt(s.firstChild)):$e=f),St(e,t,t.pendingProps.children,o),ta(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ue&&((f=s=$e)&&(s=Ry(s,t.type,t.pendingProps,Xt),s!==null?(t.stateNode=s,vt=t,$e=Zt(s.firstChild),Xt=!1,f=!0):f=!1),f||Hn(t)),fn(t),f=t.type,p=t.pendingProps,T=e!==null?e.memoizedProps:null,s=p.children,Or(f,p)?s=null:T!==null&&Or(f,T)&&(t.flags|=32),t.memoizedState!==null&&(f=ks(e,t,kg,null,null,o),sl._currentValue=f),ta(e,t),St(e,t,s,o),t.child;case 6:return e===null&&Ue&&((e=o=$e)&&(o=Ny(o,t.pendingProps,Xt),o!==null?(t.stateNode=o,vt=t,$e=null,e=!0):e=!1),e||Hn(t)),null;case 13:return Qf(e,t,o);case 4:return Qe(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=vi(t,null,s,o):St(e,t,s,o),t.child;case 11:return zf(e,t,t.type,t.pendingProps,o);case 7:return St(e,t,t.pendingProps,o),t.child;case 8:return St(e,t,t.pendingProps.children,o),t.child;case 12:return St(e,t,t.pendingProps.children,o),t.child;case 10:return s=t.pendingProps,Pn(t,t.type,s.value),St(e,t,s.children,o),t.child;case 9:return f=t.type._context,s=t.pendingProps.children,mi(t),f=Tt(f),s=s(f),t.flags|=1,St(e,t,s,o),t.child;case 14:return Bf(e,t,t.type,t.pendingProps,o);case 15:return kf(e,t,t.type,t.pendingProps,o);case 19:return $f(e,t,o);case 31:return Zg(e,t,o);case 22:return Of(e,t,o,t.pendingProps);case 24:return mi(t),s=Tt(rt),e===null?(f=bs(),f===null&&(f=Ke,p=Is(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=o),f=p),t.memoizedState={parent:s,cache:f},Ls(t),Pn(t,rt,f)):((e.lanes&o)!==0&&(qs(e,t),Bo(t,null,null,o),zo()),f=e.memoizedState,p=t.memoizedState,f.parent!==s?(f={parent:s,cache:s},t.memoizedState=f,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=f),Pn(t,rt,s)):(s=p.cache,Pn(t,rt,s),s!==f.cache&&Ds(t,[rt],o,!0))),St(e,t,t.pendingProps.children,o),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function _n(e){e.flags|=4}function gr(e,t,o,s,f){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(xd())e.flags|=8192;else throw yi=zl,Us}else e.flags&=-16777217}function jf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!mp(t))if(xd())e.flags|=8192;else throw yi=zl,Us}function ia(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?wu():536870912,e.lanes|=t,eo|=t)}function Ko(e,t){if(!Ue)switch(e.tailMode){case"hidden":t=e.tail;for(var o=null;t!==null;)t.alternate!==null&&(o=t),t=t.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var s=null;o!==null;)o.alternate!==null&&(s=o),o=o.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function We(e){var t=e.alternate!==null&&e.alternate.child===e.child,o=0,s=0;if(t)for(var f=e.child;f!==null;)o|=f.lanes|f.childLanes,s|=f.subtreeFlags&65011712,s|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)o|=f.lanes|f.childLanes,s|=f.subtreeFlags,s|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=s,e.childLanes=o,t}function Wg(e,t,o){var s=t.pendingProps;switch(As(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(t),null;case 1:return We(t),null;case 3:return o=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),vn(rt),Ye(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Bi(t)?_n(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ms())),We(t),null;case 26:var f=t.type,p=t.memoizedState;return e===null?(_n(t),p!==null?(We(t),jf(t,p)):(We(t),gr(t,f,null,s,o))):p?p!==e.memoizedState?(_n(t),We(t),jf(t,p)):(We(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&_n(t),We(t),gr(t,f,e,s,o)),null;case 27:if(oi(t),o=ae.current,f=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&_n(t);else{if(!s){if(t.stateNode===null)throw Error(a(166));return We(t),null}e=O.current,Bi(t)?wc(t):(e=ap(f,s,o),t.stateNode=e,_n(t))}return We(t),null;case 5:if(oi(t),f=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&_n(t);else{if(!s){if(t.stateNode===null)throw Error(a(166));return We(t),null}if(p=O.current,Bi(t))wc(t);else{var T=va(ae.current);switch(p){case 1:p=T.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:p=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":p=T.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":p=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":p=T.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof s.is=="string"?T.createElement("select",{is:s.is}):T.createElement("select"),s.multiple?p.multiple=!0:s.size&&(p.size=s.size);break;default:p=typeof s.is=="string"?T.createElement(f,{is:s.is}):T.createElement(f)}}p[yt]=t,p[Nt]=s;e:for(T=t.child;T!==null;){if(T.tag===5||T.tag===6)p.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===t)break e;for(;T.sibling===null;){if(T.return===null||T.return===t)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}t.stateNode=p;e:switch(Et(p,f,s),f){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&_n(t)}}return We(t),gr(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,o),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&_n(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(a(166));if(e=ae.current,Bi(t)){if(e=t.stateNode,o=t.memoizedProps,s=null,f=vt,f!==null)switch(f.tag){case 27:case 5:s=f.memoizedProps}e[yt]=t,e=!!(e.nodeValue===o||s!==null&&s.suppressHydrationWarning===!0||Qd(e.nodeValue,o)),e||Hn(t,!0)}else e=va(e).createTextNode(s),e[yt]=t,t.stateNode=e}return We(t),null;case 31:if(o=t.memoizedState,e===null||e.memoizedState!==null){if(s=Bi(t),o!==null){if(e===null){if(!s)throw Error(a(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[yt]=t}else di(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;We(t),e=!1}else o=Ms(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return t.flags&256?(Pt(t),t):(Pt(t),null);if((t.flags&128)!==0)throw Error(a(558))}return We(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Bi(t),s!==null&&s.dehydrated!==null){if(e===null){if(!f)throw Error(a(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[yt]=t}else di(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;We(t),f=!1}else f=Ms(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return t.flags&256?(Pt(t),t):(Pt(t),null)}return Pt(t),(t.flags&128)!==0?(t.lanes=o,t):(o=s!==null,e=e!==null&&e.memoizedState!==null,o&&(s=t.child,f=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(f=s.alternate.memoizedState.cachePool.pool),p=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),p!==f&&(s.flags|=2048)),o!==e&&o&&(t.child.flags|=8192),ia(t,t.updateQueue),We(t),null);case 4:return Ye(),e===null&&Pr(t.stateNode.containerInfo),We(t),null;case 10:return vn(t.type),We(t),null;case 19:if(R(ot),s=t.memoizedState,s===null)return We(t),null;if(f=(t.flags&128)!==0,p=s.rendering,p===null)if(f)Ko(s,!1);else{if(it!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(p=Fl(e),p!==null){for(t.flags|=128,Ko(s,!1),e=p.updateQueue,t.updateQueue=e,ia(t,e),t.subtreeFlags=0,e=o,o=t.child;o!==null;)Mc(o,e),o=o.sibling;return P(ot,ot.current&1|2),Ue&&gn(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&Ce()>ra&&(t.flags|=128,f=!0,Ko(s,!1),t.lanes=4194304)}else{if(!f)if(e=Fl(p),e!==null){if(t.flags|=128,f=!0,e=e.updateQueue,t.updateQueue=e,ia(t,e),Ko(s,!0),s.tail===null&&s.tailMode==="hidden"&&!p.alternate&&!Ue)return We(t),null}else 2*Ce()-s.renderingStartTime>ra&&o!==536870912&&(t.flags|=128,f=!0,Ko(s,!1),t.lanes=4194304);s.isBackwards?(p.sibling=t.child,t.child=p):(e=s.last,e!==null?e.sibling=p:t.child=p,s.last=p)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ce(),e.sibling=null,o=ot.current,P(ot,f?o&1|2:o&1),Ue&&gn(t,s.treeForkCount),e):(We(t),null);case 22:case 23:return Pt(t),Vs(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(o&536870912)!==0&&(t.flags&128)===0&&(We(t),t.subtreeFlags&6&&(t.flags|=8192)):We(t),o=t.updateQueue,o!==null&&ia(t,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==o&&(t.flags|=2048),e!==null&&R(hi),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),t.memoizedState.cache!==o&&(t.flags|=2048),vn(rt),We(t),null;case 25:return null;case 30:return null}throw Error(a(156,t.tag))}function jg(e,t){switch(As(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vn(rt),Ye(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return oi(t),null;case 31:if(t.memoizedState!==null){if(Pt(t),t.alternate===null)throw Error(a(340));di()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Pt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(a(340));di()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return R(ot),null;case 4:return Ye(),null;case 10:return vn(t.type),null;case 22:case 23:return Pt(t),Vs(),e!==null&&R(hi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return vn(rt),null;case 25:return null;default:return null}}function ed(e,t){switch(As(t),t.tag){case 3:vn(rt),Ye();break;case 26:case 27:case 5:oi(t);break;case 4:Ye();break;case 31:t.memoizedState!==null&&Pt(t);break;case 13:Pt(t);break;case 19:R(ot);break;case 10:vn(t.type);break;case 22:case 23:Pt(t),Vs(),e!==null&&R(hi);break;case 24:vn(rt)}}function Xo(e,t){try{var o=t.updateQueue,s=o!==null?o.lastEffect:null;if(s!==null){var f=s.next;o=f;do{if((o.tag&e)===e){s=void 0;var p=o.create,T=o.inst;s=p(),T.destroy=s}o=o.next}while(o!==f)}}catch(_){Ve(t,t.return,_)}}function Fn(e,t,o){try{var s=t.updateQueue,f=s!==null?s.lastEffect:null;if(f!==null){var p=f.next;s=p;do{if((s.tag&e)===e){var T=s.inst,_=T.destroy;if(_!==void 0){T.destroy=void 0,f=t;var x=o,w=_;try{w()}catch(V){Ve(f,x,V)}}}s=s.next}while(s!==p)}}catch(V){Ve(t,t.return,V)}}function td(e){var t=e.updateQueue;if(t!==null){var o=e.stateNode;try{Fc(t,o)}catch(s){Ve(e,e.return,s)}}}function nd(e,t,o){o.props=Si(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(s){Ve(e,t,s)}}function Qo(e,t){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof o=="function"?e.refCleanup=o(s):o.current=s}}catch(f){Ve(e,t,f)}}function rn(e,t){var o=e.ref,s=e.refCleanup;if(o!==null)if(typeof s=="function")try{s()}catch(f){Ve(e,t,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Ve(e,t,f)}else o.current=null}function id(e){var t=e.type,o=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":o.autoFocus&&s.focus();break e;case"img":o.src?s.src=o.src:o.srcSet&&(s.srcset=o.srcSet)}}catch(f){Ve(e,e.return,f)}}function yr(e,t,o){try{var s=e.stateNode;Ey(s,e.type,o,t),s[Nt]=t}catch(f){Ve(e,e.return,f)}}function od(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&$n(e.type)||e.tag===4}function vr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||od(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&$n(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Tr(e,t,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,t):(t=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,t.appendChild(e),o=o._reactRootContainer,o!=null||t.onclick!==null||(t.onclick=pn));else if(s!==4&&(s===27&&$n(e.type)&&(o=e.stateNode,t=null),e=e.child,e!==null))for(Tr(e,t,o),e=e.sibling;e!==null;)Tr(e,t,o),e=e.sibling}function oa(e,t,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?o.insertBefore(e,t):o.appendChild(e);else if(s!==4&&(s===27&&$n(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(oa(e,t,o),e=e.sibling;e!==null;)oa(e,t,o),e=e.sibling}function ld(e){var t=e.stateNode,o=e.memoizedProps;try{for(var s=e.type,f=t.attributes;f.length;)t.removeAttributeNode(f[0]);Et(t,s,o),t[yt]=e,t[Nt]=o}catch(p){Ve(e,e.return,p)}}var Cn=!1,ft=!1,Sr=!1,ad=typeof WeakSet=="function"?WeakSet:Set,gt=null;function ey(e,t){if(e=e.containerInfo,Br=xa,e=yc(e),ps(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var s=o.getSelection&&o.getSelection();if(s&&s.rangeCount!==0){o=s.anchorNode;var f=s.anchorOffset,p=s.focusNode;s=s.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var T=0,_=-1,x=-1,w=0,V=0,B=e,U=null;t:for(;;){for(var q;B!==o||f!==0&&B.nodeType!==3||(_=T+f),B!==p||s!==0&&B.nodeType!==3||(x=T+s),B.nodeType===3&&(T+=B.nodeValue.length),(q=B.firstChild)!==null;)U=B,B=q;for(;;){if(B===e)break t;if(U===o&&++w===f&&(_=T),U===p&&++V===s&&(x=T),(q=B.nextSibling)!==null)break;B=U,U=B.parentNode}B=q}o=_===-1||x===-1?null:{start:_,end:x}}else o=null}o=o||{start:0,end:0}}else o=null;for(kr={focusedElem:e,selectionRange:o},xa=!1,gt=t;gt!==null;)if(t=gt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,gt=e;else for(;gt!==null;){switch(t=gt,p=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)f=e[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,o=t,f=p.memoizedProps,p=p.memoizedState,s=o.stateNode;try{var se=Si(o.type,f);e=s.getSnapshotBeforeUpdate(se,p),s.__reactInternalSnapshotBeforeUpdate=e}catch(Te){Ve(o,o.return,Te)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,o=e.nodeType,o===9)Yr(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Yr(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=t.sibling,e!==null){e.return=t.return,gt=e;break}gt=t.return}}function sd(e,t,o){var s=o.flags;switch(o.tag){case 0:case 11:case 15:xn(e,o),s&4&&Xo(5,o);break;case 1:if(xn(e,o),s&4)if(e=o.stateNode,t===null)try{e.componentDidMount()}catch(T){Ve(o,o.return,T)}else{var f=Si(o.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(f,t,e.__reactInternalSnapshotBeforeUpdate)}catch(T){Ve(o,o.return,T)}}s&64&&td(o),s&512&&Qo(o,o.return);break;case 3:if(xn(e,o),s&64&&(e=o.updateQueue,e!==null)){if(t=null,o.child!==null)switch(o.child.tag){case 27:case 5:t=o.child.stateNode;break;case 1:t=o.child.stateNode}try{Fc(e,t)}catch(T){Ve(o,o.return,T)}}break;case 27:t===null&&s&4&&ld(o);case 26:case 5:xn(e,o),t===null&&s&4&&id(o),s&512&&Qo(o,o.return);break;case 12:xn(e,o);break;case 31:xn(e,o),s&4&&cd(e,o);break;case 13:xn(e,o),s&4&&fd(e,o),s&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=uy.bind(null,o),Dy(e,o))));break;case 22:if(s=o.memoizedState!==null||Cn,!s){t=t!==null&&t.memoizedState!==null||ft,f=Cn;var p=ft;Cn=s,(ft=t)&&!p?Mn(e,o,(o.subtreeFlags&8772)!==0):xn(e,o),Cn=f,ft=p}break;case 30:break;default:xn(e,o)}}function rd(e){var t=e.alternate;t!==null&&(e.alternate=null,rd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Za(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var tt=null,It=!1;function An(e,t,o){for(o=o.child;o!==null;)ud(e,t,o),o=o.sibling}function ud(e,t,o){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(st,o)}catch{}switch(o.tag){case 26:ft||rn(o,t),An(e,t,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ft||rn(o,t);var s=tt,f=It;$n(o.type)&&(tt=o.stateNode,It=!1),An(e,t,o),ol(o.stateNode),tt=s,It=f;break;case 5:ft||rn(o,t);case 6:if(s=tt,f=It,tt=null,An(e,t,o),tt=s,It=f,tt!==null)if(It)try{(tt.nodeType===9?tt.body:tt.nodeName==="HTML"?tt.ownerDocument.body:tt).removeChild(o.stateNode)}catch(p){Ve(o,t,p)}else try{tt.removeChild(o.stateNode)}catch(p){Ve(o,t,p)}break;case 18:tt!==null&&(It?(e=tt,tp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),ro(e)):tp(tt,o.stateNode));break;case 4:s=tt,f=It,tt=o.stateNode.containerInfo,It=!0,An(e,t,o),tt=s,It=f;break;case 0:case 11:case 14:case 15:Fn(2,o,t),ft||Fn(4,o,t),An(e,t,o);break;case 1:ft||(rn(o,t),s=o.stateNode,typeof s.componentWillUnmount=="function"&&nd(o,t,s)),An(e,t,o);break;case 21:An(e,t,o);break;case 22:ft=(s=ft)||o.memoizedState!==null,An(e,t,o),ft=s;break;default:An(e,t,o)}}function cd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ro(e)}catch(o){Ve(t,t.return,o)}}}function fd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ro(e)}catch(o){Ve(t,t.return,o)}}function ty(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ad),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ad),t;default:throw Error(a(435,e.tag))}}function la(e,t){var o=ty(e);t.forEach(function(s){if(!o.has(s)){o.add(s);var f=cy.bind(null,e,s);s.then(f,f)}})}function wt(e,t){var o=t.deletions;if(o!==null)for(var s=0;s<o.length;s++){var f=o[s],p=e,T=t,_=T;e:for(;_!==null;){switch(_.tag){case 27:if($n(_.type)){tt=_.stateNode,It=!1;break e}break;case 5:tt=_.stateNode,It=!1;break e;case 3:case 4:tt=_.stateNode.containerInfo,It=!0;break e}_=_.return}if(tt===null)throw Error(a(160));ud(p,T,f),tt=null,It=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)dd(t,e),t=t.sibling}var nn=null;function dd(e,t){var o=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:wt(t,e),bt(e),s&4&&(Fn(3,e,e.return),Xo(3,e),Fn(5,e,e.return));break;case 1:wt(t,e),bt(e),s&512&&(ft||o===null||rn(o,o.return)),s&64&&Cn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?s:o.concat(s))));break;case 26:var f=nn;if(wt(t,e),bt(e),s&512&&(ft||o===null||rn(o,o.return)),s&4){var p=o!==null?o.memoizedState:null;if(s=e.memoizedState,o===null)if(s===null)if(e.stateNode===null){e:{s=e.type,o=e.memoizedProps,f=f.ownerDocument||f;t:switch(s){case"title":p=f.getElementsByTagName("title")[0],(!p||p[_o]||p[yt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(s),f.head.insertBefore(p,f.querySelector("head > title"))),Et(p,s,o),p[yt]=e,ht(p),s=p;break e;case"link":var T=dp("link","href",f).get(s+(o.href||""));if(T){for(var _=0;_<T.length;_++)if(p=T[_],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(_,1);break t}}p=f.createElement(s),Et(p,s,o),f.head.appendChild(p);break;case"meta":if(T=dp("meta","content",f).get(s+(o.content||""))){for(_=0;_<T.length;_++)if(p=T[_],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(_,1);break t}}p=f.createElement(s),Et(p,s,o),f.head.appendChild(p);break;default:throw Error(a(468,s))}p[yt]=e,ht(p),s=p}e.stateNode=s}else pp(f,e.type,e.stateNode);else e.stateNode=fp(f,s,e.memoizedProps);else p!==s?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,s===null?pp(f,e.type,e.stateNode):fp(f,s,e.memoizedProps)):s===null&&e.stateNode!==null&&yr(e,e.memoizedProps,o.memoizedProps)}break;case 27:wt(t,e),bt(e),s&512&&(ft||o===null||rn(o,o.return)),o!==null&&s&4&&yr(e,e.memoizedProps,o.memoizedProps);break;case 5:if(wt(t,e),bt(e),s&512&&(ft||o===null||rn(o,o.return)),e.flags&32){f=e.stateNode;try{wi(f,"")}catch(se){Ve(e,e.return,se)}}s&4&&e.stateNode!=null&&(f=e.memoizedProps,yr(e,f,o!==null?o.memoizedProps:f)),s&1024&&(Sr=!0);break;case 6:if(wt(t,e),bt(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,o=e.stateNode;try{o.nodeValue=s}catch(se){Ve(e,e.return,se)}}break;case 3:if(Ea=null,f=nn,nn=Ta(t.containerInfo),wt(t,e),nn=f,bt(e),s&4&&o!==null&&o.memoizedState.isDehydrated)try{ro(t.containerInfo)}catch(se){Ve(e,e.return,se)}Sr&&(Sr=!1,pd(e));break;case 4:s=nn,nn=Ta(e.stateNode.containerInfo),wt(t,e),bt(e),nn=s;break;case 12:wt(t,e),bt(e);break;case 31:wt(t,e),bt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,la(e,s)));break;case 13:wt(t,e),bt(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(sa=Ce()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,la(e,s)));break;case 22:f=e.memoizedState!==null;var x=o!==null&&o.memoizedState!==null,w=Cn,V=ft;if(Cn=w||f,ft=V||x,wt(t,e),ft=V,Cn=w,bt(e),s&8192)e:for(t=e.stateNode,t._visibility=f?t._visibility&-2:t._visibility|1,f&&(o===null||x||Cn||ft||Ei(e)),o=null,t=e;;){if(t.tag===5||t.tag===26){if(o===null){x=o=t;try{if(p=x.stateNode,f)T=p.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{_=x.stateNode;var B=x.memoizedProps.style,U=B!=null&&B.hasOwnProperty("display")?B.display:null;_.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(se){Ve(x,x.return,se)}}}else if(t.tag===6){if(o===null){x=t;try{x.stateNode.nodeValue=f?"":x.memoizedProps}catch(se){Ve(x,x.return,se)}}}else if(t.tag===18){if(o===null){x=t;try{var q=x.stateNode;f?np(q,!0):np(x.stateNode,!1)}catch(se){Ve(x,x.return,se)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;o===t&&(o=null),t=t.return}o===t&&(o=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(o=s.retryQueue,o!==null&&(s.retryQueue=null,la(e,o))));break;case 19:wt(t,e),bt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,la(e,s)));break;case 30:break;case 21:break;default:wt(t,e),bt(e)}}function bt(e){var t=e.flags;if(t&2){try{for(var o,s=e.return;s!==null;){if(od(s)){o=s;break}s=s.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var f=o.stateNode,p=vr(e);oa(e,p,f);break;case 5:var T=o.stateNode;o.flags&32&&(wi(T,""),o.flags&=-33);var _=vr(e);oa(e,_,T);break;case 3:case 4:var x=o.stateNode.containerInfo,w=vr(e);Tr(e,w,x);break;default:throw Error(a(161))}}catch(V){Ve(e,e.return,V)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function pd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;pd(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function xn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)sd(e,t.alternate,t),t=t.sibling}function Ei(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Fn(4,t,t.return),Ei(t);break;case 1:rn(t,t.return);var o=t.stateNode;typeof o.componentWillUnmount=="function"&&nd(t,t.return,o),Ei(t);break;case 27:ol(t.stateNode);case 26:case 5:rn(t,t.return),Ei(t);break;case 22:t.memoizedState===null&&Ei(t);break;case 30:Ei(t);break;default:Ei(t)}e=e.sibling}}function Mn(e,t,o){for(o=o&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,f=e,p=t,T=p.flags;switch(p.tag){case 0:case 11:case 15:Mn(f,p,o),Xo(4,p);break;case 1:if(Mn(f,p,o),s=p,f=s.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(w){Ve(s,s.return,w)}if(s=p,f=s.updateQueue,f!==null){var _=s.stateNode;try{var x=f.shared.hiddenCallbacks;if(x!==null)for(f.shared.hiddenCallbacks=null,f=0;f<x.length;f++)Oc(x[f],_)}catch(w){Ve(s,s.return,w)}}o&&T&64&&td(p),Qo(p,p.return);break;case 27:ld(p);case 26:case 5:Mn(f,p,o),o&&s===null&&T&4&&id(p),Qo(p,p.return);break;case 12:Mn(f,p,o);break;case 31:Mn(f,p,o),o&&T&4&&cd(f,p);break;case 13:Mn(f,p,o),o&&T&4&&fd(f,p);break;case 22:p.memoizedState===null&&Mn(f,p,o),Qo(p,p.return);break;case 30:break;default:Mn(f,p,o)}t=t.sibling}}function Er(e,t){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&qo(o))}function _r(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&qo(e))}function on(e,t,o,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)md(e,t,o,s),t=t.sibling}function md(e,t,o,s){var f=t.flags;switch(t.tag){case 0:case 11:case 15:on(e,t,o,s),f&2048&&Xo(9,t);break;case 1:on(e,t,o,s);break;case 3:on(e,t,o,s),f&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&qo(e)));break;case 12:if(f&2048){on(e,t,o,s),e=t.stateNode;try{var p=t.memoizedProps,T=p.id,_=p.onPostCommit;typeof _=="function"&&_(T,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){Ve(t,t.return,x)}}else on(e,t,o,s);break;case 31:on(e,t,o,s);break;case 13:on(e,t,o,s);break;case 23:break;case 22:p=t.stateNode,T=t.alternate,t.memoizedState!==null?p._visibility&2?on(e,t,o,s):Zo(e,t):p._visibility&2?on(e,t,o,s):(p._visibility|=2,$i(e,t,o,s,(t.subtreeFlags&10256)!==0||!1)),f&2048&&Er(T,t);break;case 24:on(e,t,o,s),f&2048&&_r(t.alternate,t);break;default:on(e,t,o,s)}}function $i(e,t,o,s,f){for(f=f&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var p=e,T=t,_=o,x=s,w=T.flags;switch(T.tag){case 0:case 11:case 15:$i(p,T,_,x,f),Xo(8,T);break;case 23:break;case 22:var V=T.stateNode;T.memoizedState!==null?V._visibility&2?$i(p,T,_,x,f):Zo(p,T):(V._visibility|=2,$i(p,T,_,x,f)),f&&w&2048&&Er(T.alternate,T);break;case 24:$i(p,T,_,x,f),f&&w&2048&&_r(T.alternate,T);break;default:$i(p,T,_,x,f)}t=t.sibling}}function Zo(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var o=e,s=t,f=s.flags;switch(s.tag){case 22:Zo(o,s),f&2048&&Er(s.alternate,s);break;case 24:Zo(o,s),f&2048&&_r(s.alternate,s);break;default:Zo(o,s)}t=t.sibling}}var $o=8192;function Wi(e,t,o){if(e.subtreeFlags&$o)for(e=e.child;e!==null;)hd(e,t,o),e=e.sibling}function hd(e,t,o){switch(e.tag){case 26:Wi(e,t,o),e.flags&$o&&e.memoizedState!==null&&By(o,nn,e.memoizedState,e.memoizedProps);break;case 5:Wi(e,t,o);break;case 3:case 4:var s=nn;nn=Ta(e.stateNode.containerInfo),Wi(e,t,o),nn=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=$o,$o=16777216,Wi(e,t,o),$o=s):Wi(e,t,o));break;default:Wi(e,t,o)}}function gd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Wo(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var o=0;o<t.length;o++){var s=t[o];gt=s,vd(s,e)}gd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)yd(e),e=e.sibling}function yd(e){switch(e.tag){case 0:case 11:case 15:Wo(e),e.flags&2048&&Fn(9,e,e.return);break;case 3:Wo(e);break;case 12:Wo(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,aa(e)):Wo(e);break;default:Wo(e)}}function aa(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var o=0;o<t.length;o++){var s=t[o];gt=s,vd(s,e)}gd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Fn(8,t,t.return),aa(t);break;case 22:o=t.stateNode,o._visibility&2&&(o._visibility&=-3,aa(t));break;default:aa(t)}e=e.sibling}}function vd(e,t){for(;gt!==null;){var o=gt;switch(o.tag){case 0:case 11:case 15:Fn(8,o,t);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var s=o.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:qo(o.memoizedState.cache)}if(s=o.child,s!==null)s.return=o,gt=s;else e:for(o=e;gt!==null;){s=gt;var f=s.sibling,p=s.return;if(rd(s),s===o){gt=null;break e}if(f!==null){f.return=p,gt=f;break e}gt=p}}}var ny={getCacheForType:function(e){var t=Tt(rt),o=t.data.get(e);return o===void 0&&(o=e(),t.data.set(e,o)),o},cacheSignal:function(){return Tt(rt).controller.signal}},iy=typeof WeakMap=="function"?WeakMap:Map,He=0,Ke=null,De=null,we=0,Pe=0,Vt=null,Yn=!1,ji=!1,Cr=!1,Rn=0,it=0,Jn=0,_i=0,Ar=0,zt=0,eo=0,jo=null,Ut=null,xr=!1,sa=0,Td=0,ra=1/0,ua=null,Kn=null,dt=0,Xn=null,to=null,Nn=0,Mr=0,Rr=null,Sd=null,el=0,Nr=null;function Bt(){return(He&2)!==0&&we!==0?we&-we:G.T!==null?Lr():qu()}function Ed(){if(zt===0)if((we&536870912)===0||Ue){var e=yl;yl<<=1,(yl&3932160)===0&&(yl=262144),zt=e}else zt=536870912;return e=Ht.current,e!==null&&(e.flags|=32),zt}function Lt(e,t,o){(e===Ke&&(Pe===2||Pe===9)||e.cancelPendingCommit!==null)&&(no(e,0),Qn(e,we,zt,!1)),Eo(e,o),((He&2)===0||e!==Ke)&&(e===Ke&&((He&2)===0&&(_i|=o),it===4&&Qn(e,we,zt,!1)),un(e))}function _d(e,t,o){if((He&6)!==0)throw Error(a(327));var s=!o&&(t&127)===0&&(t&e.expiredLanes)===0||So(e,t),f=s?ay(e,t):Ir(e,t,!0),p=s;do{if(f===0){ji&&!s&&Qn(e,t,0,!1);break}else{if(o=e.current.alternate,p&&!oy(o)){f=Ir(e,t,!1),p=!1;continue}if(f===2){if(p=t,e.errorRecoveryDisabledLanes&p)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){t=T;e:{var _=e;f=jo;var x=_.current.memoizedState.isDehydrated;if(x&&(no(_,T).flags|=256),T=Ir(_,T,!1),T!==2){if(Cr&&!x){_.errorRecoveryDisabledLanes|=p,_i|=p,f=4;break e}p=Ut,Ut=f,p!==null&&(Ut===null?Ut=p:Ut.push.apply(Ut,p))}f=T}if(p=!1,f!==2)continue}}if(f===1){no(e,0),Qn(e,t,0,!0);break}e:{switch(s=e,p=f,p){case 0:case 1:throw Error(a(345));case 4:if((t&4194048)!==t)break;case 6:Qn(s,t,zt,!Yn);break e;case 2:Ut=null;break;case 3:case 5:break;default:throw Error(a(329))}if((t&62914560)===t&&(f=sa+300-Ce(),10<f)){if(Qn(s,t,zt,!Yn),Tl(s,0,!0)!==0)break e;Nn=t,s.timeoutHandle=jd(Cd.bind(null,s,o,Ut,ua,xr,t,zt,_i,eo,Yn,p,"Throttled",-0,0),f);break e}Cd(s,o,Ut,ua,xr,t,zt,_i,eo,Yn,p,null,-0,0)}}break}while(!0);un(e)}function Cd(e,t,o,s,f,p,T,_,x,w,V,B,U,q){if(e.timeoutHandle=-1,B=t.subtreeFlags,B&8192||(B&16785408)===16785408){B={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pn},hd(t,p,B);var se=(p&62914560)===p?sa-Ce():(p&4194048)===p?Td-Ce():0;if(se=ky(B,se),se!==null){Nn=p,e.cancelPendingCommit=se(wd.bind(null,e,t,p,o,s,f,T,_,x,V,B,null,U,q)),Qn(e,p,T,!w);return}}wd(e,t,p,o,s,f,T,_,x)}function oy(e){for(var t=e;;){var o=t.tag;if((o===0||o===11||o===15)&&t.flags&16384&&(o=t.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var s=0;s<o.length;s++){var f=o[s],p=f.getSnapshot;f=f.value;try{if(!qt(p(),f))return!1}catch{return!1}}if(o=t.child,t.subtreeFlags&16384&&o!==null)o.return=t,t=o;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qn(e,t,o,s){t&=~Ar,t&=~_i,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var f=t;0<f;){var p=31-xt(f),T=1<<p;s[p]=-1,f&=~T}o!==0&&bu(e,o,t)}function ca(){return(He&6)===0?(tl(0),!1):!0}function Dr(){if(De!==null){if(Pe===0)var e=De.return;else e=De,yn=pi=null,Ys(e),Ji=null,Ho=0,e=De;for(;e!==null;)ed(e.alternate,e),e=e.return;De=null}}function no(e,t){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,Ay(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),Nn=0,Dr(),Ke=e,De=o=hn(e.current,null),we=t,Pe=0,Vt=null,Yn=!1,ji=So(e,t),Cr=!1,eo=zt=Ar=_i=Jn=it=0,Ut=jo=null,xr=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var f=31-xt(s),p=1<<f;t|=e[f],s&=~p}return Rn=t,wl(),o}function Ad(e,t){Me=null,G.H=Yo,t===Yi||t===Vl?(t=Vc(),Pe=3):t===Us?(t=Vc(),Pe=4):Pe=t===sr?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Vt=t,De===null&&(it=1,jl(e,Yt(t,e.current)))}function xd(){var e=Ht.current;return e===null?!0:(we&4194048)===we?Qt===null:(we&62914560)===we||(we&536870912)!==0?e===Qt:!1}function Md(){var e=G.H;return G.H=Yo,e===null?Yo:e}function Rd(){var e=G.A;return G.A=ny,e}function fa(){it=4,Yn||(we&4194048)!==we&&Ht.current!==null||(ji=!0),(Jn&134217727)===0&&(_i&134217727)===0||Ke===null||Qn(Ke,we,zt,!1)}function Ir(e,t,o){var s=He;He|=2;var f=Md(),p=Rd();(Ke!==e||we!==t)&&(ua=null,no(e,t)),t=!1;var T=it;e:do try{if(Pe!==0&&De!==null){var _=De,x=Vt;switch(Pe){case 8:Dr(),T=6;break e;case 3:case 2:case 9:case 6:Ht.current===null&&(t=!0);var w=Pe;if(Pe=0,Vt=null,io(e,_,x,w),o&&ji){T=0;break e}break;default:w=Pe,Pe=0,Vt=null,io(e,_,x,w)}}ly(),T=it;break}catch(V){Ad(e,V)}while(!0);return t&&e.shellSuspendCounter++,yn=pi=null,He=s,G.H=f,G.A=p,De===null&&(Ke=null,we=0,wl()),T}function ly(){for(;De!==null;)Nd(De)}function ay(e,t){var o=He;He|=2;var s=Md(),f=Rd();Ke!==e||we!==t?(ua=null,ra=Ce()+500,no(e,t)):ji=So(e,t);e:do try{if(Pe!==0&&De!==null){t=De;var p=Vt;t:switch(Pe){case 1:Pe=0,Vt=null,io(e,t,p,1);break;case 2:case 9:if(Hc(p)){Pe=0,Vt=null,Dd(t);break}t=function(){Pe!==2&&Pe!==9||Ke!==e||(Pe=7),un(e)},p.then(t,t);break e;case 3:Pe=7;break e;case 4:Pe=5;break e;case 7:Hc(p)?(Pe=0,Vt=null,Dd(t)):(Pe=0,Vt=null,io(e,t,p,7));break;case 5:var T=null;switch(De.tag){case 26:T=De.memoizedState;case 5:case 27:var _=De;if(T?mp(T):_.stateNode.complete){Pe=0,Vt=null;var x=_.sibling;if(x!==null)De=x;else{var w=_.return;w!==null?(De=w,da(w)):De=null}break t}}Pe=0,Vt=null,io(e,t,p,5);break;case 6:Pe=0,Vt=null,io(e,t,p,6);break;case 8:Dr(),it=6;break e;default:throw Error(a(462))}}sy();break}catch(V){Ad(e,V)}while(!0);return yn=pi=null,G.H=s,G.A=f,He=o,De!==null?0:(Ke=null,we=0,wl(),it)}function sy(){for(;De!==null&&!Je();)Nd(De)}function Nd(e){var t=Wf(e.alternate,e,Rn);e.memoizedProps=e.pendingProps,t===null?da(e):De=t}function Dd(e){var t=e,o=t.alternate;switch(t.tag){case 15:case 0:t=Jf(o,t,t.pendingProps,t.type,void 0,we);break;case 11:t=Jf(o,t,t.pendingProps,t.type.render,t.ref,we);break;case 5:Ys(t);default:ed(o,t),t=De=Mc(t,Rn),t=Wf(o,t,Rn)}e.memoizedProps=e.pendingProps,t===null?da(e):De=t}function io(e,t,o,s){yn=pi=null,Ys(t),Ji=null,Ho=0;var f=t.return;try{if(Qg(e,f,t,o,we)){it=1,jl(e,Yt(o,e.current)),De=null;return}}catch(p){if(f!==null)throw De=f,p;it=1,jl(e,Yt(o,e.current)),De=null;return}t.flags&32768?(Ue||s===1?e=!0:ji||(we&536870912)!==0?e=!1:(Yn=e=!0,(s===2||s===9||s===3||s===6)&&(s=Ht.current,s!==null&&s.tag===13&&(s.flags|=16384))),Id(t,e)):da(t)}function da(e){var t=e;do{if((t.flags&32768)!==0){Id(t,Yn);return}e=t.return;var o=Wg(t.alternate,t,Rn);if(o!==null){De=o;return}if(t=t.sibling,t!==null){De=t;return}De=t=e}while(t!==null);it===0&&(it=5)}function Id(e,t){do{var o=jg(e.alternate,e);if(o!==null){o.flags&=32767,De=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!t&&(e=e.sibling,e!==null)){De=e;return}De=e=o}while(e!==null);it=6,De=null}function wd(e,t,o,s,f,p,T,_,x){e.cancelPendingCommit=null;do pa();while(dt!==0);if((He&6)!==0)throw Error(a(327));if(t!==null){if(t===e.current)throw Error(a(177));if(p=t.lanes|t.childLanes,p|=vs,zh(e,o,p,T,_,x),e===Ke&&(De=Ke=null,we=0),to=t,Xn=e,Nn=o,Mr=p,Rr=f,Sd=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,fy(ue,function(){return Gd(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=G.T,G.T=null,f=$.p,$.p=2,T=He,He|=4;try{ey(e,t,o)}finally{He=T,$.p=f,G.T=s}}dt=1,bd(),Ud(),Ld()}}function bd(){if(dt===1){dt=0;var e=Xn,t=to,o=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||o){o=G.T,G.T=null;var s=$.p;$.p=2;var f=He;He|=4;try{dd(t,e);var p=kr,T=yc(e.containerInfo),_=p.focusedElem,x=p.selectionRange;if(T!==_&&_&&_.ownerDocument&&gc(_.ownerDocument.documentElement,_)){if(x!==null&&ps(_)){var w=x.start,V=x.end;if(V===void 0&&(V=w),"selectionStart"in _)_.selectionStart=w,_.selectionEnd=Math.min(V,_.value.length);else{var B=_.ownerDocument||document,U=B&&B.defaultView||window;if(U.getSelection){var q=U.getSelection(),se=_.textContent.length,Te=Math.min(x.start,se),Fe=x.end===void 0?Te:Math.min(x.end,se);!q.extend&&Te>Fe&&(T=Fe,Fe=Te,Te=T);var D=hc(_,Te),N=hc(_,Fe);if(D&&N&&(q.rangeCount!==1||q.anchorNode!==D.node||q.anchorOffset!==D.offset||q.focusNode!==N.node||q.focusOffset!==N.offset)){var I=B.createRange();I.setStart(D.node,D.offset),q.removeAllRanges(),Te>Fe?(q.addRange(I),q.extend(N.node,N.offset)):(I.setEnd(N.node,N.offset),q.addRange(I))}}}}for(B=[],q=_;q=q.parentNode;)q.nodeType===1&&B.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<B.length;_++){var z=B[_];z.element.scrollLeft=z.left,z.element.scrollTop=z.top}}xa=!!Br,kr=Br=null}finally{He=f,$.p=s,G.T=o}}e.current=t,dt=2}}function Ud(){if(dt===2){dt=0;var e=Xn,t=to,o=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||o){o=G.T,G.T=null;var s=$.p;$.p=2;var f=He;He|=4;try{sd(e,t.alternate,t)}finally{He=f,$.p=s,G.T=o}}dt=3}}function Ld(){if(dt===4||dt===3){dt=0,Se();var e=Xn,t=to,o=Nn,s=Sd;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?dt=5:(dt=0,to=Xn=null,qd(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Kn=null),Xa(o),t=t.stateNode,Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(st,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=G.T,f=$.p,$.p=2,G.T=null;try{for(var p=e.onRecoverableError,T=0;T<s.length;T++){var _=s[T];p(_.value,{componentStack:_.stack})}}finally{G.T=t,$.p=f}}(Nn&3)!==0&&pa(),un(e),f=e.pendingLanes,(o&261930)!==0&&(f&42)!==0?e===Nr?el++:(el=0,Nr=e):el=0,tl(0)}}function qd(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,qo(t)))}function pa(){return bd(),Ud(),Ld(),Gd()}function Gd(){if(dt!==5)return!1;var e=Xn,t=Mr;Mr=0;var o=Xa(Nn),s=G.T,f=$.p;try{$.p=32>o?32:o,G.T=null,o=Rr,Rr=null;var p=Xn,T=Nn;if(dt=0,to=Xn=null,Nn=0,(He&6)!==0)throw Error(a(331));var _=He;if(He|=4,yd(p.current),md(p,p.current,T,o),He=_,tl(0,!1),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(st,p)}catch{}return!0}finally{$.p=f,G.T=s,qd(e,t)}}function Hd(e,t,o){t=Yt(o,t),t=ar(e.stateNode,t,2),e=Bn(e,t,2),e!==null&&(Eo(e,2),un(e))}function Ve(e,t,o){if(e.tag===3)Hd(e,e,o);else for(;t!==null;){if(t.tag===3){Hd(t,e,o);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Kn===null||!Kn.has(s))){e=Yt(o,e),o=Pf(2),s=Bn(t,o,2),s!==null&&(Vf(o,s,t,e),Eo(s,2),un(s));break}}t=t.return}}function wr(e,t,o){var s=e.pingCache;if(s===null){s=e.pingCache=new iy;var f=new Set;s.set(t,f)}else f=s.get(t),f===void 0&&(f=new Set,s.set(t,f));f.has(o)||(Cr=!0,f.add(o),e=ry.bind(null,e,t,o),t.then(e,e))}function ry(e,t,o){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,Ke===e&&(we&o)===o&&(it===4||it===3&&(we&62914560)===we&&300>Ce()-sa?(He&2)===0&&no(e,0):Ar|=o,eo===we&&(eo=0)),un(e)}function Pd(e,t){t===0&&(t=wu()),e=ci(e,t),e!==null&&(Eo(e,t),un(e))}function uy(e){var t=e.memoizedState,o=0;t!==null&&(o=t.retryLane),Pd(e,o)}function cy(e,t){var o=0;switch(e.tag){case 31:case 13:var s=e.stateNode,f=e.memoizedState;f!==null&&(o=f.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(t),Pd(e,o)}function fy(e,t){return F(e,t)}var ma=null,oo=null,br=!1,ha=!1,Ur=!1,Zn=0;function un(e){e!==oo&&e.next===null&&(oo===null?ma=oo=e:oo=oo.next=e),ha=!0,br||(br=!0,py())}function tl(e,t){if(!Ur&&ha){Ur=!0;do for(var o=!1,s=ma;s!==null;){if(e!==0){var f=s.pendingLanes;if(f===0)var p=0;else{var T=s.suspendedLanes,_=s.pingedLanes;p=(1<<31-xt(42|e)+1)-1,p&=f&~(T&~_),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,kd(s,p))}else p=we,p=Tl(s,s===Ke?p:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(p&3)===0||So(s,p)||(o=!0,kd(s,p));s=s.next}while(o);Ur=!1}}function dy(){Vd()}function Vd(){ha=br=!1;var e=0;Zn!==0&&Cy()&&(e=Zn);for(var t=Ce(),o=null,s=ma;s!==null;){var f=s.next,p=zd(s,t);p===0?(s.next=null,o===null?ma=f:o.next=f,f===null&&(oo=o)):(o=s,(e!==0||(p&3)!==0)&&(ha=!0)),s=f}dt!==0&&dt!==5||tl(e),Zn!==0&&(Zn=0)}function zd(e,t){for(var o=e.suspendedLanes,s=e.pingedLanes,f=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var T=31-xt(p),_=1<<T,x=f[T];x===-1?((_&o)===0||(_&s)!==0)&&(f[T]=Vh(_,t)):x<=t&&(e.expiredLanes|=_),p&=~_}if(t=Ke,o=we,o=Tl(e,e===t?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,o===0||e===t&&(Pe===2||Pe===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&ve(s),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||So(e,o)){if(t=o&-o,t===e.callbackPriority)return t;switch(s!==null&&ve(s),Xa(o)){case 2:case 8:o=Ae;break;case 32:o=ue;break;case 268435456:o=ge;break;default:o=ue}return s=Bd.bind(null,e),o=F(o,s),e.callbackPriority=t,e.callbackNode=o,t}return s!==null&&s!==null&&ve(s),e.callbackPriority=2,e.callbackNode=null,2}function Bd(e,t){if(dt!==0&&dt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(pa()&&e.callbackNode!==o)return null;var s=we;return s=Tl(e,e===Ke?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(_d(e,s,t),zd(e,Ce()),e.callbackNode!=null&&e.callbackNode===o?Bd.bind(null,e):null)}function kd(e,t){if(pa())return null;_d(e,t,!0)}function py(){xy(function(){(He&6)!==0?F(at,dy):Vd()})}function Lr(){if(Zn===0){var e=Oi;e===0&&(e=gl,gl<<=1,(gl&261888)===0&&(gl=256)),Zn=e}return Zn}function Od(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Cl(""+e)}function Fd(e,t){var o=t.ownerDocument.createElement("input");return o.name=t.name,o.value=t.value,e.id&&o.setAttribute("form",e.id),t.parentNode.insertBefore(o,t),e=new FormData(e),o.parentNode.removeChild(o),e}function my(e,t,o,s,f){if(t==="submit"&&o&&o.stateNode===f){var p=Od((f[Nt]||null).action),T=s.submitter;T&&(t=(t=T[Nt]||null)?Od(t.formAction):T.getAttribute("formAction"),t!==null&&(p=t,T=null));var _=new Rl("action","action",null,s,f);e.push({event:_,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Zn!==0){var x=T?Fd(f,T):new FormData(f);er(o,{pending:!0,data:x,method:f.method,action:p},null,x)}}else typeof p=="function"&&(_.preventDefault(),x=T?Fd(f,T):new FormData(f),er(o,{pending:!0,data:x,method:f.method,action:p},p,x))},currentTarget:f}]})}}for(var qr=0;qr<ys.length;qr++){var Gr=ys[qr],hy=Gr.toLowerCase(),gy=Gr[0].toUpperCase()+Gr.slice(1);tn(hy,"on"+gy)}tn(Sc,"onAnimationEnd"),tn(Ec,"onAnimationIteration"),tn(_c,"onAnimationStart"),tn("dblclick","onDoubleClick"),tn("focusin","onFocus"),tn("focusout","onBlur"),tn(bg,"onTransitionRun"),tn(Ug,"onTransitionStart"),tn(Lg,"onTransitionCancel"),tn(Cc,"onTransitionEnd"),Di("onMouseEnter",["mouseout","mouseover"]),Di("onMouseLeave",["mouseout","mouseover"]),Di("onPointerEnter",["pointerout","pointerover"]),Di("onPointerLeave",["pointerout","pointerover"]),ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nl));function Yd(e,t){t=(t&4)!==0;for(var o=0;o<e.length;o++){var s=e[o],f=s.event;s=s.listeners;e:{var p=void 0;if(t)for(var T=s.length-1;0<=T;T--){var _=s[T],x=_.instance,w=_.currentTarget;if(_=_.listener,x!==p&&f.isPropagationStopped())break e;p=_,f.currentTarget=w;try{p(f)}catch(V){Il(V)}f.currentTarget=null,p=x}else for(T=0;T<s.length;T++){if(_=s[T],x=_.instance,w=_.currentTarget,_=_.listener,x!==p&&f.isPropagationStopped())break e;p=_,f.currentTarget=w;try{p(f)}catch(V){Il(V)}f.currentTarget=null,p=x}}}}function Ie(e,t){var o=t[Qa];o===void 0&&(o=t[Qa]=new Set);var s=e+"__bubble";o.has(s)||(Jd(t,e,2,!1),o.add(s))}function Hr(e,t,o){var s=0;t&&(s|=4),Jd(o,e,s,t)}var ga="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){if(!e[ga]){e[ga]=!0,Pu.forEach(function(o){o!=="selectionchange"&&(yy.has(o)||Hr(o,!1,e),Hr(o,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ga]||(t[ga]=!0,Hr("selectionchange",!1,t))}}function Jd(e,t,o,s){switch(Ep(t)){case 2:var f=Yy;break;case 8:f=Jy;break;default:f=jr}o=f.bind(null,t,o,e),f=void 0,!os||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(f=!0),s?f!==void 0?e.addEventListener(t,o,{capture:!0,passive:f}):e.addEventListener(t,o,!0):f!==void 0?e.addEventListener(t,o,{passive:f}):e.addEventListener(t,o,!1)}function Vr(e,t,o,s,f){var p=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var T=s.tag;if(T===3||T===4){var _=s.stateNode.containerInfo;if(_===f)break;if(T===4)for(T=s.return;T!==null;){var x=T.tag;if((x===3||x===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;_!==null;){if(T=Mi(_),T===null)return;if(x=T.tag,x===5||x===6||x===26||x===27){s=p=T;continue e}_=_.parentNode}}s=s.return}Zu(function(){var w=p,V=ns(o),B=[];e:{var U=Ac.get(e);if(U!==void 0){var q=Rl,se=e;switch(e){case"keypress":if(xl(o)===0)break e;case"keydown":case"keyup":q=cg;break;case"focusin":se="focus",q=rs;break;case"focusout":se="blur",q=rs;break;case"beforeblur":case"afterblur":q=rs;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=ju;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Wh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=pg;break;case Sc:case Ec:case _c:q=tg;break;case Cc:q=hg;break;case"scroll":case"scrollend":q=Zh;break;case"wheel":q=yg;break;case"copy":case"cut":case"paste":q=ig;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=tc;break;case"toggle":case"beforetoggle":q=Tg}var Te=(t&4)!==0,Fe=!Te&&(e==="scroll"||e==="scrollend"),D=Te?U!==null?U+"Capture":null:U;Te=[];for(var N=w,I;N!==null;){var z=N;if(I=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||I===null||D===null||(z=Ao(N,D),z!=null&&Te.push(il(N,z,I))),Fe)break;N=N.return}0<Te.length&&(U=new q(U,se,null,o,V),B.push({event:U,listeners:Te}))}}if((t&7)===0){e:{if(U=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",U&&o!==ts&&(se=o.relatedTarget||o.fromElement)&&(Mi(se)||se[xi]))break e;if((q||U)&&(U=V.window===V?V:(U=V.ownerDocument)?U.defaultView||U.parentWindow:window,q?(se=o.relatedTarget||o.toElement,q=w,se=se?Mi(se):null,se!==null&&(Fe=d(se),Te=se.tag,se!==Fe||Te!==5&&Te!==27&&Te!==6)&&(se=null)):(q=null,se=w),q!==se)){if(Te=ju,z="onMouseLeave",D="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(Te=tc,z="onPointerLeave",D="onPointerEnter",N="pointer"),Fe=q==null?U:Co(q),I=se==null?U:Co(se),U=new Te(z,N+"leave",q,o,V),U.target=Fe,U.relatedTarget=I,z=null,Mi(V)===w&&(Te=new Te(D,N+"enter",se,o,V),Te.target=I,Te.relatedTarget=Fe,z=Te),Fe=z,q&&se)t:{for(Te=vy,D=q,N=se,I=0,z=D;z;z=Te(z))I++;z=0;for(var pe=N;pe;pe=Te(pe))z++;for(;0<I-z;)D=Te(D),I--;for(;0<z-I;)N=Te(N),z--;for(;I--;){if(D===N||N!==null&&D===N.alternate){Te=D;break t}D=Te(D),N=Te(N)}Te=null}else Te=null;q!==null&&Kd(B,U,q,Te,!1),se!==null&&Fe!==null&&Kd(B,Fe,se,Te,!0)}}e:{if(U=w?Co(w):window,q=U.nodeName&&U.nodeName.toLowerCase(),q==="select"||q==="input"&&U.type==="file")var Le=uc;else if(sc(U))if(cc)Le=Dg;else{Le=Rg;var ce=Mg}else q=U.nodeName,!q||q.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?w&&es(w.elementType)&&(Le=uc):Le=Ng;if(Le&&(Le=Le(e,w))){rc(B,Le,o,V);break e}ce&&ce(e,U,w),e==="focusout"&&w&&U.type==="number"&&w.memoizedProps.value!=null&&ja(U,"number",U.value)}switch(ce=w?Co(w):window,e){case"focusin":(sc(ce)||ce.contentEditable==="true")&&(qi=ce,ms=w,bo=null);break;case"focusout":bo=ms=qi=null;break;case"mousedown":hs=!0;break;case"contextmenu":case"mouseup":case"dragend":hs=!1,vc(B,o,V);break;case"selectionchange":if(wg)break;case"keydown":case"keyup":vc(B,o,V)}var Re;if(cs)e:{switch(e){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Li?lc(e,o)&&(be="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(be="onCompositionStart");be&&(nc&&o.locale!=="ko"&&(Li||be!=="onCompositionStart"?be==="onCompositionEnd"&&Li&&(Re=$u()):(Ln=V,ls="value"in Ln?Ln.value:Ln.textContent,Li=!0)),ce=ya(w,be),0<ce.length&&(be=new ec(be,e,null,o,V),B.push({event:be,listeners:ce}),Re?be.data=Re:(Re=ac(o),Re!==null&&(be.data=Re)))),(Re=Eg?_g(e,o):Cg(e,o))&&(be=ya(w,"onBeforeInput"),0<be.length&&(ce=new ec("onBeforeInput","beforeinput",null,o,V),B.push({event:ce,listeners:be}),ce.data=Re)),my(B,e,w,o,V)}Yd(B,t)})}function il(e,t,o){return{instance:e,listener:t,currentTarget:o}}function ya(e,t){for(var o=t+"Capture",s=[];e!==null;){var f=e,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=Ao(e,o),f!=null&&s.unshift(il(e,f,p)),f=Ao(e,t),f!=null&&s.push(il(e,f,p))),e.tag===3)return s;e=e.return}return[]}function vy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Kd(e,t,o,s,f){for(var p=t._reactName,T=[];o!==null&&o!==s;){var _=o,x=_.alternate,w=_.stateNode;if(_=_.tag,x!==null&&x===s)break;_!==5&&_!==26&&_!==27||w===null||(x=w,f?(w=Ao(o,p),w!=null&&T.unshift(il(o,w,x))):f||(w=Ao(o,p),w!=null&&T.push(il(o,w,x)))),o=o.return}T.length!==0&&e.push({event:t,listeners:T})}var Ty=/\r\n?/g,Sy=/\u0000|\uFFFD/g;function Xd(e){return(typeof e=="string"?e:""+e).replace(Ty,`
`).replace(Sy,"")}function Qd(e,t){return t=Xd(t),Xd(e)===t}function Oe(e,t,o,s,f,p){switch(o){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||wi(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&wi(e,""+s);break;case"className":El(e,"class",s);break;case"tabIndex":El(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":El(e,o,s);break;case"style":Xu(e,s,p);break;case"data":if(t!=="object"){El(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||o!=="href")){e.removeAttribute(o);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(o);break}s=Cl(""+s),e.setAttribute(o,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(t!=="input"&&Oe(e,t,"name",f.name,f,null),Oe(e,t,"formEncType",f.formEncType,f,null),Oe(e,t,"formMethod",f.formMethod,f,null),Oe(e,t,"formTarget",f.formTarget,f,null)):(Oe(e,t,"encType",f.encType,f,null),Oe(e,t,"method",f.method,f,null),Oe(e,t,"target",f.target,f,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(o);break}s=Cl(""+s),e.setAttribute(o,s);break;case"onClick":s!=null&&(e.onclick=pn);break;case"onScroll":s!=null&&Ie("scroll",e);break;case"onScrollEnd":s!=null&&Ie("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(o=s.__html,o!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}o=Cl(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,""+s):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":s===!0?e.setAttribute(o,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,s):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(o,s):e.removeAttribute(o);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(o):e.setAttribute(o,s);break;case"popover":Ie("beforetoggle",e),Ie("toggle",e),Sl(e,"popover",s);break;case"xlinkActuate":dn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":dn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":dn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":dn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":dn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":dn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":dn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":dn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":dn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Sl(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Xh.get(o)||o,Sl(e,o,s))}}function zr(e,t,o,s,f,p){switch(o){case"style":Xu(e,s,p);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(o=s.__html,o!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"children":typeof s=="string"?wi(e,s):(typeof s=="number"||typeof s=="bigint")&&wi(e,""+s);break;case"onScroll":s!=null&&Ie("scroll",e);break;case"onScrollEnd":s!=null&&Ie("scrollend",e);break;case"onClick":s!=null&&(e.onclick=pn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vu.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),t=o.slice(2,f?o.length-7:void 0),p=e[Nt]||null,p=p!=null?p[o]:null,typeof p=="function"&&e.removeEventListener(t,p,f),typeof s=="function")){typeof p!="function"&&p!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(t,s,f);break e}o in e?e[o]=s:s===!0?e.setAttribute(o,""):Sl(e,o,s)}}}function Et(e,t,o){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",e),Ie("load",e);var s=!1,f=!1,p;for(p in o)if(o.hasOwnProperty(p)){var T=o[p];if(T!=null)switch(p){case"src":s=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Oe(e,t,p,T,o,null)}}f&&Oe(e,t,"srcSet",o.srcSet,o,null),s&&Oe(e,t,"src",o.src,o,null);return;case"input":Ie("invalid",e);var _=p=T=f=null,x=null,w=null;for(s in o)if(o.hasOwnProperty(s)){var V=o[s];if(V!=null)switch(s){case"name":f=V;break;case"type":T=V;break;case"checked":x=V;break;case"defaultChecked":w=V;break;case"value":p=V;break;case"defaultValue":_=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(a(137,t));break;default:Oe(e,t,s,V,o,null)}}Fu(e,p,_,x,w,T,f,!1);return;case"select":Ie("invalid",e),s=T=p=null;for(f in o)if(o.hasOwnProperty(f)&&(_=o[f],_!=null))switch(f){case"value":p=_;break;case"defaultValue":T=_;break;case"multiple":s=_;default:Oe(e,t,f,_,o,null)}t=p,o=T,e.multiple=!!s,t!=null?Ii(e,!!s,t,!1):o!=null&&Ii(e,!!s,o,!0);return;case"textarea":Ie("invalid",e),p=f=s=null;for(T in o)if(o.hasOwnProperty(T)&&(_=o[T],_!=null))switch(T){case"value":s=_;break;case"defaultValue":f=_;break;case"children":p=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(a(91));break;default:Oe(e,t,T,_,o,null)}Ju(e,s,f,p);return;case"option":for(x in o)if(o.hasOwnProperty(x)&&(s=o[x],s!=null))switch(x){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Oe(e,t,x,s,o,null)}return;case"dialog":Ie("beforetoggle",e),Ie("toggle",e),Ie("cancel",e),Ie("close",e);break;case"iframe":case"object":Ie("load",e);break;case"video":case"audio":for(s=0;s<nl.length;s++)Ie(nl[s],e);break;case"image":Ie("error",e),Ie("load",e);break;case"details":Ie("toggle",e);break;case"embed":case"source":case"link":Ie("error",e),Ie("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(w in o)if(o.hasOwnProperty(w)&&(s=o[w],s!=null))switch(w){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Oe(e,t,w,s,o,null)}return;default:if(es(t)){for(V in o)o.hasOwnProperty(V)&&(s=o[V],s!==void 0&&zr(e,t,V,s,o,void 0));return}}for(_ in o)o.hasOwnProperty(_)&&(s=o[_],s!=null&&Oe(e,t,_,s,o,null))}function Ey(e,t,o,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,T=null,_=null,x=null,w=null,V=null;for(q in o){var B=o[q];if(o.hasOwnProperty(q)&&B!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":x=B;default:s.hasOwnProperty(q)||Oe(e,t,q,null,s,B)}}for(var U in s){var q=s[U];if(B=o[U],s.hasOwnProperty(U)&&(q!=null||B!=null))switch(U){case"type":p=q;break;case"name":f=q;break;case"checked":w=q;break;case"defaultChecked":V=q;break;case"value":T=q;break;case"defaultValue":_=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,t));break;default:q!==B&&Oe(e,t,U,q,s,B)}}Wa(e,T,_,x,w,V,p,f);return;case"select":q=T=_=U=null;for(p in o)if(x=o[p],o.hasOwnProperty(p)&&x!=null)switch(p){case"value":break;case"multiple":q=x;default:s.hasOwnProperty(p)||Oe(e,t,p,null,s,x)}for(f in s)if(p=s[f],x=o[f],s.hasOwnProperty(f)&&(p!=null||x!=null))switch(f){case"value":U=p;break;case"defaultValue":_=p;break;case"multiple":T=p;default:p!==x&&Oe(e,t,f,p,s,x)}t=_,o=T,s=q,U!=null?Ii(e,!!o,U,!1):!!s!=!!o&&(t!=null?Ii(e,!!o,t,!0):Ii(e,!!o,o?[]:"",!1));return;case"textarea":q=U=null;for(_ in o)if(f=o[_],o.hasOwnProperty(_)&&f!=null&&!s.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Oe(e,t,_,null,s,f)}for(T in s)if(f=s[T],p=o[T],s.hasOwnProperty(T)&&(f!=null||p!=null))switch(T){case"value":U=f;break;case"defaultValue":q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==p&&Oe(e,t,T,f,s,p)}Yu(e,U,q);return;case"option":for(var se in o)if(U=o[se],o.hasOwnProperty(se)&&U!=null&&!s.hasOwnProperty(se))switch(se){case"selected":e.selected=!1;break;default:Oe(e,t,se,null,s,U)}for(x in s)if(U=s[x],q=o[x],s.hasOwnProperty(x)&&U!==q&&(U!=null||q!=null))switch(x){case"selected":e.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:Oe(e,t,x,U,s,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in o)U=o[Te],o.hasOwnProperty(Te)&&U!=null&&!s.hasOwnProperty(Te)&&Oe(e,t,Te,null,s,U);for(w in s)if(U=s[w],q=o[w],s.hasOwnProperty(w)&&U!==q&&(U!=null||q!=null))switch(w){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(a(137,t));break;default:Oe(e,t,w,U,s,q)}return;default:if(es(t)){for(var Fe in o)U=o[Fe],o.hasOwnProperty(Fe)&&U!==void 0&&!s.hasOwnProperty(Fe)&&zr(e,t,Fe,void 0,s,U);for(V in s)U=s[V],q=o[V],!s.hasOwnProperty(V)||U===q||U===void 0&&q===void 0||zr(e,t,V,U,s,q);return}}for(var D in o)U=o[D],o.hasOwnProperty(D)&&U!=null&&!s.hasOwnProperty(D)&&Oe(e,t,D,null,s,U);for(B in s)U=s[B],q=o[B],!s.hasOwnProperty(B)||U===q||U==null&&q==null||Oe(e,t,B,U,s,q)}function Zd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _y(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,o=performance.getEntriesByType("resource"),s=0;s<o.length;s++){var f=o[s],p=f.transferSize,T=f.initiatorType,_=f.duration;if(p&&_&&Zd(T)){for(T=0,_=f.responseEnd,s+=1;s<o.length;s++){var x=o[s],w=x.startTime;if(w>_)break;var V=x.transferSize,B=x.initiatorType;V&&Zd(B)&&(x=x.responseEnd,T+=V*(x<_?1:(_-w)/(x-w)))}if(--s,t+=8*(p+T)/(f.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Br=null,kr=null;function va(e){return e.nodeType===9?e:e.ownerDocument}function $d(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wd(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Or(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fr=null;function Cy(){var e=window.event;return e&&e.type==="popstate"?e===Fr?!1:(Fr=e,!0):(Fr=null,!1)}var jd=typeof setTimeout=="function"?setTimeout:void 0,Ay=typeof clearTimeout=="function"?clearTimeout:void 0,ep=typeof Promise=="function"?Promise:void 0,xy=typeof queueMicrotask=="function"?queueMicrotask:typeof ep<"u"?function(e){return ep.resolve(null).then(e).catch(My)}:jd;function My(e){setTimeout(function(){throw e})}function $n(e){return e==="head"}function tp(e,t){var o=t,s=0;do{var f=o.nextSibling;if(e.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(s===0){e.removeChild(f),ro(t);return}s--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")s++;else if(o==="html")ol(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,ol(o);for(var p=o.firstChild;p;){var T=p.nextSibling,_=p.nodeName;p[_o]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=T}}else o==="body"&&ol(e.ownerDocument.body);o=f}while(o);ro(t)}function np(e,t){var o=e;e=0;do{var s=o.nextSibling;if(o.nodeType===1?t?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(t?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),s&&s.nodeType===8)if(o=s.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=s}while(o)}function Yr(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var o=t;switch(t=t.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Yr(o),Za(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function Ry(e,t,o,s){for(;e.nodeType===1;){var f=o;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[_o])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=Zt(e.nextSibling),e===null)break}return null}function Ny(e,t,o){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=Zt(e.nextSibling),e===null))return null;return e}function ip(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Zt(e.nextSibling),e===null))return null;return e}function Jr(e){return e.data==="$?"||e.data==="$~"}function Kr(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Dy(e,t){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||o.readyState!=="loading")t();else{var s=function(){t(),o.removeEventListener("DOMContentLoaded",s)};o.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Zt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Xr=null;function op(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(t===0)return Zt(e.nextSibling);t--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||t++}e=e.nextSibling}return null}function lp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(t===0)return e;t--}else o!=="/$"&&o!=="/&"||t++}e=e.previousSibling}return null}function ap(e,t,o){switch(t=va(o),e){case"html":if(e=t.documentElement,!e)throw Error(a(452));return e;case"head":if(e=t.head,!e)throw Error(a(453));return e;case"body":if(e=t.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ol(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Za(e)}var $t=new Map,sp=new Set;function Ta(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Dn=$.d;$.d={f:Iy,r:wy,D:by,C:Uy,L:Ly,m:qy,X:Hy,S:Gy,M:Py};function Iy(){var e=Dn.f(),t=ca();return e||t}function wy(e){var t=Ri(e);t!==null&&t.tag===5&&t.type==="form"?Af(t):Dn.r(e)}var lo=typeof document>"u"?null:document;function rp(e,t,o){var s=lo;if(s&&typeof t=="string"&&t){var f=Ot(t);f='link[rel="'+e+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),sp.has(f)||(sp.add(f),e={rel:e,crossOrigin:o,href:t},s.querySelector(f)===null&&(t=s.createElement("link"),Et(t,"link",e),ht(t),s.head.appendChild(t)))}}function by(e){Dn.D(e),rp("dns-prefetch",e,null)}function Uy(e,t){Dn.C(e,t),rp("preconnect",e,t)}function Ly(e,t,o){Dn.L(e,t,o);var s=lo;if(s&&e&&t){var f='link[rel="preload"][as="'+Ot(t)+'"]';t==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Ot(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Ot(o.imageSizes)+'"]')):f+='[href="'+Ot(e)+'"]';var p=f;switch(t){case"style":p=ao(e);break;case"script":p=so(e)}$t.has(p)||(e=S({rel:"preload",href:t==="image"&&o&&o.imageSrcSet?void 0:e,as:t},o),$t.set(p,e),s.querySelector(f)!==null||t==="style"&&s.querySelector(ll(p))||t==="script"&&s.querySelector(al(p))||(t=s.createElement("link"),Et(t,"link",e),ht(t),s.head.appendChild(t)))}}function qy(e,t){Dn.m(e,t);var o=lo;if(o&&e){var s=t&&typeof t.as=="string"?t.as:"script",f='link[rel="modulepreload"][as="'+Ot(s)+'"][href="'+Ot(e)+'"]',p=f;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=so(e)}if(!$t.has(p)&&(e=S({rel:"modulepreload",href:e},t),$t.set(p,e),o.querySelector(f)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(al(p)))return}s=o.createElement("link"),Et(s,"link",e),ht(s),o.head.appendChild(s)}}}function Gy(e,t,o){Dn.S(e,t,o);var s=lo;if(s&&e){var f=Ni(s).hoistableStyles,p=ao(e);t=t||"default";var T=f.get(p);if(!T){var _={loading:0,preload:null};if(T=s.querySelector(ll(p)))_.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":t},o),(o=$t.get(p))&&Qr(e,o);var x=T=s.createElement("link");ht(x),Et(x,"link",e),x._p=new Promise(function(w,V){x.onload=w,x.onerror=V}),x.addEventListener("load",function(){_.loading|=1}),x.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Sa(T,t,s)}T={type:"stylesheet",instance:T,count:1,state:_},f.set(p,T)}}}function Hy(e,t){Dn.X(e,t);var o=lo;if(o&&e){var s=Ni(o).hoistableScripts,f=so(e),p=s.get(f);p||(p=o.querySelector(al(f)),p||(e=S({src:e,async:!0},t),(t=$t.get(f))&&Zr(e,t),p=o.createElement("script"),ht(p),Et(p,"link",e),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},s.set(f,p))}}function Py(e,t){Dn.M(e,t);var o=lo;if(o&&e){var s=Ni(o).hoistableScripts,f=so(e),p=s.get(f);p||(p=o.querySelector(al(f)),p||(e=S({src:e,async:!0,type:"module"},t),(t=$t.get(f))&&Zr(e,t),p=o.createElement("script"),ht(p),Et(p,"link",e),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},s.set(f,p))}}function up(e,t,o,s){var f=(f=ae.current)?Ta(f):null;if(!f)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(t=ao(o.href),o=Ni(f).hoistableStyles,s=o.get(t),s||(s={type:"style",instance:null,count:0,state:null},o.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=ao(o.href);var p=Ni(f).hoistableStyles,T=p.get(e);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,T),(p=f.querySelector(ll(e)))&&!p._p&&(T.instance=p,T.state.loading=5),$t.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},$t.set(e,o),p||Vy(f,e,o,T.state))),t&&s===null)throw Error(a(528,""));return T}if(t&&s!==null)throw Error(a(529,""));return null;case"script":return t=o.async,o=o.src,typeof o=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=so(o),o=Ni(f).hoistableScripts,s=o.get(t),s||(s={type:"script",instance:null,count:0,state:null},o.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function ao(e){return'href="'+Ot(e)+'"'}function ll(e){return'link[rel="stylesheet"]['+e+"]"}function cp(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function Vy(e,t,o,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),Et(t,"link",o),ht(t),e.head.appendChild(t))}function so(e){return'[src="'+Ot(e)+'"]'}function al(e){return"script[async]"+e}function fp(e,t,o){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Ot(o.href)+'"]');if(s)return t.instance=s,ht(s),s;var f=S({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),ht(s),Et(s,"style",f),Sa(s,o.precedence,e),t.instance=s;case"stylesheet":f=ao(o.href);var p=e.querySelector(ll(f));if(p)return t.state.loading|=4,t.instance=p,ht(p),p;s=cp(o),(f=$t.get(f))&&Qr(s,f),p=(e.ownerDocument||e).createElement("link"),ht(p);var T=p;return T._p=new Promise(function(_,x){T.onload=_,T.onerror=x}),Et(p,"link",s),t.state.loading|=4,Sa(p,o.precedence,e),t.instance=p;case"script":return p=so(o.src),(f=e.querySelector(al(p)))?(t.instance=f,ht(f),f):(s=o,(f=$t.get(p))&&(s=S({},o),Zr(s,f)),e=e.ownerDocument||e,f=e.createElement("script"),ht(f),Et(f,"link",s),e.head.appendChild(f),t.instance=f);case"void":return null;default:throw Error(a(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Sa(s,o.precedence,e));return t.instance}function Sa(e,t,o){for(var s=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=s.length?s[s.length-1]:null,p=f,T=0;T<s.length;T++){var _=s[T];if(_.dataset.precedence===t)p=_;else if(p!==f)break}p?p.parentNode.insertBefore(e,p.nextSibling):(t=o.nodeType===9?o.head:o,t.insertBefore(e,t.firstChild))}function Qr(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Zr(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ea=null;function dp(e,t,o){if(Ea===null){var s=new Map,f=Ea=new Map;f.set(o,s)}else f=Ea,s=f.get(o),s||(s=new Map,f.set(o,s));if(s.has(e))return s;for(s.set(e,null),o=o.getElementsByTagName(e),f=0;f<o.length;f++){var p=o[f];if(!(p[_o]||p[yt]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(t)||"";T=e+T;var _=s.get(T);_?_.push(p):s.set(T,[p])}}return s}function pp(e,t,o){e=e.ownerDocument||e,e.head.insertBefore(o,t==="title"?e.querySelector("head > title"):null)}function zy(e,t,o){if(o===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function mp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function By(e,t,o,s){if(o.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=ao(s.href),p=t.querySelector(ll(f));if(p){t=p._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=_a.bind(e),t.then(e,e)),o.state.loading|=4,o.instance=p,ht(p);return}p=t.ownerDocument||t,s=cp(s),(f=$t.get(f))&&Qr(s,f),p=p.createElement("link"),ht(p);var T=p;T._p=new Promise(function(_,x){T.onload=_,T.onerror=x}),Et(p,"link",s),o.instance=p}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,t),(t=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=_a.bind(e),t.addEventListener("load",o),t.addEventListener("error",o))}}var $r=0;function ky(e,t){return e.stylesheets&&e.count===0&&Aa(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var s=setTimeout(function(){if(e.stylesheets&&Aa(e,e.stylesheets),e.unsuspend){var p=e.unsuspend;e.unsuspend=null,p()}},6e4+t);0<e.imgBytes&&$r===0&&($r=62500*_y());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Aa(e,e.stylesheets),e.unsuspend)){var p=e.unsuspend;e.unsuspend=null,p()}},(e.imgBytes>$r?50:800)+t);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(f)}}:null}function _a(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Aa(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ca=null;function Aa(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ca=new Map,t.forEach(Oy,e),Ca=null,_a.call(e))}function Oy(e,t){if(!(t.state.loading&4)){var o=Ca.get(e);if(o)var s=o.get(null);else{o=new Map,Ca.set(e,o);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var T=f[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),s=T)}s&&o.set(null,s)}f=t.instance,T=f.getAttribute("data-precedence"),p=o.get(T)||s,p===s&&o.set(null,f),o.set(T,f),this.count++,s=_a.bind(this),f.addEventListener("load",s),f.addEventListener("error",s),p?p.parentNode.insertBefore(f,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),t.state.loading|=4}}var sl={$$typeof:Q,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function Fy(e,t,o,s,f,p,T,_,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ja(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ja(0),this.hiddenUpdates=Ja(null),this.identifierPrefix=s,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function hp(e,t,o,s,f,p,T,_,x,w,V,B){return e=new Fy(e,t,o,T,x,w,V,B,_),t=1,p===!0&&(t|=24),p=Gt(3,null,null,t),e.current=p,p.stateNode=e,t=Is(),t.refCount++,e.pooledCache=t,t.refCount++,p.memoizedState={element:s,isDehydrated:o,cache:t},Ls(p),e}function gp(e){return e?(e=Pi,e):Pi}function yp(e,t,o,s,f,p){f=gp(f),s.context===null?s.context=f:s.pendingContext=f,s=zn(t),s.payload={element:o},p=p===void 0?null:p,p!==null&&(s.callback=p),o=Bn(e,s,t),o!==null&&(Lt(o,e,t),Vo(o,e,t))}function vp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<t?o:t}}function Wr(e,t){vp(e,t),(e=e.alternate)&&vp(e,t)}function Tp(e){if(e.tag===13||e.tag===31){var t=ci(e,67108864);t!==null&&Lt(t,e,67108864),Wr(e,67108864)}}function Sp(e){if(e.tag===13||e.tag===31){var t=Bt();t=Ka(t);var o=ci(e,t);o!==null&&Lt(o,e,t),Wr(e,t)}}var xa=!0;function Yy(e,t,o,s){var f=G.T;G.T=null;var p=$.p;try{$.p=2,jr(e,t,o,s)}finally{$.p=p,G.T=f}}function Jy(e,t,o,s){var f=G.T;G.T=null;var p=$.p;try{$.p=8,jr(e,t,o,s)}finally{$.p=p,G.T=f}}function jr(e,t,o,s){if(xa){var f=eu(s);if(f===null)Vr(e,t,s,Ma,o),_p(e,s);else if(Xy(f,e,t,o,s))s.stopPropagation();else if(_p(e,s),t&4&&-1<Ky.indexOf(e)){for(;f!==null;){var p=Ri(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=li(p.pendingLanes);if(T!==0){var _=p;for(_.pendingLanes|=2,_.entangledLanes|=2;T;){var x=1<<31-xt(T);_.entanglements[1]|=x,T&=~x}un(p),(He&6)===0&&(ra=Ce()+500,tl(0))}}break;case 31:case 13:_=ci(p,2),_!==null&&Lt(_,p,2),ca(),Wr(p,2)}if(p=eu(s),p===null&&Vr(e,t,s,Ma,o),p===f)break;f=p}f!==null&&s.stopPropagation()}else Vr(e,t,s,null,o)}}function eu(e){return e=ns(e),tu(e)}var Ma=null;function tu(e){if(Ma=null,e=Mi(e),e!==null){var t=d(e);if(t===null)e=null;else{var o=t.tag;if(o===13){if(e=m(t),e!==null)return e;e=null}else if(o===31){if(e=g(t),e!==null)return e;e=null}else if(o===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ma=e,null}function Ep(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(et()){case at:return 2;case Ae:return 8;case ue:case fe:return 32;case ge:return 268435456;default:return 32}default:return 32}}var nu=!1,Wn=null,jn=null,ei=null,rl=new Map,ul=new Map,ti=[],Ky="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _p(e,t){switch(e){case"focusin":case"focusout":Wn=null;break;case"dragenter":case"dragleave":jn=null;break;case"mouseover":case"mouseout":ei=null;break;case"pointerover":case"pointerout":rl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ul.delete(t.pointerId)}}function cl(e,t,o,s,f,p){return e===null||e.nativeEvent!==p?(e={blockedOn:t,domEventName:o,eventSystemFlags:s,nativeEvent:p,targetContainers:[f]},t!==null&&(t=Ri(t),t!==null&&Tp(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,f!==null&&t.indexOf(f)===-1&&t.push(f),e)}function Xy(e,t,o,s,f){switch(t){case"focusin":return Wn=cl(Wn,e,t,o,s,f),!0;case"dragenter":return jn=cl(jn,e,t,o,s,f),!0;case"mouseover":return ei=cl(ei,e,t,o,s,f),!0;case"pointerover":var p=f.pointerId;return rl.set(p,cl(rl.get(p)||null,e,t,o,s,f)),!0;case"gotpointercapture":return p=f.pointerId,ul.set(p,cl(ul.get(p)||null,e,t,o,s,f)),!0}return!1}function Cp(e){var t=Mi(e.target);if(t!==null){var o=d(t);if(o!==null){if(t=o.tag,t===13){if(t=m(o),t!==null){e.blockedOn=t,Gu(e.priority,function(){Sp(o)});return}}else if(t===31){if(t=g(o),t!==null){e.blockedOn=t,Gu(e.priority,function(){Sp(o)});return}}else if(t===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ra(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var o=eu(e.nativeEvent);if(o===null){o=e.nativeEvent;var s=new o.constructor(o.type,o);ts=s,o.target.dispatchEvent(s),ts=null}else return t=Ri(o),t!==null&&Tp(t),e.blockedOn=o,!1;t.shift()}return!0}function Ap(e,t,o){Ra(e)&&o.delete(t)}function Qy(){nu=!1,Wn!==null&&Ra(Wn)&&(Wn=null),jn!==null&&Ra(jn)&&(jn=null),ei!==null&&Ra(ei)&&(ei=null),rl.forEach(Ap),ul.forEach(Ap)}function Na(e,t){e.blockedOn===t&&(e.blockedOn=null,nu||(nu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Qy)))}var Da=null;function xp(e){Da!==e&&(Da=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Da===e&&(Da=null);for(var t=0;t<e.length;t+=3){var o=e[t],s=e[t+1],f=e[t+2];if(typeof s!="function"){if(tu(s||o)===null)continue;break}var p=Ri(o);p!==null&&(e.splice(t,3),t-=3,er(p,{pending:!0,data:f,method:o.method,action:s},s,f))}}))}function ro(e){function t(x){return Na(x,e)}Wn!==null&&Na(Wn,e),jn!==null&&Na(jn,e),ei!==null&&Na(ei,e),rl.forEach(t),ul.forEach(t);for(var o=0;o<ti.length;o++){var s=ti[o];s.blockedOn===e&&(s.blockedOn=null)}for(;0<ti.length&&(o=ti[0],o.blockedOn===null);)Cp(o),o.blockedOn===null&&ti.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(s=0;s<o.length;s+=3){var f=o[s],p=o[s+1],T=f[Nt]||null;if(typeof p=="function")T||xp(o);else if(T){var _=null;if(p&&p.hasAttribute("formAction")){if(f=p,T=p[Nt]||null)_=T.formAction;else if(tu(f)!==null)continue}else _=T.action;typeof _=="function"?o[s+1]=_:(o.splice(s,3),s-=3),xp(o)}}}function Mp(){function e(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(T){return f=T})},focusReset:"manual",scroll:"manual"})}function t(){f!==null&&(f(),f=null),s||setTimeout(o,20)}function o(){if(!s&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(o,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),f!==null&&(f(),f=null)}}}function iu(e){this._internalRoot=e}Ia.prototype.render=iu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(a(409));var o=t.current,s=Bt();yp(o,s,e,t,null,null)},Ia.prototype.unmount=iu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yp(e.current,2,null,e,null,null),ca(),t[xi]=null}};function Ia(e){this._internalRoot=e}Ia.prototype.unstable_scheduleHydration=function(e){if(e){var t=qu();e={blockedOn:null,target:e,priority:t};for(var o=0;o<ti.length&&t!==0&&t<ti[o].priority;o++);ti.splice(o,0,e),o===0&&Cp(e)}};var Rp=n.version;if(Rp!=="19.2.0")throw Error(a(527,Rp,"19.2.0"));$.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=h(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var Zy={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wa.isDisabled&&wa.supportsFiber)try{st=wa.inject(Zy),Ze=wa}catch{}}return dl.createRoot=function(e,t){if(!u(e))throw Error(a(299));var o=!1,s="",f=Lf,p=qf,T=Gf;return t!=null&&(t.unstable_strictMode===!0&&(o=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(f=t.onUncaughtError),t.onCaughtError!==void 0&&(p=t.onCaughtError),t.onRecoverableError!==void 0&&(T=t.onRecoverableError)),t=hp(e,1,!1,null,null,o,s,null,f,p,T,Mp),e[xi]=t.current,Pr(e),new iu(t)},dl.hydrateRoot=function(e,t,o){if(!u(e))throw Error(a(299));var s=!1,f="",p=Lf,T=qf,_=Gf,x=null;return o!=null&&(o.unstable_strictMode===!0&&(s=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(_=o.onRecoverableError),o.formState!==void 0&&(x=o.formState)),t=hp(e,1,!0,t,o??null,s,f,x,p,T,_,Mp),t.context=gp(null),o=t.current,s=Bt(),s=Ka(s),f=zn(s),f.callback=null,Bn(o,f,s),o=s,t.current.lanes=o,Eo(t,o),un(t),e[xi]=t.current,Pr(e),new Ia(t)},dl.version="19.2.0",dl}var Hp;function sv(){if(Hp)return lu.exports;Hp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),lu.exports=av(),lu.exports}var rv=sv();const uv=Wy(rv);var ie=_u();const cn=({path:i,size:n=24,color:l="currentColor"})=>E.jsx("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:l,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:E.jsx("path",{d:i})}),cv=()=>E.jsx(cn,{path:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z M9 22V12h6v10"}),fv=()=>E.jsx(cn,{path:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"}),dv=()=>E.jsx(cn,{path:"M12 22a10 10 0 0 0 10-10H2a10 10 0 0 0 10 10z M12 2a4 4 0 0 0-4 4h8a4 4 0 0 0-4-4z M2 12h20"}),pv=()=>E.jsx(cn,{path:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z M14 2v6h6 M12 18v-6 M9 15h6"}),mv=()=>E.jsx(cn,{path:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}),rh=({active:i})=>E.jsx(cn,{path:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z M19 10v2a7 7 0 0 1-14 0v-2 M12 19v4 M8 23h8",color:i?"#dc3545":"currentColor"}),hv=()=>E.jsx(cn,{path:"M12 2a8 8 0 0 0-8 8v0a8 8 0 0 0 8 8h0a8 8 0 0 0 8-8v0a8 8 0 0 0-8-8z M12 4a6 6 0 0 1 6 6h-6V4z"}),gv=()=>E.jsx(cn,{path:"M11 5L6 9H2v6h4l5 4V5z M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"}),yv=()=>E.jsx(cn,{path:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z M13 8H7 M17 12H7"}),vv=()=>E.jsx(cn,{path:"M9 11a3 3 0 1 0 6 0 3 3 0 0 0-6 0z M17.657 16.657L13.414 20.9a1.998 1.998 0 0 1-2.827 0l-4.244-4.243a8 8 0 1 1 11.314 0z M15 11a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"}),Tv=4e3,Sv="High blood pressure and Type 2 Diabetes",Wt="http://localhost:3001",L={primary:"#007bff",secondary:"#6c757d",background:"#f0f2f5",surface:"#ffffff",text:"#333333",textSecondary:"#666666",accent:"#17a2b8",success:"#28a745",warning:"#ffc107",danger:"#dc3545",border:"#dee2e6"},k={appContainer:{display:"flex",flexDirection:"column",height:"100vh",backgroundColor:L.background},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 24px",height:60,backgroundColor:L.surface,borderBottom:`1px solid ${L.border}`,flexShrink:0},headerTitle:{fontSize:"1.5rem",color:L.primary,margin:0},headerControls:{display:"flex",alignItems:"center",gap:"16px"},listeningStatus:{margin:0,fontStyle:"italic"},micButton:{background:"none",border:"none",cursor:"pointer",padding:8,borderRadius:"50%",display:"flex"},mainLayout:{display:"flex",flexGrow:1,overflow:"hidden"},sidebar:{width:240,backgroundColor:L.surface,borderRight:`1px solid ${L.border}`,padding:"16px 0",display:"flex",flexDirection:"column",gap:"8px"},content:{flexGrow:1,overflowY:"auto",padding:24},navItem:{display:"flex",alignItems:"center",gap:"16px",padding:"12px 24px",border:"none",background:"none",width:"100%",textAlign:"left",cursor:"pointer",fontSize:"1rem",color:L.textSecondary},navItemActive:{backgroundColor:L.primary+"1A",color:L.primary,fontWeight:500},navItemLabel:{whiteSpace:"nowrap"},viewContainer:{maxWidth:1200,margin:"0 auto"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"24px",marginBottom:24},card:{backgroundColor:L.surface,padding:"24px",borderRadius:8,boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},cardTitle:{marginTop:0,marginBottom:16,borderBottom:`1px solid ${L.border}`,paddingBottom:8},cardContent:{color:L.textSecondary},statBig:{fontSize:"2.5rem",fontWeight:700,margin:0,color:L.primary},statSmall:{fontSize:"1.2rem",fontWeight:500,margin:0,color:L.text},fullWidthCard:{gridColumn:"1 / -1"},logList:{listStyle:"none",padding:0,margin:0,display:"flex",flexDirection:"column",gap:"8px"},monitoringLayout:{display:"flex",gap:"24px",height:"calc(100vh - 60px - 48px)"},videoContainer:{flex:2,display:"flex",flexDirection:"column",gap:16,backgroundColor:"#000",borderRadius:8,padding:16},videoFeed:{width:"100%",height:"auto",flexGrow:1,objectFit:"cover",borderRadius:8},monitoringControls:{display:"flex",justifyContent:"center",gap:16},actionButton:{padding:"12px 24px",fontSize:"1rem",border:"none",borderRadius:8,cursor:"pointer",color:"#fff",display:"flex",alignItems:"center",gap:8,backgroundColor:L.primary},activityFeed:{flex:1,backgroundColor:L.surface,borderRadius:8,padding:16,overflowY:"auto"},feedTitle:{marginTop:0},modalOverlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},modalContent:{background:"#fff",padding:24,borderRadius:8,width:"90%",maxWidth:500,boxShadow:"0 4px 15px rgba(0,0,0,0.2)"},modalHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:`1px solid ${L.border}`,paddingBottom:16,marginBottom:16},modalCloseButton:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer"},modalBody:{},textarea:{width:"calc(100% - 20px)",padding:10,fontSize:"1rem",borderRadius:4,border:`1px solid ${L.border}`,marginBottom:16,resize:"vertical"},prescriptionForm:{display:"flex",gap:"16px",flexWrap:"wrap"},input:{flex:"1 1 150px",padding:"12px",fontSize:"1rem",borderRadius:4,border:`1px solid ${L.border}`},table:{width:"100%",borderCollapse:"collapse",marginTop:"16px"},th:{borderBottom:`2px solid ${L.border}`,padding:"12px",textAlign:"left",color:L.text},td:{borderBottom:`1px solid ${L.border}`,padding:"12px",color:L.textSecondary},loginContainer:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:L.background},loginCard:{backgroundColor:L.surface,padding:"40px",borderRadius:12,boxShadow:"0 4px 20px rgba(0,0,0,0.1)",width:"100%",maxWidth:400},loginForm:{display:"flex",flexDirection:"column",gap:16},loginInput:{padding:"12px 16px",fontSize:"1rem",borderRadius:8,border:`1px solid ${L.border}`,outline:"none",":focus":{borderColor:L.primary}},loginButton:{padding:"12px 24px",fontSize:"1rem",fontWeight:600,borderRadius:8,border:"none",backgroundColor:L.primary,color:"#fff",cursor:"pointer"},errorBox:{padding:"12px",backgroundColor:"#f8d7da",border:`1px solid ${L.danger}`,borderRadius:4}},Ev=({onCommand:i,isListening:n,user:l,onLogout:a})=>E.jsxs("header",{style:k.header,children:[E.jsx("h1",{style:k.headerTitle,children:"Medicare Vision AI"}),E.jsxs("div",{style:k.headerControls,children:[l&&E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16},children:[E.jsxs("p",{style:{margin:0,fontSize:"0.9rem",color:L.textSecondary},children:["Welcome, ",E.jsx("strong",{children:l.name||l.email})]}),E.jsx("button",{onClick:a,style:{...k.actionButton,padding:"8px 16px",fontSize:"0.85rem",backgroundColor:L.secondary},children:"Logout"})]}),E.jsx("p",{style:{...k.listeningStatus,color:n?L.danger:L.textSecondary},children:n?"Listening...":"Voice commands inactive"}),E.jsx("button",{onClick:i,style:k.micButton,"aria-label":"Activate voice command",children:E.jsx(rh,{active:n})})]})]}),_v=({currentView:i,setView:n})=>{const l=({view:a,label:u,icon:d})=>E.jsxs("button",{style:{...k.navItem,...i===a?k.navItemActive:{}},onClick:()=>n(a),"aria-current":i===a,children:[d,E.jsx("span",{style:k.navItemLabel,children:u})]});return E.jsxs("nav",{style:k.sidebar,children:[E.jsx(l,{view:"DASHBOARD",label:"Dashboard",icon:E.jsx(cv,{})}),E.jsx(l,{view:"MONITORING",label:"Live Monitoring",icon:E.jsx(fv,{})}),E.jsx(l,{view:"MEAL_PLAN",label:"Meal Planner",icon:E.jsx(dv,{})}),E.jsx(l,{view:"PRESCRIPTIONS",label:"Prescriptions",icon:E.jsx(pv,{})}),E.jsx(l,{view:"GUARDIAN",label:"Guardian Details",icon:E.jsx(mv,{})}),E.jsx(l,{view:"BLOOD_REPORTS",label:"Blood Reports",icon:E.jsx(vv,{})}),E.jsx(l,{view:"VOICE_ASSISTANT",label:"Voice Assistant",icon:E.jsx(yv,{})})]})},Cv=({show:i,onClose:n,title:l,children:a})=>i?E.jsx("div",{style:k.modalOverlay,children:E.jsxs("div",{style:k.modalContent,children:[E.jsxs("div",{style:k.modalHeader,children:[E.jsx("h2",{children:l}),E.jsx("button",{onClick:n,style:k.modalCloseButton,children:""})]}),E.jsx("div",{style:k.modalBody,children:a})]})}):null,Rt=({title:i,children:n,style:l={}})=>E.jsxs("div",{style:{...k.card,...l},children:[E.jsx("h3",{style:k.cardTitle,children:i}),E.jsx("div",{style:k.cardContent,children:n})]}),La=i=>i.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),Av=i=>i?i.toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Not taken yet",xv=({stats:i,activities:n,medicationLogs:l,symptoms:a,prescriptions:u,healthIssues:d,bloodReports:m,onSpeakTodayTablets:g})=>{const y=l.length>0?(l.filter(h=>h.status==="Verified").length/l.length*100).toFixed(0):100;return console.log(" DashboardView - Prescriptions data:",u),console.log(" DashboardView - Today's tablets stats:",i),E.jsxs("div",{style:k.viewContainer,children:[E.jsxs("div",{style:k.grid,children:[E.jsx(Rt,{title:"Medication Adherence",style:{flex:"0 0 auto",minWidth:"150px"},children:E.jsxs("p",{style:{fontSize:"1.5rem",fontWeight:"bold",margin:0,color:L.primary},children:[y,"%"]})}),E.jsxs(Rt,{title:"Today's Tablets",style:{flex:"1 1 auto"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[E.jsx("p",{style:k.statBig,children:i.todayTablets}),g&&E.jsx("button",{onClick:g,style:{background:"none",border:"none",cursor:"pointer",padding:"8px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:L.primary,transition:"background-color 0.2s"},onMouseEnter:h=>{h.currentTarget.style.backgroundColor=L.primary+"1A"},onMouseLeave:h=>{h.currentTarget.style.backgroundColor="transparent"},title:"Listen to today's medication summary",children:E.jsx(gv,{})})]}),i.todayMedications.length>0&&E.jsx("div",{style:{marginTop:"16px",fontSize:"1rem",color:L.text},children:i.todayMedications.map((h,v)=>E.jsxs("div",{style:{marginTop:"8px",display:"flex",alignItems:"center",gap:"10px",padding:"6px 0"},children:[E.jsx("span",{style:{fontSize:"1.2rem",color:h.taken?L.success:L.textSecondary,fontWeight:h.taken?"bold":"normal",minWidth:"24px"},children:h.taken?"":""}),E.jsxs("span",{style:{fontSize:"1rem",textDecoration:h.taken?"line-through":"none",opacity:h.taken?.7:1,color:L.text},children:[h.count,"x ",h.name," (",h.timing,")"]})]},v))}),i.todayTablets===0&&E.jsx("p",{style:{marginTop:"8px",fontSize:"0.85rem",color:L.textSecondary,fontStyle:"italic"},children:"No tablets scheduled for today"})]}),E.jsx(Rt,{title:"Last Activity",children:E.jsx("p",{style:k.statSmall,children:i.lastActivity})}),E.jsx(Rt,{title:"Monitoring Status",children:E.jsx("p",{style:{...k.statSmall,color:i.isMonitoring?L.success:L.danger},children:i.isMonitoring?"ACTIVE":"INACTIVE"})})]}),E.jsxs("div",{style:k.grid,children:[E.jsx(Rt,{title:"Recent Activity",style:k.fullWidthCard,children:E.jsx("ul",{style:k.logList,children:n.slice(0,5).map(h=>E.jsxs("li",{children:[E.jsxs("strong",{children:[La(h.timestamp),":"]})," ",h.description]},h.id))})}),E.jsx(Rt,{title:"Medication Log",style:k.fullWidthCard,children:E.jsx("ul",{style:k.logList,children:l.slice(0,5).map(h=>E.jsxs("li",{children:[E.jsxs("strong",{children:[La(h.timestamp),":"]})," ",h.medication," - ",E.jsx("span",{style:{color:h.status==="Verified"?L.success:L.danger},children:h.status})]},h.id))})}),E.jsx(Rt,{title:"Symptom Log",style:k.fullWidthCard,children:E.jsx("ul",{style:k.logList,children:a.slice(0,5).map(h=>E.jsxs("li",{style:{color:h.severity==="Urgent"?L.danger:h.severity==="Medium"?L.warning:L.text},children:[E.jsxs("strong",{children:[La(h.timestamp),":"]})," ",h.description," (",h.severity,")"]},h.id))})})]}),E.jsxs("div",{style:k.grid,children:[E.jsx(Rt,{title:"Health Issues",style:k.fullWidthCard,children:d&&d.length>0?E.jsx("div",{children:d.map(h=>E.jsx("div",{style:{padding:"12px",marginBottom:"12px",backgroundColor:L.background,borderRadius:"8px",borderLeft:`4px solid ${h.severity==="High"?L.danger:h.severity==="Medium"?L.warning:L.primary}`},children:E.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:E.jsxs("div",{style:{flex:1},children:[E.jsx("h4",{style:{margin:"0 0 4px 0",color:L.text,fontSize:"1rem"},children:h.name}),h.description&&E.jsx("p",{style:{margin:"4px 0",fontSize:"0.9rem",color:L.textSecondary},children:h.description}),E.jsxs("div",{style:{display:"flex",gap:"16px",marginTop:"8px",fontSize:"0.85rem",color:L.textSecondary},children:[h.diagnosedDate&&E.jsxs("span",{children:["Diagnosed: ",h.diagnosedDate]}),h.severity&&E.jsxs("span",{style:{color:h.severity==="High"?L.danger:h.severity==="Medium"?L.warning:L.text},children:["Severity: ",h.severity]})]})]})})},h.id))}):E.jsx("p",{style:{color:L.textSecondary,fontStyle:"italic"},children:"No health issues recorded. Contact your doctor to add your health conditions."})}),E.jsx(Rt,{title:"Blood Report Summary",style:k.fullWidthCard,children:m&&m.length>0?(()=>{const h=m.length,v=m.filter(b=>b.status!=="Normal").length,S=m.filter(b=>b.status==="Critical").length,C=m.length>0?new Date(Math.max(...m.map(b=>new Date(b.testDate).getTime()))):null,M=m.sort((b,J)=>new Date(J.testDate).getTime()-new Date(b.testDate).getTime()).reduce((b,J)=>((!b[J.testName]||new Date(J.testDate)>new Date(b[J.testName].testDate))&&(b[J.testName]=J),b),{}),H=Object.values(M).sort((b,J)=>new Date(J.testDate).getTime()-new Date(b.testDate).getTime()).slice(0,6);return E.jsxs("div",{children:[E.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"12px",marginBottom:"20px",padding:"12px",backgroundColor:L.background,borderRadius:"8px"},children:[E.jsxs("div",{style:{textAlign:"center"},children:[E.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:L.primary},children:h}),E.jsx("div",{style:{fontSize:"0.75rem",color:L.textSecondary,marginTop:"4px"},children:"Total Tests"})]}),E.jsxs("div",{style:{textAlign:"center"},children:[E.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:v>0?L.warning:L.success},children:v}),E.jsx("div",{style:{fontSize:"0.75rem",color:L.textSecondary,marginTop:"4px"},children:"Abnormal"})]}),E.jsxs("div",{style:{textAlign:"center"},children:[E.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:S>0?L.danger:L.text},children:S}),E.jsx("div",{style:{fontSize:"0.75rem",color:L.textSecondary,marginTop:"4px"},children:"Critical"})]}),C&&E.jsxs("div",{style:{textAlign:"center"},children:[E.jsx("div",{style:{fontSize:"0.9rem",fontWeight:"bold",color:L.text},children:C.toLocaleDateString()}),E.jsx("div",{style:{fontSize:"0.75rem",color:L.textSecondary,marginTop:"4px"},children:"Latest Test"})]})]}),E.jsx("div",{style:{marginBottom:"12px",fontSize:"0.85rem",color:L.textSecondary,fontWeight:"500"},children:"Latest Test Results"}),E.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:H.map(b=>E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px 12px",backgroundColor:b.status!=="Normal"?b.status==="Critical"?L.danger+"15":L.warning+"15":L.background,borderRadius:"6px",borderLeft:`3px solid ${b.status==="Normal"?L.success:b.status==="Critical"?L.danger:b.status==="High"||b.status==="Low"?L.warning:L.border}`},children:[E.jsxs("div",{style:{flex:1},children:[E.jsx("div",{style:{fontSize:"0.9rem",fontWeight:"500",color:L.text,marginBottom:"2px"},children:b.testName}),E.jsx("div",{style:{fontSize:"0.75rem",color:L.textSecondary},children:new Date(b.testDate).toLocaleDateString()})]}),E.jsxs("div",{style:{textAlign:"right",marginRight:"12px"},children:[E.jsxs("div",{style:{fontSize:"0.95rem",fontWeight:"600",color:L.text},children:[b.value," ",b.unit]}),b.normalRange&&E.jsxs("div",{style:{fontSize:"0.7rem",color:L.textSecondary},children:["(",b.normalRange,")"]})]}),E.jsx("div",{style:{padding:"4px 10px",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"600",backgroundColor:b.status==="Normal"?L.success+"20":b.status==="Critical"?L.danger+"20":L.warning+"20",color:b.status==="Normal"?L.success:b.status==="Critical"?L.danger:L.warning,minWidth:"60px",textAlign:"center"},children:b.status})]},b.id))}),m.length>6&&E.jsxs("div",{style:{marginTop:"12px",fontSize:"0.85rem",color:L.primary,textAlign:"center",fontStyle:"italic"},children:["+",m.length-6," more test results available"]})]})})():E.jsx("p",{style:{color:L.textSecondary,fontStyle:"italic"},children:"No blood reports available. Upload your latest blood test results to see them here."})})]})]})},Mv=({activities:i,isMonitoring:n,onToggleMonitoring:l,onMedicationScan:a,videoRef:u})=>E.jsx("div",{style:k.viewContainer,children:E.jsxs("div",{style:k.monitoringLayout,children:[E.jsxs("div",{style:k.videoContainer,children:[E.jsx("video",{ref:u,style:k.videoFeed,autoPlay:!0,muted:!0,playsInline:!0}),E.jsxs("div",{style:k.monitoringControls,children:[E.jsx("button",{onClick:l,style:{...k.actionButton,backgroundColor:n?L.danger:L.success},children:n?"Stop Monitoring":"Start Monitoring"}),E.jsxs("button",{onClick:a,style:{...k.actionButton,backgroundColor:L.primary},children:[E.jsx(hv,{})," Scan Medication"]})]})]}),E.jsxs("div",{style:k.activityFeed,children:[E.jsx("h3",{style:k.feedTitle,children:"Live Activity Feed"}),E.jsx("ul",{style:{...k.logList,maxHeight:"calc(100vh - 200px)",overflowY:"auto"},children:i.map(d=>E.jsxs("li",{style:{color:d.isAlert?L.danger:L.text},children:[E.jsxs("strong",{children:[La(d.timestamp),":"]})," ",d.description]},d.id))})]})]})}),Rv=({mealPlan:i,onGenerate:n,onGenerateFromReport:l,isLoading:a,token:u})=>{const[d,m]=ie.useState(!1),[g,y]=ie.useState(""),h=ie.useRef(null),v=async S=>{var H;const C=(H=S.target.files)==null?void 0:H[0];if(!C)return;if(!u){y("Error: You are not logged in. Please refresh the page and log in again.");return}if(!["image/jpeg","image/jpg","image/png","application/pdf"].includes(C.type)){y("Error: Please upload a JPEG, PNG image or PDF file.");return}m(!0),y("Uploading and analyzing patient report...");try{console.log(" Starting meal plan generation from patient report..."),await l(C),y(" Meal plan generated successfully from your patient report!")}catch(b){y(`Error: ${b.message}`)}finally{m(!1),h.current&&(h.current.value="")}};return E.jsx("div",{style:k.viewContainer,children:E.jsxs(Rt,{title:"Today's Meal Plan",style:{maxWidth:800,margin:"auto"},children:[E.jsxs("div",{style:{marginBottom:20},children:[E.jsx("button",{onClick:n,disabled:a||d,style:{...k.actionButton,marginRight:10,marginBottom:10},children:a?"Generating...":"Generate Meal Plan (General)"}),E.jsxs("div",{style:{marginTop:15,padding:15,backgroundColor:"#f5f5f5",borderRadius:8},children:[E.jsx("h4",{style:{marginTop:0,marginBottom:10},children:"Generate from Patient Report"}),E.jsx("p",{style:{marginBottom:10,color:"#666",fontSize:"14px"},children:"Upload a patient report (blood test, medical report, etc.) to generate a personalized meal plan based on your health conditions."}),E.jsx("input",{ref:h,type:"file",accept:"image/jpeg,image/jpg,image/png,application/pdf",onChange:v,disabled:a||d,style:{display:"none"}}),E.jsx("button",{onClick:()=>{var S;return(S=h.current)==null?void 0:S.click()},disabled:a||d,style:{...k.actionButton,backgroundColor:"#4CAF50",marginBottom:10},children:d?"Processing...":" Upload Patient Report"}),g&&E.jsx("p",{style:{marginTop:10,padding:10,backgroundColor:g.includes("Error")?"#ffebee":"#e8f5e9",color:g.includes("Error")?"#c62828":"#2e7d32",borderRadius:4,fontSize:"14px"},children:g})]})]}),i?E.jsxs("div",{children:[E.jsx("h4",{children:"Breakfast"}),E.jsx("p",{style:{whiteSpace:"pre-wrap",lineHeight:"1.6"},children:i.breakfast}),E.jsx("h4",{children:"Lunch"}),E.jsx("p",{style:{whiteSpace:"pre-wrap",lineHeight:"1.6"},children:i.lunch}),E.jsx("h4",{children:"Dinner"}),E.jsx("p",{style:{whiteSpace:"pre-wrap",lineHeight:"1.6"},children:i.dinner}),i.snacks&&E.jsxs(E.Fragment,{children:[E.jsx("h4",{children:"Snacks"}),E.jsx("p",{style:{whiteSpace:"pre-wrap",lineHeight:"1.6"},children:i.snacks})]}),E.jsx("h4",{children:"Dietary Tips"}),E.jsx("p",{style:{whiteSpace:"pre-wrap",lineHeight:"1.6"},children:i.tips})]}):E.jsx("p",{children:"Click the button above to generate a meal plan. You can generate a general meal plan or upload a patient report for a personalized plan based on your health conditions."})]})})},cu={getPrescriptions:async i=>{try{const n=await fetch(`${Wt}/api/prescriptions`,{method:"GET",headers:{Authorization:`Bearer ${i}`}}),l=await n.json();if(!n.ok)throw new Error(l.error||"Failed to fetch prescriptions");return console.log(" PrescriptionService: Raw API response:",JSON.stringify(l,null,2)),l.data&&l.data.length>0&&(console.log(" PrescriptionService: First prescription from API:",l.data[0]),console.log(" PrescriptionService: First prescription has Morning?","Morning"in l.data[0],"Value:",l.data[0].Morning)),l.data||[]}catch(n){return console.error("Get prescriptions error:",n),[]}},addPrescription:async(i,n,l,a)=>{try{const u=await fetch(`${Wt}/api/prescriptions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`},body:JSON.stringify({name:n,dosage:l,frequency:a})}),d=await u.json();if(!u.ok)throw new Error(d.error||"Failed to add prescription");return d.data}catch(u){throw new Error(u.message||"Failed to add prescription")}},deletePrescription:async(i,n)=>{try{const l=await fetch(`${Wt}/api/prescriptions/${n}`,{method:"DELETE",headers:{Authorization:`Bearer ${i}`}}),a=await l.json();if(!l.ok)throw new Error(a.error||"Failed to delete prescription");return!0}catch(l){throw new Error(l.message||"Failed to delete prescription")}},uploadPrescriptionImage:async(i,n)=>{try{const l=new FormData;l.append("image",n);const a=await fetch(`${Wt}/api/prescriptions/upload`,{method:"POST",headers:{Authorization:`Bearer ${i}`},body:l}),u=await a.json();if(!a.ok)throw new Error(u.error||"Failed to upload prescription");return u.data}catch(l){throw new Error(l.message||"Failed to upload prescription")}}},Nv=({prescriptions:i,onAddPrescription:n,onPrescriptionAdded:l})=>{const[a,u]=ie.useState(""),[d,m]=ie.useState(""),[g,y]=ie.useState(""),[h,v]=ie.useState(!1),[S,C]=ie.useState(null),[M,H]=ie.useState(""),[b,J]=ie.useState(!1),te=Z=>{Z.preventDefault(),a&&d&&g&&(n({name:a,dosage:d,frequency:g}),u(""),m(""),y(""))},le=Z=>{var ne;const ee=(ne=Z.target.files)==null?void 0:ne[0];if(ee){const j=new FileReader;j.onload=Ee=>{var re;C({file:ee,preview:(re=Ee.target)==null?void 0:re.result})},j.readAsDataURL(ee)}},Q=async()=>{if(!(S!=null&&S.file)){H("Please select an image first");return}J(!0),H("Processing prescription image...");try{const Z=localStorage.getItem("authToken");if(!Z){H("Authentication required"),J(!1);return}const ee=await cu.uploadPrescriptionImage(Z,S.file);l&&l(),u(ee.medicationName||""),m(ee.dosage||""),y(ee.frequency||"");let ne=` Successfully processed prescription image!

`;ne+=` Extracted Data:
`,ne+=`   Medication: ${ee.medicationName||"Not found"}
`,ne+=`   Dosage: ${ee.dosage||"Not found"}
`,ne+=`   Frequency: ${ee.frequency||"Not found"}
`,ne+=`   Morning: ${ee.Morning} tablet(s)
`,ne+=`   Evening: ${ee.Evening} tablet(s)
`,ne+=`   Night: ${ee.Night} tablet(s)
`,ee.doctorName&&(ne+=`   Doctor: ${ee.doctorName}
`),ee.prescriptionDate&&(ne+=`   Date: ${ee.prescriptionDate}
`),ee.extractedText&&ee.extractedText.length>0?(ne+=`
 OCR Text extracted (${ee.extractedText.length} characters)`,ne+=`

 Tip: If data is missing, check if your prescription format matches the expected format.`):(ne+=`
 Warning: No text was extracted from the image.`,ne+=`
   - Make sure the image is clear and well-lit`,ne+=`
   - Try a higher resolution image`,ne+=`
   - Ensure text is readable`),H(ne),setTimeout(()=>{C(null),v(!1),H("")},3e3)}catch(Z){H(`Error: ${Z.message}`)}finally{J(!1)}};return E.jsxs("div",{style:k.viewContainer,children:[E.jsxs(Rt,{title:"Add Prescription",children:[E.jsx("div",{style:{display:"flex",gap:"12px",marginBottom:"16px"},children:E.jsx("button",{onClick:()=>v(!h),style:{...k.actionButton,flex:1,backgroundColor:h?"#4CAF50":"#2196F3"},children:h?" Upload Doctor's Prescription":" Manual Entry"})}),h?E.jsxs("div",{style:k.prescriptionForm,children:[E.jsxs("div",{style:{border:"2px dashed #2196F3",padding:"20px",borderRadius:"8px",textAlign:"center"},children:[E.jsx("input",{type:"file",accept:"image/*",onChange:le,id:"prescriptionUpload",style:{display:"none"}}),E.jsxs("label",{htmlFor:"prescriptionUpload",style:{cursor:"pointer",display:"block"},children:[E.jsx("div",{style:{fontSize:"24px",marginBottom:"8px"},children:""}),E.jsx("div",{children:"Click to select a prescription image"}),E.jsx("div",{style:{fontSize:"12px",color:"#666"},children:"(JPG or PNG)"})]})]}),(S==null?void 0:S.preview)&&E.jsxs("div",{style:{marginTop:"16px",textAlign:"center"},children:[E.jsx("img",{src:S.preview,style:{maxWidth:"100%",maxHeight:"200px",borderRadius:"8px"},alt:"Preview"}),E.jsx("button",{onClick:Q,disabled:b,style:{...k.actionButton,marginTop:"12px",opacity:b?.6:1},children:b?" Processing...":" Extract & Process"})]}),M&&E.jsx("div",{style:{marginTop:"12px",padding:"12px",backgroundColor:M.includes("Error")?"#ffebee":"#e8f5e9",borderRadius:"8px",fontSize:"13px",whiteSpace:"pre-wrap"},children:M})]}):E.jsxs("form",{onSubmit:te,style:k.prescriptionForm,children:[E.jsx("input",{type:"text",placeholder:"Medication Name",value:a,onChange:Z=>u(Z.target.value),style:k.input,required:!0}),E.jsx("input",{type:"text",placeholder:"Dosage (e.g., 10mg)",value:d,onChange:Z=>m(Z.target.value),style:k.input,required:!0}),E.jsx("input",{type:"text",placeholder:"Frequency (e.g., Once a day)",value:g,onChange:Z=>y(Z.target.value),style:k.input,required:!0}),E.jsx("button",{type:"submit",style:k.actionButton,children:"Add Prescription"})]})]}),E.jsx(Rt,{title:"Current Prescriptions",style:{marginTop:24},children:E.jsxs("table",{style:k.table,children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{style:k.th,children:"Medication"}),E.jsx("th",{style:k.th,children:"Dosage"}),E.jsx("th",{style:k.th,children:"Frequency"}),E.jsx("th",{style:k.th,children:"Last Taken"})]})}),E.jsxs("tbody",{children:[i.map(Z=>E.jsxs("tr",{children:[E.jsx("td",{style:k.td,children:Z.name}),E.jsx("td",{style:k.td,children:Z.dosage}),E.jsx("td",{style:k.td,children:Z.frequency}),E.jsx("td",{style:k.td,children:Av(Z.lastTaken)})]},Z.id)),i.length===0&&E.jsx("tr",{children:E.jsx("td",{colSpan:4,style:{...k.td,textAlign:"center",fontStyle:"italic"},children:"No prescriptions added yet."})})]})]})})]})},Dv=({email:i,onSaveEmail:n,onTestEmail:l})=>{const[a,u]=ie.useState(i||""),[d,m]=ie.useState(!1);ie.useEffect(()=>{u(i||"")},[i]);const g=h=>{h.preventDefault(),n(a)},y=async()=>{if(!a){alert("Please enter and save a guardian email first.");return}m(!0),l&&await l(a),m(!1)};return E.jsx("div",{style:k.viewContainer,children:E.jsxs(Rt,{title:"Guardian Contact Information",children:[E.jsxs("p",{style:k.cardContent,children:["Set the email address of a guardian or caretaker. They will ",E.jsx("strong",{children:"automatically receive email notifications via SMTP"})," when:"]}),E.jsxs("ul",{style:{...k.cardContent,marginLeft:20,marginTop:10,marginBottom:20},children:[E.jsx("li",{children:"An unverified medication is detected"}),E.jsx("li",{children:"Critical health alerts occur"})]}),a&&E.jsxs("div",{style:{...k.cardContent,padding:"12px",backgroundColor:L.background,borderRadius:4,marginBottom:16},children:[E.jsx("strong",{children:"Current Guardian Email:"})," ",a]}),E.jsxs("form",{onSubmit:g,style:{...k.prescriptionForm,marginTop:20},children:[E.jsx("input",{type:"email",placeholder:"Guardian's Email Address",value:a,onChange:h=>u(h.target.value),style:{...k.input,flex:"1 1 300px"},required:!0}),E.jsx("button",{type:"submit",style:k.actionButton,children:"Save Email"})]}),a&&E.jsxs("div",{style:{marginTop:20,paddingTop:20,borderTop:`1px solid ${L.border}`},children:[E.jsx("button",{onClick:y,disabled:d,style:{...k.actionButton,backgroundColor:L.accent,opacity:d?.6:1},children:d?"Sending Test Email...":"Send Test Email"}),E.jsx("p",{style:{...k.cardContent,marginTop:10,fontSize:"0.9rem"},children:"Click to send a test email and verify email integration is working."}),E.jsxs("div",{style:{...k.cardContent,marginTop:15,padding:"12px",backgroundColor:"#d1ecf1",borderRadius:4,border:"1px solid #17a2b8",fontSize:"0.85rem"},children:[E.jsx("strong",{children:" Email Setup:"}),E.jsxs("ul",{style:{marginTop:8,marginBottom:0,paddingLeft:20},children:[E.jsxs("li",{children:[E.jsx("strong",{children:"Resend with Domain (Recommended):"}),E.jsxs("ol",{style:{marginTop:4,marginBottom:4,paddingLeft:20},children:[E.jsxs("li",{children:["Verify domain at ",E.jsx("a",{href:"https://resend.com/domains",target:"_blank",rel:"noopener noreferrer",children:"resend.com/domains"})]}),E.jsx("li",{children:"Add DNS records to your domain"}),E.jsxs("li",{children:["Set ",E.jsx("code",{children:"RESEND_FROM_EMAIL=noreply@yourdomain.com"})," in ",E.jsx("code",{children:".env.local"})]}),E.jsx("li",{children:"Then you can send to any email address!"})]})]}),E.jsxs("li",{children:[E.jsx("strong",{children:"SMTP (Alternative):"})," Set ",E.jsx("code",{children:"SMTP_USER"})," and ",E.jsx("code",{children:"SMTP_PASSWORD"})," in ",E.jsx("code",{children:".env.local"})]}),E.jsxs("li",{children:["For Gmail SMTP: Use ",E.jsx("a",{href:"https://myaccount.google.com/apppasswords",target:"_blank",rel:"noopener noreferrer",children:"App Password"})]})]}),E.jsxs("p",{style:{marginTop:10,marginBottom:0,fontSize:"0.8rem",fontStyle:"italic"},children:[" See ",E.jsx("code",{children:"RESEND_DOMAIN_SETUP.md"})," for detailed domain verification steps"]})]})]})]})})},Iv=({prescriptions:i=[],medicationLogs:n=[],mealPlan:l,onSpeak:a,onNavigateToScan:u,onTriggerMedicationScan:d,onNavigateToMealPlan:m,onGenerateMealPlan:g})=>{const[y,h]=ie.useState(!1),[v,S]=ie.useState([{id:"welcome",type:"assistant",text:"Hello! I'm your voice assistant. I can help you with questions about your medications and meal planning. Try asking: 'What tablets do I need to take today?', 'What are my remaining tablets?', 'What can I eat today?', or say 'I am taking a tablet' to verify your medication.",timestamp:new Date}]),[C,M]=ie.useState(!1),[H,b]=ie.useState(null),[J,te]=ie.useState(navigator.onLine),[le,Q]=ie.useState(""),[Z,ee]=ie.useState(!1),[ne,j]=ie.useState(0),Ee=ie.useRef(null),re=ie.useRef(null),me=ie.useRef(null),Ne=ie.useRef(null),ye=ie.useCallback(()=>{var X;try{(X=re.current)==null||X.scrollIntoView({behavior:"smooth"})}catch(Y){console.error("Error scrolling:",Y)}},[]);ie.useEffect(()=>{ye()},[v,ye]);const ze=ie.useCallback(()=>{try{const X=new Date;X.setHours(0,0,0,0);const Y=(n||[]).filter(P=>{try{const O=new Date(P.timestamp);return O.setHours(0,0,0,0),O.getTime()===X.getTime()&&P.status==="Verified"}catch{return!1}}),W=(P,O)=>{const de=(P||"").toLowerCase(),ae=(O||"").toLowerCase(),he=de.replace(/\s*(tablets?|mg|ml|mcg|g|drops?|capsules?)\s*/gi,"").trim(),Qe=ae.trim();return de.includes(ae)||ae.includes(de)||he.includes(Qe)||Qe.includes(he)},A=[];let R=0;return(i||[]).forEach(P=>{try{const O=parseInt(String(P.Morning||"0"),10)||0,de=parseInt(String(P.Evening||"0"),10)||0,ae=parseInt(String(P.Night||"0"),10)||0;R+=O+de+ae;const he=Y.some(Qe=>W(Qe.medication,P.name));O>0&&A.push({name:P.name,timing:"Morning",count:O,taken:he}),de>0&&A.push({name:P.name,timing:"Evening",count:de,taken:he}),ae>0&&A.push({name:P.name,timing:"Night",count:ae,taken:he})}catch(O){console.error("Error processing prescription:",O)}}),{totalTablets:R,todayMedications:A}}catch(X){return console.error("Error in getTodayTablets:",X),{totalTablets:0,todayMedications:[]}}},[i,n]),mt=ie.useCallback(X=>{try{M(!0);const Y={id:`user-${Date.now()}`,type:"user",text:X,timestamp:new Date};S(R=>[...R,Y]);const W=(X||"").toLowerCase();let A="";if(W.includes("tablet")&&(W.includes("today")||W.includes("need")||W.includes("take"))){const{totalTablets:R,todayMedications:P}=ze();if(R===0)A="You have no tablets scheduled for today.";else{A=`You have ${R} tablet${R>1?"s":""} to take today. `;const O={};P.forEach(ae=>{O[ae.name]||(O[ae.name]={timings:[],count:0,taken:ae.taken||!1}),O[ae.name].timings.push(ae.timing),O[ae.name].count+=ae.count,ae.taken&&(O[ae.name].taken=!0)});const de=[];Object.entries(O).forEach(([ae,he])=>{const Qe=he.timings.length===1?he.timings[0].toLowerCase():he.timings.slice(0,-1).join(", ").toLowerCase()+" and "+he.timings[he.timings.length-1].toLowerCase(),Ye=he.count===1?"1 tablet":`${he.count} tablets`,fn=he.taken?"already taken":"to be taken";de.push(`${Ye} of ${ae} ${fn} in the ${Qe}`)}),A+=de.join(". ")+"."}}else if(W.includes("remaining")||W.includes("left")||W.includes("still need")){const{todayMedications:R}=ze(),P=R.filter(O=>!O.taken);if(P.length===0)A="Great! You've taken all your medications for today.";else{const O=P.reduce((ae,he)=>ae+he.count,0);A=`You still have ${O} tablet${O>1?"s":""} remaining to take. `;const de=P.map(ae=>`${ae.count} ${ae.name} in the ${ae.timing.toLowerCase()}`).join(", ");A+=de+"."}}else if(W.includes("taken")||W.includes("already taken")){const{todayMedications:R}=ze(),P=R.filter(O=>O.taken);if(P.length===0)A="You haven't taken any medications yet today.";else{const O=P.reduce((ae,he)=>ae+he.count,0);A=`You've taken ${O} tablet${O>1?"s":""} today. `;const de=P.map(ae=>`${ae.count} ${ae.name} in the ${ae.timing.toLowerCase()}`).join(", ");A+=de+"."}}else if(W.includes("medication")||W.includes("prescription")){const R=i||[];if(R.length===0)A="You don't have any prescriptions recorded.";else{A=`You have ${R.length} prescription${R.length>1?"s":""}. `;const P=R.map(O=>O.name).join(", ");A+=`Your medications are: ${P}.`}}else W.includes("eat")||W.includes("food")||W.includes("meal")||W.includes("diet")||W.includes("breakfast")||W.includes("lunch")||W.includes("dinner")||W.includes("what can i eat")?l?A=`Here's your meal plan for today. For breakfast: ${l.breakfast}. For lunch: ${l.lunch}. For dinner: ${l.dinner}. Dietary tip: ${l.tips}.`:(A="I don't have a meal plan generated yet. Please go to the Meal Planner section to generate one.",g&&setTimeout(async()=>{try{await g(),m&&setTimeout(()=>m(),1e3)}catch(R){console.error("Error generating meal plan:",R)}},500)):W.includes("help")||W.includes("what can you do")?A="I can help you with questions about your medications and meal planning. You can ask me: 'What tablets do I need to take today?', 'What are my remaining tablets?', 'What medications have I taken?', 'What are my prescriptions?', 'What can I eat today?', or 'Help me plan my meals'.":(W.includes("taking")||W.includes("take")||W.includes("about to take"))&&(W.includes("tablet")||W.includes("medicine")||W.includes("medication")||W.includes("pill"))?(A="I'll help you verify that medication. Let me take you to the medication scanner.",setTimeout(()=>{u&&(u(),setTimeout(()=>{d&&d()},3e3))},2e3)):A="I'm not sure I understand that question. Try asking about your tablets for today, remaining medications, your prescriptions, or what you can eat today. You can also say 'help' to see what I can do.";setTimeout(()=>{try{const R={id:`assistant-${Date.now()}`,type:"assistant",text:A||"I'm sorry, I couldn't generate a response. Please try again.",timestamp:new Date};S(P=>[...P,R]);try{Ne.current&&A&&Ne.current(A)}catch(P){console.error("Error speaking:",P)}M(!1)}catch(R){console.error("Error adding response:",R),S(P=>[...P,{id:`error-${Date.now()}`,type:"assistant",text:"I'm sorry, I encountered an error processing your question. Please try again.",timestamp:new Date}]),M(!1)}},500)}catch(Y){console.error("Error handling question:",Y);const W=(Y==null?void 0:Y.message)||(Y==null?void 0:Y.toString())||"Unknown error";console.error("Error details:",W,Y),S(A=>[...A,{id:`error-${Date.now()}`,type:"assistant",text:`I'm sorry, I encountered an error: ${W}. Please try again or rephrase your question.`,timestamp:new Date}]),M(!1)}},[ze,i,l,g,m,u,d]);ie.useEffect(()=>{Ne.current=a||(()=>{})},[a]),ie.useEffect(()=>{me.current=mt},[mt]),ie.useEffect(()=>{const X=()=>{console.log(" Network connection restored"),te(!0),b(null)},Y=()=>{console.warn(" Network connection lost"),te(!1),b("You are currently offline. Voice recognition requires an internet connection.")};return window.addEventListener("online",X),window.addEventListener("offline",Y),te(navigator.onLine),navigator.onLine||b("You are currently offline. Voice recognition requires an internet connection."),()=>{window.removeEventListener("online",X),window.removeEventListener("offline",Y)}},[]),ie.useEffect(()=>{try{const X=window.SpeechRecognition||window.webkitSpeechRecognition;if(!X){b("Speech recognition is not supported in your browser. Please use Chrome, Edge, or Safari.");return}if(!navigator.onLine){b("You are currently offline. Voice recognition requires an internet connection.");return}const Y=new X;Y.continuous=!1,Y.interimResults=!1,Y.lang="en-US",Y.onstart=()=>{h(!0),b(null),j(0)},Y.onend=()=>{h(!1)},Y.onerror=W=>{console.error("Speech recognition error:",W.error,W),console.error("Full error event:",JSON.stringify(W,null,2)),h(!1),M(!1);let A="I encountered an error. Please try again.";if(W.error==="no-speech")A="I didn't hear anything. Please try again.";else if(W.error==="not-allowed"||W.error==="permission-denied")A="Microphone access was denied. Please allow microphone access in your browser settings and try again.";else if(W.error==="audio-capture")A="I couldn't access your microphone. Please check your microphone settings.";else if(W.error==="network")if(console.error("Network error details:",{online:navigator.onLine,userAgent:navigator.userAgent,language:navigator.language,retryCount:ne}),!navigator.onLine)A="You appear to be offline. Please check your internet connection and try again. You can also use the text input option below to type your questions.";else{const R=ne;j(P=>P+1),R<2?A=`Network error: Unable to connect to the speech recognition service (attempt ${R+1}/3). This could be due to firewall, VPN, or network restrictions.

 Solution: Click 'Type Your Question Instead' button below to use text input instead. The assistant will work perfectly with text input!`:A=`Network error: Unable to connect to the speech recognition service after multiple attempts. This is likely due to:

 Firewall blocking Google's services
 VPN blocking speech recognition
 Corporate network restrictions
 Regional restrictions

 Good news: The text input option works perfectly! Click 'Type Your Question Instead' to continue using the assistant.`}else W.error==="aborted"?A="Listening was interrupted. Please try again.":W.error==="service-not-allowed"?A="Speech recognition service is not allowed. Please check your browser settings and allow speech recognition.":A=`Error: ${W.error||"Unknown error"}. Please try again.`;S(R=>[...R,{id:`error-${Date.now()}`,type:"assistant",text:A,timestamp:new Date}]);try{Ne.current&&Ne.current(A)}catch(R){console.error("Error speaking error message:",R)}},Y.onresult=W=>{var A;try{if(console.log("Speech recognition result received:",W),!W.results||W.results.length===0){console.warn("No results in speech recognition event"),h(!1);return}const R=W.results[0];if(!R||R.length===0){console.warn("No transcript in first result"),h(!1);return}const P=((A=R[0].transcript)==null?void 0:A.trim())||"";if(console.log("Extracted transcript:",P),!P){console.warn("Empty transcript"),h(!1);return}h(!1),me.current?(console.log("Calling handleQuestion with transcript:",P),me.current(P)):(console.error("handleQuestionRef.current is null!"),S(O=>[...O,{id:`error-${Date.now()}`,type:"assistant",text:"Voice assistant is not ready. Please wait a moment and try again.",timestamp:new Date}]))}catch(R){console.error("Error processing result:",R),console.error("Error stack:",R==null?void 0:R.stack),h(!1),M(!1),S(P=>[...P,{id:`error-${Date.now()}`,type:"assistant",text:`Error processing your speech: ${(R==null?void 0:R.message)||"Unknown error"}. Please try again.`,timestamp:new Date}])}},Ee.current=Y}catch(X){console.error("Error initializing recognition:",X);const Y=(X==null?void 0:X.message)||"Unknown error";b(`Failed to initialize voice recognition: ${Y}. Please refresh the page.`),S(W=>[...W,{id:"init-error",type:"assistant",text:`Voice recognition initialization failed: ${Y}. The voice assistant may not work properly.`,timestamp:new Date}])}},[]);const Xe=async()=>{var Y,W,A;if(console.log(" startListening called"),console.log("recognitionRef.current:",Ee.current),console.log("isListening:",y),console.log("isProcessing:",C),console.log("Network status:",navigator.onLine?"Online":"Offline"),!navigator.onLine){S(R=>[...R,{id:`error-${Date.now()}`,type:"assistant",text:"You appear to be offline. Voice recognition requires an internet connection. Please check your internet connection and try again.",timestamp:new Date}]);return}if(!Ee.current){console.error(" Recognition ref is null!"),S(R=>[...R,{id:`error-${Date.now()}`,type:"assistant",text:"Speech recognition is not available. Please refresh the page.",timestamp:new Date}]);return}if(y){console.log("Already listening, stopping first");try{Ee.current.stop(),await new Promise(R=>setTimeout(R,200))}catch(R){console.error("Error stopping:",R)}}if(C){console.log("Still processing, please wait");return}let X=!1;try{if(console.log("Step 1: Requesting microphone permission..."),navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){const R=await navigator.mediaDevices.getUserMedia({audio:!0});console.log(" Microphone permission granted"),X=!0,await new Promise(P=>setTimeout(P,100)),R.getTracks().forEach(P=>{P.stop(),console.log("Microphone track stopped")})}else{console.warn("getUserMedia not available"),S(R=>[...R,{id:`error-${Date.now()}`,type:"assistant",text:"Microphone access is not available in your browser. Please use a modern browser like Chrome, Edge, or Safari.",timestamp:new Date}]);return}}catch(R){console.error(" Microphone permission error:",R);const P=R.name==="NotAllowedError"||R.name==="PermissionDeniedError"?"Microphone access was denied. Please click the lock icon in your browser's address bar, go to Site Settings, and allow microphone access. Then try again.":R.name==="NotFoundError"||R.name==="DevicesNotFoundError"?"No microphone found. Please connect a microphone and try again.":`Could not access microphone: ${R.message||R.name||"Unknown error"}. Please check your microphone settings.`;S(O=>[...O,{id:`error-${Date.now()}`,type:"assistant",text:P,timestamp:new Date}]);return}if(!X){console.error(" Microphone permission was not granted");return}try{console.log("Step 2.5: Testing network connectivity..."),console.log("Browser info:",{userAgent:navigator.userAgent,online:navigator.onLine,language:navigator.language}),await Promise.race([fetch("https://www.google.com/favicon.ico",{method:"HEAD",mode:"no-cors",cache:"no-cache"}).then(()=>(console.log(" Basic network connectivity test passed"),!0)).catch(P=>(console.warn("Network test fetch error:",P),!1)),new Promise(P=>setTimeout(()=>{console.warn(" Network test timeout"),P(!1)},3e3))])||console.warn(" Network connectivity test failed - but continuing anyway")}catch(R){console.warn(" Network test error (continuing anyway):",R)}try{if(console.log("Step 3: Starting speech recognition..."),console.log("Recognition object:",Ee.current),await new Promise(R=>setTimeout(R,200)),!Ee.current)throw new Error("Speech recognition became unavailable");console.log("Attempting to start recognition..."),Ee.current.start(),console.log(" Speech recognition start() called successfully")}catch(R){console.error(" Error starting recognition (caught in try-catch):",R),console.error("Error details:",{name:R==null?void 0:R.name,message:R==null?void 0:R.message,stack:R==null?void 0:R.stack});const P=(Y=R==null?void 0:R.message)!=null&&Y.includes("already started")?"Speech recognition is already running. Please wait a moment.":(W=R==null?void 0:R.message)!=null&&W.includes("network")||(A=R==null?void 0:R.message)!=null&&A.includes("Network")?"Network error: The speech recognition service requires an internet connection. Please check your connection and try again. If you are online, the service may be temporarily unavailable. You may also need to check if your firewall or VPN is blocking access to Google's services.":`Could not start listening: ${(R==null?void 0:R.message)||(R==null?void 0:R.toString())||"Unknown error"}. Please try again.`;S(O=>[...O,{id:`error-${Date.now()}`,type:"assistant",text:P,timestamp:new Date}])}},G=()=>{if(Ee.current&&y)try{Ee.current.stop()}catch(X){console.error("Error stopping:",X)}},$=X=>{X&&X.preventDefault();const Y=le.trim();Y&&(Q(""),ee(!1),me.current&&me.current(Y))};return E.jsxs("div",{style:k.viewContainer,children:[E.jsx("style",{children:`
        @keyframes pulse {
          0%, 100% { opacity: 1; transform: scale(1); }
          50% { opacity: 0.5; transform: scale(1.2); }
        }
      `}),E.jsxs(Rt,{title:"Voice Assistant",style:k.fullWidthCard,children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[H&&E.jsx("div",{style:{flex:1,padding:"12px",backgroundColor:"#fff3cd",border:"1px solid #ffc107",borderRadius:4,marginRight:12},children:H}),E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",backgroundColor:J?"#d4edda":"#f8d7da",border:`1px solid ${J?"#28a745":"#dc3545"}`,borderRadius:4,fontSize:"0.875rem",color:J?"#155724":"#721c24"},children:[E.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:J?"#28a745":"#dc3545"}}),J?"Online":"Offline"]})]}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"calc(100vh - 200px)",maxHeight:"600px"},children:[E.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"16px",backgroundColor:L.background,borderRadius:"8px",marginBottom:"16px",minHeight:"300px"},children:[v.map(X=>E.jsxs("div",{style:{marginBottom:"16px",display:"flex",flexDirection:"column",alignItems:X.type==="user"?"flex-end":"flex-start"},children:[E.jsx("div",{style:{maxWidth:"70%",padding:"12px 16px",borderRadius:"12px",backgroundColor:X.type==="user"?L.primary:L.surface,color:X.type==="user"?"#fff":L.text,boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:E.jsx("p",{style:{margin:0,fontSize:"0.95rem",lineHeight:"1.5",whiteSpace:"pre-wrap"},children:X.text})}),E.jsx("span",{style:{fontSize:"0.75rem",color:L.textSecondary,marginTop:"4px",padding:"0 4px"},children:X.timestamp.toLocaleTimeString()})]},X.id)),C&&E.jsx("div",{style:{display:"flex",alignItems:"flex-start",marginBottom:"16px"},children:E.jsx("div",{style:{padding:"12px 16px",borderRadius:"12px",backgroundColor:L.surface,color:L.text},children:E.jsx("span",{style:{fontStyle:"italic"},children:"Thinking..."})})}),E.jsx("div",{ref:re})]}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px",padding:"16px"},children:[Z?E.jsxs("form",{onSubmit:$,style:{display:"flex",gap:"8px",width:"100%"},children:[E.jsx("input",{type:"text",value:le,onChange:X=>Q(X.target.value),placeholder:"Type your question here...",disabled:C,style:{flex:1,padding:"12px 16px",fontSize:"1rem",borderRadius:"8px",border:`2px solid ${L.primary}`,outline:"none",backgroundColor:"#fff"},autoFocus:!0}),E.jsx("button",{type:"submit",disabled:C||!le.trim(),style:{padding:"12px 24px",fontSize:"1rem",borderRadius:"8px",border:"none",backgroundColor:L.primary,color:"#fff",cursor:C||!le.trim()?"not-allowed":"pointer",opacity:C||!le.trim()?.6:1},children:"Send"}),E.jsx("button",{type:"button",onClick:()=>{ee(!1),Q("")},style:{padding:"12px 16px",fontSize:"1rem",borderRadius:"8px",border:`1px solid ${L.border}`,backgroundColor:"#fff",cursor:"pointer"},children:"Cancel"})]}):E.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"16px"},children:[E.jsx("button",{onClick:y?G:Xe,disabled:C,style:{width:"64px",height:"64px",borderRadius:"50%",border:"none",backgroundColor:y?L.danger:L.primary,color:"#fff",cursor:C?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 8px rgba(0,0,0,0.2)",transition:"all 0.2s",opacity:C?.6:1},title:y?"Stop listening":"Start listening",children:E.jsx(rh,{active:y})}),y&&E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[E.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:L.danger,animation:"pulse 1.5s ease-in-out infinite"}}),E.jsx("p",{style:{margin:0,color:L.danger,fontWeight:"bold"},children:"Listening... Ask your question now!"})]})]}),E.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"8px"},children:E.jsx("button",{onClick:()=>ee(!Z),disabled:C||y,style:{padding:"8px 16px",fontSize:"0.875rem",borderRadius:"6px",border:`1px solid ${L.border}`,backgroundColor:Z?L.primary:"#fff",color:Z?"#fff":L.text,cursor:C||y?"not-allowed":"pointer",opacity:C||y?.6:1},children:Z?" Use Voice Instead":" Type Your Question Instead"})}),!Z&&E.jsx("p",{style:{textAlign:"center",fontSize:"0.875rem",color:L.textSecondary,margin:0,fontStyle:"italic"},children:'Having trouble with voice? Click "Type Your Question Instead" to use text input.'})]})]})]})]})},fu={getBloodReports:async i=>{try{const n=await fetch(`${Wt}/api/blood-reports`,{method:"GET",headers:{Authorization:`Bearer ${i}`}}),l=n.headers.get("content-type");if(!l||!l.includes("application/json")){const u=await n.text();throw console.error("Non-JSON response from blood reports API:",u.substring(0,200)),new Error("Server returned non-JSON response. Make sure the server is running and the route is registered.")}const a=await n.json();if(!n.ok)throw new Error(a.error||"Failed to fetch blood reports");return a.data||[]}catch(n){return console.error("Get blood reports error:",n),[]}},uploadBloodReport:async(i,n)=>{try{if(!i)throw new Error("Authentication token is missing. Please log in again.");const l=new FormData;l.append("file",n),console.log(" Uploading blood report file:",n.name,"Size:",n.size,"Type:",n.type),console.log(" Using token:",i.substring(0,20)+"...");const a=await fetch(`${Wt}/api/blood-reports/upload`,{method:"POST",headers:{Authorization:`Bearer ${i}`},body:l});console.log(" Response status:",a.status,a.statusText),console.log(" Response headers:",Object.fromEntries(a.headers.entries()));const u=a.headers.get("content-type");if(!u||!u.includes("application/json")){const m=await a.text();throw console.error(" Non-JSON response from blood reports upload API:",m.substring(0,500)),new Error("Server returned non-JSON response. Make sure the server is running and the route is registered.")}const d=await a.json();if(console.log(" Upload response:",d),!a.ok)throw new Error(d.error||"Failed to upload blood report");return d.data}catch(l){throw console.error(" Upload error:",l),l.message.includes("fetch")||l.message.includes("Failed to fetch")?new Error("Cannot connect to server. Please make sure the server is running on port 3001."):new Error(l.message||"Failed to upload blood report")}},deleteBloodReport:async(i,n)=>{try{const l=await fetch(`${Wt}/api/blood-reports/${n}`,{method:"DELETE",headers:{Authorization:`Bearer ${i}`}}),a=await l.json();if(!l.ok)throw new Error(a.error||"Failed to delete blood report");return!0}catch(l){throw new Error(l.message||"Failed to delete blood report")}}},wv=({bloodReports:i,onBloodReportsUpdated:n,token:l})=>{const[a,u]=ie.useState(!1),[d,m]=ie.useState(""),g=ie.useRef(null),y=async v=>{var M;const S=(M=v.target.files)==null?void 0:M[0];if(!S)return;if(!l){m("Error: You are not logged in. Please refresh the page and log in again.");return}if(!["image/jpeg","image/jpg","image/png","application/pdf"].includes(S.type)){m("Error: Please upload a JPEG, PNG image or PDF file.");return}u(!0),m("Uploading and processing blood report...");try{console.log(" Starting blood report upload...");const H=await fu.uploadBloodReport(l,S);if(H.reports&&H.reports.length>0){const b=H.testsFound||H.reports.length;m(` Successfully uploaded blood report! Extracted ${b} test result${b>1?"s":""}. `+(H.ocrAvailable?"OCR extraction completed successfully.":"File uploaded but OCR extraction was not available.")),n&&n()}else m(" File uploaded successfully, but no test results were automatically extracted. The file has been saved."),n&&n()}catch(H){m(`Error: ${H.message}`)}finally{u(!1),g.current&&(g.current.value="")}},h=async v=>{if(confirm("Are you sure you want to delete this blood report?"))try{await fu.deleteBloodReport(l,v),n&&n()}catch(S){alert(`Error deleting report: ${S.message}`)}};return E.jsx("div",{style:k.viewContainer,children:E.jsxs(Rt,{title:"Blood Reports",style:k.fullWidthCard,children:[E.jsxs("div",{style:{marginBottom:"24px"},children:[E.jsx("h3",{style:{marginTop:0},children:"Upload Blood Report"}),E.jsx("p",{style:{color:L.textSecondary,marginBottom:"16px"},children:"Upload a photo or PDF of your blood test report. The system will automatically extract test results using OCR."}),E.jsx("input",{ref:g,type:"file",accept:"image/jpeg,image/jpg,image/png,application/pdf",onChange:y,disabled:a,style:{display:"none"},id:"blood-report-upload"}),E.jsx("label",{htmlFor:"blood-report-upload",style:{...k.actionButton,display:"inline-block",cursor:a?"not-allowed":"pointer",opacity:a?.6:1},children:a?"Uploading...":"Choose Blood Report File"}),d&&E.jsx("p",{style:{marginTop:"12px",padding:"12px",backgroundColor:d.includes("Error")?"#f8d7da":"#d4edda",border:`1px solid ${d.includes("Error")?L.danger:L.success}`,borderRadius:"4px",color:d.includes("Error")?L.danger:L.text},children:d})]}),E.jsxs("div",{children:[E.jsx("h3",{children:"Your Blood Reports"}),i.length>0?E.jsx("div",{style:{overflowX:"auto"},children:E.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"16px"},children:[E.jsx("thead",{children:E.jsxs("tr",{style:{borderBottom:`2px solid ${L.border}`},children:[E.jsx("th",{style:{...k.th,padding:"8px",textAlign:"left"},children:"Test Date"}),E.jsx("th",{style:{...k.th,padding:"8px",textAlign:"left"},children:"Test Name"}),E.jsx("th",{style:{...k.th,padding:"8px",textAlign:"left"},children:"Value"}),E.jsx("th",{style:{...k.th,padding:"8px",textAlign:"left"},children:"Normal Range"}),E.jsx("th",{style:{...k.th,padding:"8px",textAlign:"left"},children:"Status"}),E.jsx("th",{style:{...k.th,padding:"8px",textAlign:"left"},children:"Document"}),E.jsx("th",{style:{...k.th,padding:"8px",textAlign:"left"},children:"Actions"})]})}),E.jsx("tbody",{children:i.map(v=>E.jsxs("tr",{style:{borderBottom:`1px solid ${L.border}`},children:[E.jsx("td",{style:{...k.td,padding:"8px"},children:new Date(v.testDate).toLocaleDateString()}),E.jsx("td",{style:{...k.td,padding:"8px"},children:v.testName}),E.jsxs("td",{style:{...k.td,padding:"8px"},children:[v.value," ",v.unit]}),E.jsx("td",{style:{...k.td,padding:"8px",fontSize:"0.85rem",color:L.textSecondary},children:v.normalRange||"-"}),E.jsx("td",{style:{...k.td,padding:"8px",color:v.status==="Normal"?L.success:v.status==="Critical"?L.danger:v.status==="High"||v.status==="Low"?L.warning:L.text,fontWeight:v.status!=="Normal"?"bold":"normal"},children:v.status}),E.jsx("td",{style:{...k.td,padding:"8px"},children:v.fileUrl?E.jsx("a",{href:`http://localhost:3001${v.fileUrl}`,target:"_blank",rel:"noopener noreferrer",style:{color:L.primary,textDecoration:"none"},children:"View Document"}):"-"}),E.jsx("td",{style:{...k.td,padding:"8px"},children:E.jsx("button",{onClick:()=>h(v.id),style:{padding:"4px 8px",fontSize:"0.85rem",backgroundColor:L.danger,color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Delete"})})]},v.id))})]})}):E.jsx("p",{style:{color:L.textSecondary,fontStyle:"italic",marginTop:"16px"},children:"No blood reports uploaded yet. Upload your first blood test report above."})]})]})})},du={register:async(i,n,l)=>{try{const a=await fetch(`${Wt}/api/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i,password:n,name:l})}),u=a.headers.get("content-type");if(!u||!u.includes("application/json")){const m=await a.text();throw console.error("Non-JSON response from register API:",m.substring(0,200)),new Error("Server is not responding. Please make sure the server is running on port 3001.")}const d=await a.json();if(!a.ok)throw new Error(d.error||"Register failed");return d.data}catch(a){throw a.message.includes("fetch")?new Error("Cannot connect to server. Please make sure the server is running on port 3001."):new Error(a.message||"Register failed")}},login:async(i,n)=>{try{const l=await fetch(`${Wt}/api/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i,password:n})}),a=l.headers.get("content-type");if(!a||!a.includes("application/json")){const d=await l.text();throw console.error("Non-JSON response from login API:",d.substring(0,200)),new Error("Server is not responding. Please make sure the server is running on port 3001.")}const u=await l.json();if(!l.ok)throw new Error(u.error||"Login failed");return u.data}catch(l){throw l.message.includes("fetch")?new Error("Cannot connect to server. Please make sure the server is running on port 3001."):new Error(l.message||"Login failed")}},getMe:async i=>{try{const n=await fetch(`${Wt}/api/me`,{method:"GET",headers:{Authorization:`Bearer ${i}`}}),l=await n.json();if(!n.ok)throw new Error(l.error||"Failed to fetch user");return l.data}catch(n){throw new Error(n.message||"Failed to fetch user")}}},bv=({onLogin:i})=>{const[n,l]=ie.useState(!1),[a,u]=ie.useState(""),[d,m]=ie.useState(""),[g,y]=ie.useState(""),[h,v]=ie.useState(""),[S,C]=ie.useState(!1),M=async H=>{H.preventDefault(),v(""),C(!0);try{if(n){if(!g)throw new Error("Name is required");const{user:b,token:J}=await du.register(a,d,g);localStorage.setItem("authToken",J),i(b,J)}else{const{user:b,token:J}=await du.login(a,d);localStorage.setItem("authToken",J),i(b,J)}}catch(b){v(b.message||"Authentication failed")}finally{C(!1)}};return E.jsx("div",{style:k.loginContainer,children:E.jsxs("div",{style:k.loginCard,children:[E.jsx("h1",{style:{...k.headerTitle,marginBottom:24},children:"Medicare Vision AI"}),E.jsx("h2",{style:{marginTop:0,marginBottom:24,color:L.text},children:n?"Create Account":"Sign In"}),h&&E.jsx("div",{style:{...k.errorBox,marginBottom:16},children:E.jsx("p",{style:{margin:0,color:L.danger},children:h})}),E.jsxs("form",{onSubmit:M,style:k.loginForm,children:[n&&E.jsx("input",{type:"text",placeholder:"Full Name",value:g,onChange:H=>y(H.target.value),style:k.loginInput,required:!0}),E.jsx("input",{type:"email",placeholder:"Email Address",value:a,onChange:H=>u(H.target.value),style:k.loginInput,required:!0}),E.jsx("input",{type:"password",placeholder:"Password",value:d,onChange:H=>m(H.target.value),style:k.loginInput,required:!0}),E.jsx("button",{type:"submit",disabled:S,style:{...k.loginButton,opacity:S?.6:1,cursor:S?"not-allowed":"pointer"},children:S?"Loading...":n?"Create Account":"Sign In"})]}),E.jsxs("p",{style:{textAlign:"center",marginTop:20,color:L.textSecondary},children:[n?"Already have an account?":"Don't have an account?"," ",E.jsx("button",{type:"button",onClick:()=>{l(!n),v(""),u(""),m(""),y("")},style:{background:"none",border:"none",color:L.primary,cursor:"pointer",textDecoration:"underline",fontSize:"inherit"},children:n?"Sign In":"Register"})]})]})})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Uv,Lv;function qv(){return{geminiUrl:Uv,vertexUrl:Lv}}function Gv(i,n,l,a){var u,d;if(!(i!=null&&i.baseUrl)){const m=qv();return n?(u=m.vertexUrl)!==null&&u!==void 0?u:l:(d=m.geminiUrl)!==null&&d!==void 0?d:a}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wn{}function oe(i,n){const l=/\{([^}]+)\}/g;return i.replace(l,(a,u)=>{if(Object.prototype.hasOwnProperty.call(n,u)){const d=n[u];return d!=null?String(d):""}else throw new Error(`Key '${u}' not found in valueMap.`)})}function c(i,n,l){for(let d=0;d<n.length-1;d++){const m=n[d];if(m.endsWith("[]")){const g=m.slice(0,-2);if(!(g in i))if(Array.isArray(l))i[g]=Array.from({length:l.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(i[g])){const y=i[g];if(Array.isArray(l))for(let h=0;h<y.length;h++){const v=y[h];c(v,n.slice(d+1),l[h])}else for(const h of y)c(h,n.slice(d+1),l)}return}else if(m.endsWith("[0]")){const g=m.slice(0,-3);g in i||(i[g]=[{}]);const y=i[g];c(y[0],n.slice(d+1),l);return}(!i[m]||typeof i[m]!="object")&&(i[m]={}),i=i[m]}const a=n[n.length-1],u=i[a];if(u!==void 0){if(!l||typeof l=="object"&&Object.keys(l).length===0||l===u)return;if(typeof u=="object"&&typeof l=="object"&&u!==null&&l!==null)Object.assign(u,l);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof l=="object"&&l!==null&&!Array.isArray(l)?Object.assign(i,l):i[a]=l}function r(i,n,l=void 0){try{if(n.length===1&&n[0]==="_self")return i;for(let a=0;a<n.length;a++){if(typeof i!="object"||i===null)return l;const u=n[a];if(u.endsWith("[]")){const d=u.slice(0,-2);if(d in i){const m=i[d];return Array.isArray(m)?m.map(g=>r(g,n.slice(a+1),l)):l}else return l}else i=i[u]}return i}catch(a){if(a instanceof TypeError)return l;throw a}}function Hv(i,n){for(const[l,a]of Object.entries(n)){const u=l.split("."),d=a.split("."),m=new Set;let g=-1;for(let y=0;y<u.length;y++)if(u[y]==="*"){g=y;break}if(g!==-1&&d.length>g)for(let y=g;y<d.length;y++){const h=d[y];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&m.add(h)}pu(i,u,d,0,m)}}function pu(i,n,l,a,u){if(a>=n.length||typeof i!="object"||i===null)return;const d=n[a];if(d.endsWith("[]")){const m=d.slice(0,-2),g=i;if(m in g&&Array.isArray(g[m]))for(const y of g[m])pu(y,n,l,a+1,u)}else if(d==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const m=i,g=Object.keys(m).filter(h=>!h.startsWith("_")&&!u.has(h)),y={};for(const h of g)y[h]=m[h];for(const[h,v]of Object.entries(y)){const S=[];for(const C of l.slice(a))C==="*"?S.push(h):S.push(C);c(m,S,v)}for(const h of g)delete m[h]}}else{const m=i;d in m&&pu(m[d],n,l,a+1,u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cu(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pv(i){const n={},l=r(i,["operationName"]);l!=null&&c(n,["operationName"],l);const a=r(i,["resourceName"]);return a!=null&&c(n,["_url","resourceName"],a),n}function Vv(i){const n={},l=r(i,["name"]);l!=null&&c(n,["name"],l);const a=r(i,["metadata"]);a!=null&&c(n,["metadata"],a);const u=r(i,["done"]);u!=null&&c(n,["done"],u);const d=r(i,["error"]);d!=null&&c(n,["error"],d);const m=r(i,["response","generateVideoResponse"]);return m!=null&&c(n,["response"],Bv(m)),n}function zv(i){const n={},l=r(i,["name"]);l!=null&&c(n,["name"],l);const a=r(i,["metadata"]);a!=null&&c(n,["metadata"],a);const u=r(i,["done"]);u!=null&&c(n,["done"],u);const d=r(i,["error"]);d!=null&&c(n,["error"],d);const m=r(i,["response"]);return m!=null&&c(n,["response"],kv(m)),n}function Bv(i){const n={},l=r(i,["generatedSamples"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>Ov(m))),c(n,["generatedVideos"],d)}const a=r(i,["raiMediaFilteredCount"]);a!=null&&c(n,["raiMediaFilteredCount"],a);const u=r(i,["raiMediaFilteredReasons"]);return u!=null&&c(n,["raiMediaFilteredReasons"],u),n}function kv(i){const n={},l=r(i,["videos"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>Fv(m))),c(n,["generatedVideos"],d)}const a=r(i,["raiMediaFilteredCount"]);a!=null&&c(n,["raiMediaFilteredCount"],a);const u=r(i,["raiMediaFilteredReasons"]);return u!=null&&c(n,["raiMediaFilteredReasons"],u),n}function Ov(i){const n={},l=r(i,["video"]);return l!=null&&c(n,["video"],Zv(l)),n}function Fv(i){const n={},l=r(i,["_self"]);return l!=null&&c(n,["video"],$v(l)),n}function Yv(i){const n={},l=r(i,["operationName"]);return l!=null&&c(n,["_url","operationName"],l),n}function Jv(i){const n={},l=r(i,["operationName"]);return l!=null&&c(n,["_url","operationName"],l),n}function Kv(i){const n={},l=r(i,["name"]);l!=null&&c(n,["name"],l);const a=r(i,["metadata"]);a!=null&&c(n,["metadata"],a);const u=r(i,["done"]);u!=null&&c(n,["done"],u);const d=r(i,["error"]);d!=null&&c(n,["error"],d);const m=r(i,["response"]);return m!=null&&c(n,["response"],Xv(m)),n}function Xv(i){const n={},l=r(i,["sdkHttpResponse"]);l!=null&&c(n,["sdkHttpResponse"],l);const a=r(i,["parent"]);a!=null&&c(n,["parent"],a);const u=r(i,["documentName"]);return u!=null&&c(n,["documentName"],u),n}function uh(i){const n={},l=r(i,["name"]);l!=null&&c(n,["name"],l);const a=r(i,["metadata"]);a!=null&&c(n,["metadata"],a);const u=r(i,["done"]);u!=null&&c(n,["done"],u);const d=r(i,["error"]);d!=null&&c(n,["error"],d);const m=r(i,["response"]);return m!=null&&c(n,["response"],Qv(m)),n}function Qv(i){const n={},l=r(i,["sdkHttpResponse"]);l!=null&&c(n,["sdkHttpResponse"],l);const a=r(i,["parent"]);a!=null&&c(n,["parent"],a);const u=r(i,["documentName"]);return u!=null&&c(n,["documentName"],u),n}function Zv(i){const n={},l=r(i,["uri"]);l!=null&&c(n,["uri"],l);const a=r(i,["encodedVideo"]);a!=null&&c(n,["videoBytes"],Cu(a));const u=r(i,["encoding"]);return u!=null&&c(n,["mimeType"],u),n}function $v(i){const n={},l=r(i,["gcsUri"]);l!=null&&c(n,["uri"],l);const a=r(i,["bytesBase64Encoded"]);a!=null&&c(n,["videoBytes"],Cu(a));const u=r(i,["mimeType"]);return u!=null&&c(n,["mimeType"],u),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Pp;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Pp||(Pp={}));var Vp;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(Vp||(Vp={}));var zp;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(zp||(zp={}));var pt;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(pt||(pt={}));var Bp;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Bp||(Bp={}));var kp;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(kp||(kp={}));var Op;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(Op||(Op={}));var Fp;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Fp||(Fp={}));var Yp;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Yp||(Yp={}));var Jp;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Jp||(Jp={}));var Kp;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(Kp||(Kp={}));var Xp;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(Xp||(Xp={}));var Qp;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE"})(Qp||(Qp={}));var Zp;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(Zp||(Zp={}));var $p;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})($p||($p={}));var Wp;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Wp||(Wp={}));var jp;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(jp||(jp={}));var em;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(em||(em={}));var Ha;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(Ha||(Ha={}));var tm;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(tm||(tm={}));var nm;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(nm||(nm={}));var im;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(im||(im={}));var mu;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(mu||(mu={}));var om;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(om||(om={}));var lm;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(lm||(lm={}));var am;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(am||(am={}));var sm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(sm||(sm={}));var rm;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(rm||(rm={}));var um;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(um||(um={}));var cm;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(cm||(cm={}));var fm;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(fm||(fm={}));var dm;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(dm||(dm={}));var pm;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(pm||(pm={}));var mm;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(mm||(mm={}));var hm;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(hm||(hm={}));var gm;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(gm||(gm={}));var ym;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(ym||(ym={}));var vm;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(vm||(vm={}));var Tm;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(Tm||(Tm={}));var Sm;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(Sm||(Sm={}));var Em;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Em||(Em={}));var _m;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(_m||(_m={}));var Cm;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(Cm||(Cm={}));var Am;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED"})(Am||(Am={}));var xm;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(xm||(xm={}));var Mm;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(Mm||(Mm={}));var Rm;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Rm||(Rm={}));var Nm;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Nm||(Nm={}));var Dm;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(Dm||(Dm={}));var Im;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Im||(Im={}));var wm;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(wm||(wm={}));var bm;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(bm||(bm={}));var uo;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(uo||(uo={}));class hu{constructor(n){const l={};for(const a of n.headers.entries())l[a[0]]=a[1];this.headers=l,this.responseInternal=n}json(){return this.responseInternal.json()}}class pl{get text(){var n,l,a,u,d,m,g,y;if(((u=(a=(l=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",v=!1;const S=[];for(const C of(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[M,H]of Object.entries(C))M!=="text"&&M!=="thought"&&M!=="thoughtSignature"&&(H!==null||H!==void 0)&&S.push(M);if(typeof C.text=="string"){if(typeof C.thought=="boolean"&&C.thought)continue;v=!0,h+=C.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?h:void 0}get data(){var n,l,a,u,d,m,g,y;if(((u=(a=(l=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const v=[];for(const S of(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[C,M]of Object.entries(S))C!=="inlineData"&&(M!==null||M!==void 0)&&v.push(C);S.inlineData&&typeof S.inlineData.data=="string"&&(h+=atob(S.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var n,l,a,u,d,m,g,y;if(((u=(a=(l=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var n,l,a,u,d,m,g,y,h;if(((u=(a=(l=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var n,l,a,u,d,m,g,y,h;if(((u=(a=(l=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.output}}class Um{}class Lm{}class Wv{}class jv{}class eT{}class tT{}class qm{}class Gm{}class Hm{}class nT{}class Pa{_fromAPIResponse({apiResponse:n,_isVertexAI:l}){const a=new Pa;let u;const d=n;return l?u=zv(d):u=Vv(d),Object.assign(a,u),a}}class Pm{}class Vm{}class zm{}class iT{}class oT{}class lT{}class Au{_fromAPIResponse({apiResponse:n,_isVertexAI:l}){const a=new Au,d=Kv(n);return Object.assign(a,d),a}}class aT{}class sT{}class rT{}class Bm{}class uT{get text(){var n,l,a;let u="",d=!1;const m=[];for(const g of(a=(l=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[y,h]of Object.entries(g))y!=="text"&&y!=="thought"&&h!==null&&m.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;d=!0,u+=g.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?u:void 0}get data(){var n,l,a;let u="";const d=[];for(const m of(a=(l=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[g,y]of Object.entries(m))g!=="inlineData"&&y!==null&&d.push(g);m.inlineData&&typeof m.inlineData.data=="string"&&(u+=atob(m.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}}class cT{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class xu{_fromAPIResponse({apiResponse:n,_isVertexAI:l}){const a=new xu,d=uh(n);return Object.assign(a,d),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ge(i,n){if(!n||typeof n!="string")throw new Error("model is required and must be a string");if(n.includes("..")||n.includes("?")||n.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(n.startsWith("publishers/")||n.startsWith("projects/")||n.startsWith("models/"))return n;if(n.indexOf("/")>=0){const l=n.split("/",2);return`publishers/${l[0]}/models/${l[1]}`}else return`publishers/google/models/${n}`}else return n.startsWith("models/")||n.startsWith("tunedModels/")?n:`models/${n}`}function ch(i,n){const l=Ge(i,n);return l?l.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}`:l.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${l}`:l:""}function fh(i){return Array.isArray(i)?i.map(n=>Va(n)):[Va(i)]}function Va(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function dh(i){const n=Va(i);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function ph(i){const n=Va(i);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function km(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function mh(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(n=>km(n)):[km(i)]}function gu(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function Om(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function Fm(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function At(i){if(i==null)throw new Error("ContentUnion is required");return gu(i)?i:{role:"user",parts:mh(i)}}function Mu(i,n){if(!n)return[];if(i.isVertexAI()&&Array.isArray(n))return n.flatMap(l=>{const a=At(l);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(i.isVertexAI()){const l=At(n);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]}return Array.isArray(n)?n.map(l=>At(l)):[At(n)]}function jt(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(Om(i)||Fm(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[At(i)]}const n=[],l=[],a=gu(i[0]);for(const u of i){const d=gu(u);if(d!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(d)n.push(u);else{if(Om(u)||Fm(u))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");l.push(u)}}return a||n.push({role:"user",parts:mh(l)}),n}function fT(i,n){i.includes("null")&&(n.nullable=!0);const l=i.filter(a=>a!=="null");if(l.length===1)n.type=Object.values(pt).includes(l[0].toUpperCase())?l[0].toUpperCase():pt.TYPE_UNSPECIFIED;else{n.anyOf=[];for(const a of l)n.anyOf.push({type:Object.values(pt).includes(a.toUpperCase())?a.toUpperCase():pt.TYPE_UNSPECIFIED})}}function co(i){const n={},l=["items"],a=["anyOf"],u=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const d=i.anyOf;d!=null&&d.length==2&&(d[0].type==="null"?(n.nullable=!0,i=d[1]):d[1].type==="null"&&(n.nullable=!0,i=d[0])),i.type instanceof Array&&fT(i.type,n);for(const[m,g]of Object.entries(i))if(g!=null)if(m=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;n.type=Object.values(pt).includes(g.toUpperCase())?g.toUpperCase():pt.TYPE_UNSPECIFIED}else if(l.includes(m))n[m]=co(g);else if(a.includes(m)){const y=[];for(const h of g){if(h.type=="null"){n.nullable=!0;continue}y.push(co(h))}n[m]=y}else if(u.includes(m)){const y={};for(const[h,v]of Object.entries(g))y[h]=co(v);n[m]=y}else{if(m==="additionalProperties")continue;n[m]=g}return n}function Ru(i){return co(i)}function Nu(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function Du(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function mo(i){if(i.functionDeclarations)for(const n of i.functionDeclarations)n.parameters&&(Object.keys(n.parameters).includes("$schema")?n.parametersJsonSchema||(n.parametersJsonSchema=n.parameters,delete n.parameters):n.parameters=co(n.parameters)),n.response&&(Object.keys(n.response).includes("$schema")?n.responseJsonSchema||(n.responseJsonSchema=n.response,delete n.response):n.response=co(n.response));return i}function ho(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const n=[];for(const l of i)n.push(l);return n}function dT(i,n,l,a=1){const u=!n.startsWith(`${l}/`)&&n.split("/").length===a;return i.isVertexAI()?n.startsWith("projects/")?n:n.startsWith("locations/")?`projects/${i.getProject()}/${n}`:n.startsWith(`${l}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${n}`:u?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}/${n}`:n:u?`${l}/${n}`:n}function bn(i,n){if(typeof n!="string")throw new Error("name must be a string");return dT(i,n,"cachedContents")}function hh(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function ii(i){return Cu(i)}function pT(i){return i!=null&&typeof i=="object"&&"name"in i}function mT(i){return i!=null&&typeof i=="object"&&"video"in i}function hT(i){return i!=null&&typeof i=="object"&&"uri"in i}function gh(i){var n;let l;if(pT(i)&&(l=i.name),!(hT(i)&&(l=i.uri,l===void 0))&&!(mT(i)&&(l=(n=i.video)===null||n===void 0?void 0:n.uri,l===void 0))){if(typeof i=="string"&&(l=i),l===void 0)throw new Error("Could not extract file name from the provided input.");if(l.startsWith("https://")){const u=l.split("files/")[1].match(/[a-z0-9]+/);if(u===null)throw new Error(`Could not extract file name from URI ${l}`);l=u[0]}else l.startsWith("files/")&&(l=l.split("files/")[1]);return l}}function yh(i,n){let l;return i.isVertexAI()?l=n?"publishers/google/models":"models":l=n?"models":"tunedModels",l}function vh(i){for(const n of["models","tunedModels","publisherModels"])if(gT(i,n))return i[n];return[]}function gT(i,n){return i!==null&&typeof i=="object"&&n in i}function yT(i,n={}){const l=i,a={name:l.name,description:l.description,parametersJsonSchema:l.inputSchema};return l.outputSchema&&(a.responseJsonSchema=l.outputSchema),n.behavior&&(a.behavior=n.behavior),{functionDeclarations:[a]}}function vT(i,n={}){const l=[],a=new Set;for(const u of i){const d=u.name;if(a.has(d))throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);a.add(d);const m=yT(u,n);m.functionDeclarations&&l.push(...m.functionDeclarations)}return{functionDeclarations:l}}function Th(i,n){let l;if(typeof n=="string")if(i.isVertexAI())if(n.startsWith("gs://"))l={format:"jsonl",gcsUri:[n]};else if(n.startsWith("bq://"))l={format:"bigquery",bigqueryUri:n};else throw new Error(`Unsupported string source for Vertex AI: ${n}`);else if(n.startsWith("files/"))l={fileName:n};else throw new Error(`Unsupported string source for Gemini API: ${n}`);else if(Array.isArray(n)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");l={inlinedRequests:n}}else l=n;const a=[l.gcsUri,l.bigqueryUri].filter(Boolean).length,u=[l.inlinedRequests,l.fileName].filter(Boolean).length;if(i.isVertexAI()){if(u>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||u!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return l}function TT(i){if(typeof i!="string")return i;const n=i;if(n.startsWith("gs://"))return{format:"jsonl",gcsUri:n};if(n.startsWith("bq://"))return{format:"bigquery",bigqueryUri:n};throw new Error(`Unsupported destination: ${n}`)}function Sh(i){if(typeof i!="object"||i===null)return{};const n=i,l=n.inlinedResponses;if(typeof l!="object"||l===null)return i;const u=l.inlinedResponses;if(!Array.isArray(u)||u.length===0)return i;let d=!1;for(const m of u){if(typeof m!="object"||m===null)continue;const y=m.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){d=!0;break}}return d&&(n.inlinedEmbedContentResponses=n.inlinedResponses,delete n.inlinedResponses),i}function go(i,n){const l=n;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(l))return l.split("/").pop();throw new Error(`Invalid batch job name: ${l}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(l))return l.split("/").pop();if(/^\d+$/.test(l))return l;throw new Error(`Invalid batch job name: ${l}.`)}function Eh(i){const n=i;return n==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":n==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":n==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":n==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":n==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":n==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":n==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ST(i){const n={},l=r(i,["responsesFile"]);l!=null&&c(n,["fileName"],l);const a=r(i,["inlinedResponses","inlinedResponses"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>$T(m))),c(n,["inlinedResponses"],d)}const u=r(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>m)),c(n,["inlinedEmbedContentResponses"],d)}return n}function ET(i){const n={},l=r(i,["predictionsFormat"]);l!=null&&c(n,["format"],l);const a=r(i,["gcsDestination","outputUriPrefix"]);a!=null&&c(n,["gcsUri"],a);const u=r(i,["bigqueryDestination","outputUri"]);return u!=null&&c(n,["bigqueryUri"],u),n}function _T(i){const n={},l=r(i,["format"]);l!=null&&c(n,["predictionsFormat"],l);const a=r(i,["gcsUri"]);a!=null&&c(n,["gcsDestination","outputUriPrefix"],a);const u=r(i,["bigqueryUri"]);if(u!=null&&c(n,["bigqueryDestination","outputUri"],u),r(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(r(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(r(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return n}function qa(i){const n={},l=r(i,["name"]);l!=null&&c(n,["name"],l);const a=r(i,["metadata","displayName"]);a!=null&&c(n,["displayName"],a);const u=r(i,["metadata","state"]);u!=null&&c(n,["state"],Eh(u));const d=r(i,["metadata","createTime"]);d!=null&&c(n,["createTime"],d);const m=r(i,["metadata","endTime"]);m!=null&&c(n,["endTime"],m);const g=r(i,["metadata","updateTime"]);g!=null&&c(n,["updateTime"],g);const y=r(i,["metadata","model"]);y!=null&&c(n,["model"],y);const h=r(i,["metadata","output"]);return h!=null&&c(n,["dest"],ST(Sh(h))),n}function yu(i){const n={},l=r(i,["name"]);l!=null&&c(n,["name"],l);const a=r(i,["displayName"]);a!=null&&c(n,["displayName"],a);const u=r(i,["state"]);u!=null&&c(n,["state"],Eh(u));const d=r(i,["error"]);d!=null&&c(n,["error"],d);const m=r(i,["createTime"]);m!=null&&c(n,["createTime"],m);const g=r(i,["startTime"]);g!=null&&c(n,["startTime"],g);const y=r(i,["endTime"]);y!=null&&c(n,["endTime"],y);const h=r(i,["updateTime"]);h!=null&&c(n,["updateTime"],h);const v=r(i,["model"]);v!=null&&c(n,["model"],v);const S=r(i,["inputConfig"]);S!=null&&c(n,["src"],CT(S));const C=r(i,["outputConfig"]);C!=null&&c(n,["dest"],ET(Sh(C)));const M=r(i,["completionStats"]);return M!=null&&c(n,["completionStats"],M),n}function CT(i){const n={},l=r(i,["instancesFormat"]);l!=null&&c(n,["format"],l);const a=r(i,["gcsSource","uris"]);a!=null&&c(n,["gcsUri"],a);const u=r(i,["bigquerySource","inputUri"]);return u!=null&&c(n,["bigqueryUri"],u),n}function AT(i,n){const l={};if(r(n,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(r(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(r(n,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=r(n,["fileName"]);a!=null&&c(l,["fileName"],a);const u=r(n,["inlinedRequests"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>ZT(i,m))),c(l,["requests","requests"],d)}return l}function xT(i){const n={},l=r(i,["format"]);l!=null&&c(n,["instancesFormat"],l);const a=r(i,["gcsUri"]);a!=null&&c(n,["gcsSource","uris"],a);const u=r(i,["bigqueryUri"]);if(u!=null&&c(n,["bigquerySource","inputUri"],u),r(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(r(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return n}function MT(i){const n={},l=r(i,["data"]);if(l!=null&&c(n,["data"],l),r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=r(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function RT(i,n){const l={},a=r(n,["name"]);return a!=null&&c(l,["_url","name"],go(i,a)),l}function NT(i,n){const l={},a=r(n,["name"]);return a!=null&&c(l,["_url","name"],go(i,a)),l}function DT(i){const n={},l=r(i,["content"]);l!=null&&c(n,["content"],l);const a=r(i,["citationMetadata"]);a!=null&&c(n,["citationMetadata"],IT(a));const u=r(i,["tokenCount"]);u!=null&&c(n,["tokenCount"],u);const d=r(i,["finishReason"]);d!=null&&c(n,["finishReason"],d);const m=r(i,["avgLogprobs"]);m!=null&&c(n,["avgLogprobs"],m);const g=r(i,["groundingMetadata"]);g!=null&&c(n,["groundingMetadata"],g);const y=r(i,["index"]);y!=null&&c(n,["index"],y);const h=r(i,["logprobsResult"]);h!=null&&c(n,["logprobsResult"],h);const v=r(i,["safetyRatings"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(M=>M)),c(n,["safetyRatings"],C)}const S=r(i,["urlContextMetadata"]);return S!=null&&c(n,["urlContextMetadata"],S),n}function IT(i){const n={},l=r(i,["citationSources"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>u)),c(n,["citations"],a)}return n}function _h(i){const n={},l=r(i,["parts"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>oS(d))),c(n,["parts"],u)}const a=r(i,["role"]);return a!=null&&c(n,["role"],a),n}function wT(i,n){const l={},a=r(i,["displayName"]);if(n!==void 0&&a!=null&&c(n,["batch","displayName"],a),r(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return l}function bT(i,n){const l={},a=r(i,["displayName"]);n!==void 0&&a!=null&&c(n,["displayName"],a);const u=r(i,["dest"]);return n!==void 0&&u!=null&&c(n,["outputConfig"],_T(TT(u))),l}function Ym(i,n){const l={},a=r(n,["model"]);a!=null&&c(l,["_url","model"],Ge(i,a));const u=r(n,["src"]);u!=null&&c(l,["batch","inputConfig"],AT(i,Th(i,u)));const d=r(n,["config"]);return d!=null&&wT(d,l),l}function UT(i,n){const l={},a=r(n,["model"]);a!=null&&c(l,["model"],Ge(i,a));const u=r(n,["src"]);u!=null&&c(l,["inputConfig"],xT(Th(i,u)));const d=r(n,["config"]);return d!=null&&bT(d,l),l}function LT(i,n){const l={},a=r(i,["displayName"]);return n!==void 0&&a!=null&&c(n,["batch","displayName"],a),l}function qT(i,n){const l={},a=r(n,["model"]);a!=null&&c(l,["_url","model"],Ge(i,a));const u=r(n,["src"]);u!=null&&c(l,["batch","inputConfig"],kT(i,u));const d=r(n,["config"]);return d!=null&&LT(d,l),l}function GT(i,n){const l={},a=r(n,["name"]);return a!=null&&c(l,["_url","name"],go(i,a)),l}function HT(i,n){const l={},a=r(n,["name"]);return a!=null&&c(l,["_url","name"],go(i,a)),l}function PT(i){const n={},l=r(i,["sdkHttpResponse"]);l!=null&&c(n,["sdkHttpResponse"],l);const a=r(i,["name"]);a!=null&&c(n,["name"],a);const u=r(i,["done"]);u!=null&&c(n,["done"],u);const d=r(i,["error"]);return d!=null&&c(n,["error"],d),n}function VT(i){const n={},l=r(i,["sdkHttpResponse"]);l!=null&&c(n,["sdkHttpResponse"],l);const a=r(i,["name"]);a!=null&&c(n,["name"],a);const u=r(i,["done"]);u!=null&&c(n,["done"],u);const d=r(i,["error"]);return d!=null&&c(n,["error"],d),n}function zT(i,n){const l={},a=r(n,["contents"]);if(a!=null){let d=Mu(i,a);Array.isArray(d)&&(d=d.map(m=>m)),c(l,["requests[]","request","content"],d)}const u=r(n,["config"]);return u!=null&&(c(l,["_self"],BT(u,l)),Hv(l,{"requests[].*":"requests[].request.*"})),l}function BT(i,n){const l={},a=r(i,["taskType"]);n!==void 0&&a!=null&&c(n,["requests[]","taskType"],a);const u=r(i,["title"]);n!==void 0&&u!=null&&c(n,["requests[]","title"],u);const d=r(i,["outputDimensionality"]);if(n!==void 0&&d!=null&&c(n,["requests[]","outputDimensionality"],d),r(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(r(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function kT(i,n){const l={},a=r(n,["fileName"]);a!=null&&c(l,["file_name"],a);const u=r(n,["inlinedRequests"]);return u!=null&&c(l,["requests"],zT(i,u)),l}function OT(i){const n={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=r(i,["fileUri"]);l!=null&&c(n,["fileUri"],l);const a=r(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function FT(i,n,l){const a={},u=r(n,["systemInstruction"]);l!==void 0&&u!=null&&c(l,["systemInstruction"],_h(At(u)));const d=r(n,["temperature"]);d!=null&&c(a,["temperature"],d);const m=r(n,["topP"]);m!=null&&c(a,["topP"],m);const g=r(n,["topK"]);g!=null&&c(a,["topK"],g);const y=r(n,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=r(n,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const v=r(n,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const S=r(n,["responseLogprobs"]);S!=null&&c(a,["responseLogprobs"],S);const C=r(n,["logprobs"]);C!=null&&c(a,["logprobs"],C);const M=r(n,["presencePenalty"]);M!=null&&c(a,["presencePenalty"],M);const H=r(n,["frequencyPenalty"]);H!=null&&c(a,["frequencyPenalty"],H);const b=r(n,["seed"]);b!=null&&c(a,["seed"],b);const J=r(n,["responseMimeType"]);J!=null&&c(a,["responseMimeType"],J);const te=r(n,["responseSchema"]);te!=null&&c(a,["responseSchema"],Ru(te));const le=r(n,["responseJsonSchema"]);if(le!=null&&c(a,["responseJsonSchema"],le),r(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(r(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const Q=r(n,["safetySettings"]);if(l!==void 0&&Q!=null){let ye=Q;Array.isArray(ye)&&(ye=ye.map(ze=>lS(ze))),c(l,["safetySettings"],ye)}const Z=r(n,["tools"]);if(l!==void 0&&Z!=null){let ye=ho(Z);Array.isArray(ye)&&(ye=ye.map(ze=>aS(mo(ze)))),c(l,["tools"],ye)}const ee=r(n,["toolConfig"]);if(l!==void 0&&ee!=null&&c(l,["toolConfig"],ee),r(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ne=r(n,["cachedContent"]);l!==void 0&&ne!=null&&c(l,["cachedContent"],bn(i,ne));const j=r(n,["responseModalities"]);j!=null&&c(a,["responseModalities"],j);const Ee=r(n,["mediaResolution"]);Ee!=null&&c(a,["mediaResolution"],Ee);const re=r(n,["speechConfig"]);if(re!=null&&c(a,["speechConfig"],Nu(re)),r(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const me=r(n,["thinkingConfig"]);me!=null&&c(a,["thinkingConfig"],me);const Ne=r(n,["imageConfig"]);return Ne!=null&&c(a,["imageConfig"],Ne),a}function YT(i){const n={},l=r(i,["sdkHttpResponse"]);l!=null&&c(n,["sdkHttpResponse"],l);const a=r(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>DT(h))),c(n,["candidates"],y)}const u=r(i,["modelVersion"]);u!=null&&c(n,["modelVersion"],u);const d=r(i,["promptFeedback"]);d!=null&&c(n,["promptFeedback"],d);const m=r(i,["responseId"]);m!=null&&c(n,["responseId"],m);const g=r(i,["usageMetadata"]);return g!=null&&c(n,["usageMetadata"],g),n}function JT(i,n){const l={},a=r(n,["name"]);return a!=null&&c(l,["_url","name"],go(i,a)),l}function KT(i,n){const l={},a=r(n,["name"]);return a!=null&&c(l,["_url","name"],go(i,a)),l}function XT(i){const n={};if(r(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=r(i,["enableWidget"]);return l!=null&&c(n,["enableWidget"],l),n}function QT(i){const n={};if(r(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=r(i,["timeRangeFilter"]);return l!=null&&c(n,["timeRangeFilter"],l),n}function ZT(i,n){const l={},a=r(n,["model"]);a!=null&&c(l,["request","model"],Ge(i,a));const u=r(n,["contents"]);if(u!=null){let g=jt(u);Array.isArray(g)&&(g=g.map(y=>_h(y))),c(l,["request","contents"],g)}const d=r(n,["metadata"]);d!=null&&c(l,["metadata"],d);const m=r(n,["config"]);return m!=null&&c(l,["request","generationConfig"],FT(i,m,r(l,["request"],{}))),l}function $T(i){const n={},l=r(i,["response"]);l!=null&&c(n,["response"],YT(l));const a=r(i,["error"]);return a!=null&&c(n,["error"],a),n}function WT(i,n){const l={},a=r(i,["pageSize"]);n!==void 0&&a!=null&&c(n,["_query","pageSize"],a);const u=r(i,["pageToken"]);if(n!==void 0&&u!=null&&c(n,["_query","pageToken"],u),r(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return l}function jT(i,n){const l={},a=r(i,["pageSize"]);n!==void 0&&a!=null&&c(n,["_query","pageSize"],a);const u=r(i,["pageToken"]);n!==void 0&&u!=null&&c(n,["_query","pageToken"],u);const d=r(i,["filter"]);return n!==void 0&&d!=null&&c(n,["_query","filter"],d),l}function eS(i){const n={},l=r(i,["config"]);return l!=null&&WT(l,n),n}function tS(i){const n={},l=r(i,["config"]);return l!=null&&jT(l,n),n}function nS(i){const n={},l=r(i,["sdkHttpResponse"]);l!=null&&c(n,["sdkHttpResponse"],l);const a=r(i,["nextPageToken"]);a!=null&&c(n,["nextPageToken"],a);const u=r(i,["operations"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>qa(m))),c(n,["batchJobs"],d)}return n}function iS(i){const n={},l=r(i,["sdkHttpResponse"]);l!=null&&c(n,["sdkHttpResponse"],l);const a=r(i,["nextPageToken"]);a!=null&&c(n,["nextPageToken"],a);const u=r(i,["batchPredictionJobs"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>yu(m))),c(n,["batchJobs"],d)}return n}function oS(i){const n={},l=r(i,["functionCall"]);l!=null&&c(n,["functionCall"],l);const a=r(i,["codeExecutionResult"]);a!=null&&c(n,["codeExecutionResult"],a);const u=r(i,["executableCode"]);u!=null&&c(n,["executableCode"],u);const d=r(i,["fileData"]);d!=null&&c(n,["fileData"],OT(d));const m=r(i,["functionResponse"]);m!=null&&c(n,["functionResponse"],m);const g=r(i,["inlineData"]);g!=null&&c(n,["inlineData"],MT(g));const y=r(i,["text"]);y!=null&&c(n,["text"],y);const h=r(i,["thought"]);h!=null&&c(n,["thought"],h);const v=r(i,["thoughtSignature"]);v!=null&&c(n,["thoughtSignature"],v);const S=r(i,["videoMetadata"]);return S!=null&&c(n,["videoMetadata"],S),n}function lS(i){const n={},l=r(i,["category"]);if(l!=null&&c(n,["category"],l),r(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=r(i,["threshold"]);return a!=null&&c(n,["threshold"],a),n}function aS(i){const n={},l=r(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(S=>S)),c(n,["functionDeclarations"],v)}if(r(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=r(i,["googleSearchRetrieval"]);a!=null&&c(n,["googleSearchRetrieval"],a);const u=r(i,["computerUse"]);u!=null&&c(n,["computerUse"],u);const d=r(i,["fileSearch"]);d!=null&&c(n,["fileSearch"],d);const m=r(i,["codeExecution"]);if(m!=null&&c(n,["codeExecution"],m),r(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=r(i,["googleMaps"]);g!=null&&c(n,["googleMaps"],XT(g));const y=r(i,["googleSearch"]);y!=null&&c(n,["googleSearch"],QT(y));const h=r(i,["urlContext"]);return h!=null&&c(n,["urlContext"],h),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var In;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(In||(In={}));class Ci{constructor(n,l,a,u){this.pageInternal=[],this.paramsInternal={},this.requestInternal=l,this.init(n,a,u)}init(n,l,a){var u,d;this.nameInternal=n,this.pageInternal=l[this.nameInternal]||[],this.sdkHttpResponseInternal=l==null?void 0:l.sdkHttpResponse,this.idxInternal=0;let m={config:{}};!a||Object.keys(a).length===0?m={config:{}}:typeof a=="object"?m=Object.assign({},a):m=a,m.config&&(m.config.pageToken=l.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(d=(u=m.config)===null||u===void 0?void 0:u.pageSize)!==null&&d!==void 0?d:this.pageInternal.length}initNextPage(n){this.init(this.nameInternal,n,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(n){return this.pageInternal[n]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const n=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:n,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const n=await this.requestInternal(this.params);return this.initNextPage(n),this.page}hasNextPage(){var n;return((n=this.params.config)===null||n===void 0?void 0:n.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sS extends wn{constructor(n){super(),this.apiClient=n,this.create=async l=>(this.apiClient.isVertexAI()&&(l.config=this.formatDestination(l.src,l.config)),this.createInternal(l)),this.createEmbeddings=async l=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(l)},this.list=async(l={})=>new Ci(In.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(l),l)}createInlinedGenerateContentRequest(n){const l=Ym(this.apiClient,n),a=l._url,u=oe("{model}:batchGenerateContent",a),g=l.batch.inputConfig.requests,y=g.requests,h=[];for(const v of y){const S=Object.assign({},v);if(S.systemInstruction){const C=S.systemInstruction;delete S.systemInstruction;const M=S.request;M.systemInstruction=C,S.request=M}h.push(S)}return g.requests=h,delete l.config,delete l._url,delete l._query,{path:u,body:l}}getGcsUri(n){if(typeof n=="string")return n.startsWith("gs://")?n:void 0;if(!Array.isArray(n)&&n.gcsUri&&n.gcsUri.length>0)return n.gcsUri[0]}getBigqueryUri(n){if(typeof n=="string")return n.startsWith("bq://")?n:void 0;if(!Array.isArray(n))return n.bigqueryUri}formatDestination(n,l){const a=l?Object.assign({},l):{},u=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${u}`),a.dest===void 0){const d=this.getGcsUri(n),m=this.getBigqueryUri(n);if(d)d.endsWith(".jsonl")?a.dest=`${d.slice(0,-6)}/dest`:a.dest=`${d}_dest_${u}`;else if(m)a.dest=`${m}_dest_${u}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(n){var l,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=UT(this.apiClient,n);return g=oe("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>yu(v))}else{const h=Ym(this.apiClient,n);return g=oe("{model}:batchGenerateContent",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>qa(v))}}async createEmbeddingsInternal(n){var l,a;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=qT(this.apiClient,n);return d=oe("{model}:asyncBatchEmbedContent",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>qa(y))}}async get(n){var l,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=KT(this.apiClient,n);return g=oe("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>yu(v))}else{const h=JT(this.apiClient,n);return g=oe("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>qa(v))}}async cancel(n){var l,a,u,d;let m="",g={};if(this.apiClient.isVertexAI()){const y=NT(this.apiClient,n);m=oe("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=RT(this.apiClient,n);m=oe("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal})}}async listInternal(n){var l,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=tS(n);return g=oe("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=iS(v),C=new Bm;return Object.assign(C,S),C})}else{const h=eS(n);return g=oe("batches",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=nS(v),C=new Bm;return Object.assign(C,S),C})}}async delete(n){var l,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=HT(this.apiClient,n);return g=oe("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>VT(v))}else{const h=GT(this.apiClient,n);return g=oe("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>PT(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rS(i){const n={},l=r(i,["data"]);if(l!=null&&c(n,["data"],l),r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=r(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function Jm(i){const n={},l=r(i,["parts"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>DS(d))),c(n,["parts"],u)}const a=r(i,["role"]);return a!=null&&c(n,["role"],a),n}function uS(i,n){const l={},a=r(i,["ttl"]);n!==void 0&&a!=null&&c(n,["ttl"],a);const u=r(i,["expireTime"]);n!==void 0&&u!=null&&c(n,["expireTime"],u);const d=r(i,["displayName"]);n!==void 0&&d!=null&&c(n,["displayName"],d);const m=r(i,["contents"]);if(n!==void 0&&m!=null){let v=jt(m);Array.isArray(v)&&(v=v.map(S=>Jm(S))),c(n,["contents"],v)}const g=r(i,["systemInstruction"]);n!==void 0&&g!=null&&c(n,["systemInstruction"],Jm(At(g)));const y=r(i,["tools"]);if(n!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(S=>IS(S))),c(n,["tools"],v)}const h=r(i,["toolConfig"]);if(n!==void 0&&h!=null&&c(n,["toolConfig"],h),r(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return l}function cS(i,n){const l={},a=r(i,["ttl"]);n!==void 0&&a!=null&&c(n,["ttl"],a);const u=r(i,["expireTime"]);n!==void 0&&u!=null&&c(n,["expireTime"],u);const d=r(i,["displayName"]);n!==void 0&&d!=null&&c(n,["displayName"],d);const m=r(i,["contents"]);if(n!==void 0&&m!=null){let S=jt(m);Array.isArray(S)&&(S=S.map(C=>C)),c(n,["contents"],S)}const g=r(i,["systemInstruction"]);n!==void 0&&g!=null&&c(n,["systemInstruction"],At(g));const y=r(i,["tools"]);if(n!==void 0&&y!=null){let S=y;Array.isArray(S)&&(S=S.map(C=>wS(C))),c(n,["tools"],S)}const h=r(i,["toolConfig"]);n!==void 0&&h!=null&&c(n,["toolConfig"],h);const v=r(i,["kmsKeyName"]);return n!==void 0&&v!=null&&c(n,["encryption_spec","kmsKeyName"],v),l}function fS(i,n){const l={},a=r(n,["model"]);a!=null&&c(l,["model"],ch(i,a));const u=r(n,["config"]);return u!=null&&uS(u,l),l}function dS(i,n){const l={},a=r(n,["model"]);a!=null&&c(l,["model"],ch(i,a));const u=r(n,["config"]);return u!=null&&cS(u,l),l}function pS(i,n){const l={},a=r(n,["name"]);return a!=null&&c(l,["_url","name"],bn(i,a)),l}function mS(i,n){const l={},a=r(n,["name"]);return a!=null&&c(l,["_url","name"],bn(i,a)),l}function hS(i){const n={},l=r(i,["sdkHttpResponse"]);return l!=null&&c(n,["sdkHttpResponse"],l),n}function gS(i){const n={},l=r(i,["sdkHttpResponse"]);return l!=null&&c(n,["sdkHttpResponse"],l),n}function yS(i){const n={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=r(i,["fileUri"]);l!=null&&c(n,["fileUri"],l);const a=r(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function vS(i){const n={};if(r(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=r(i,["description"]);l!=null&&c(n,["description"],l);const a=r(i,["name"]);a!=null&&c(n,["name"],a);const u=r(i,["parameters"]);u!=null&&c(n,["parameters"],u);const d=r(i,["parametersJsonSchema"]);d!=null&&c(n,["parametersJsonSchema"],d);const m=r(i,["response"]);m!=null&&c(n,["response"],m);const g=r(i,["responseJsonSchema"]);return g!=null&&c(n,["responseJsonSchema"],g),n}function TS(i,n){const l={},a=r(n,["name"]);return a!=null&&c(l,["_url","name"],bn(i,a)),l}function SS(i,n){const l={},a=r(n,["name"]);return a!=null&&c(l,["_url","name"],bn(i,a)),l}function ES(i){const n={};if(r(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=r(i,["enableWidget"]);return l!=null&&c(n,["enableWidget"],l),n}function _S(i){const n={};if(r(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=r(i,["timeRangeFilter"]);return l!=null&&c(n,["timeRangeFilter"],l),n}function CS(i,n){const l={},a=r(i,["pageSize"]);n!==void 0&&a!=null&&c(n,["_query","pageSize"],a);const u=r(i,["pageToken"]);return n!==void 0&&u!=null&&c(n,["_query","pageToken"],u),l}function AS(i,n){const l={},a=r(i,["pageSize"]);n!==void 0&&a!=null&&c(n,["_query","pageSize"],a);const u=r(i,["pageToken"]);return n!==void 0&&u!=null&&c(n,["_query","pageToken"],u),l}function xS(i){const n={},l=r(i,["config"]);return l!=null&&CS(l,n),n}function MS(i){const n={},l=r(i,["config"]);return l!=null&&AS(l,n),n}function RS(i){const n={},l=r(i,["sdkHttpResponse"]);l!=null&&c(n,["sdkHttpResponse"],l);const a=r(i,["nextPageToken"]);a!=null&&c(n,["nextPageToken"],a);const u=r(i,["cachedContents"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>m)),c(n,["cachedContents"],d)}return n}function NS(i){const n={},l=r(i,["sdkHttpResponse"]);l!=null&&c(n,["sdkHttpResponse"],l);const a=r(i,["nextPageToken"]);a!=null&&c(n,["nextPageToken"],a);const u=r(i,["cachedContents"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>m)),c(n,["cachedContents"],d)}return n}function DS(i){const n={},l=r(i,["functionCall"]);l!=null&&c(n,["functionCall"],l);const a=r(i,["codeExecutionResult"]);a!=null&&c(n,["codeExecutionResult"],a);const u=r(i,["executableCode"]);u!=null&&c(n,["executableCode"],u);const d=r(i,["fileData"]);d!=null&&c(n,["fileData"],yS(d));const m=r(i,["functionResponse"]);m!=null&&c(n,["functionResponse"],m);const g=r(i,["inlineData"]);g!=null&&c(n,["inlineData"],rS(g));const y=r(i,["text"]);y!=null&&c(n,["text"],y);const h=r(i,["thought"]);h!=null&&c(n,["thought"],h);const v=r(i,["thoughtSignature"]);v!=null&&c(n,["thoughtSignature"],v);const S=r(i,["videoMetadata"]);return S!=null&&c(n,["videoMetadata"],S),n}function IS(i){const n={},l=r(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(S=>S)),c(n,["functionDeclarations"],v)}if(r(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=r(i,["googleSearchRetrieval"]);a!=null&&c(n,["googleSearchRetrieval"],a);const u=r(i,["computerUse"]);u!=null&&c(n,["computerUse"],u);const d=r(i,["fileSearch"]);d!=null&&c(n,["fileSearch"],d);const m=r(i,["codeExecution"]);if(m!=null&&c(n,["codeExecution"],m),r(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=r(i,["googleMaps"]);g!=null&&c(n,["googleMaps"],ES(g));const y=r(i,["googleSearch"]);y!=null&&c(n,["googleSearch"],_S(y));const h=r(i,["urlContext"]);return h!=null&&c(n,["urlContext"],h),n}function wS(i){const n={},l=r(i,["functionDeclarations"]);if(l!=null){let S=l;Array.isArray(S)&&(S=S.map(C=>vS(C))),c(n,["functionDeclarations"],S)}const a=r(i,["retrieval"]);a!=null&&c(n,["retrieval"],a);const u=r(i,["googleSearchRetrieval"]);u!=null&&c(n,["googleSearchRetrieval"],u);const d=r(i,["computerUse"]);if(d!=null&&c(n,["computerUse"],d),r(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const m=r(i,["codeExecution"]);m!=null&&c(n,["codeExecution"],m);const g=r(i,["enterpriseWebSearch"]);g!=null&&c(n,["enterpriseWebSearch"],g);const y=r(i,["googleMaps"]);y!=null&&c(n,["googleMaps"],y);const h=r(i,["googleSearch"]);h!=null&&c(n,["googleSearch"],h);const v=r(i,["urlContext"]);return v!=null&&c(n,["urlContext"],v),n}function bS(i,n){const l={},a=r(i,["ttl"]);n!==void 0&&a!=null&&c(n,["ttl"],a);const u=r(i,["expireTime"]);return n!==void 0&&u!=null&&c(n,["expireTime"],u),l}function US(i,n){const l={},a=r(i,["ttl"]);n!==void 0&&a!=null&&c(n,["ttl"],a);const u=r(i,["expireTime"]);return n!==void 0&&u!=null&&c(n,["expireTime"],u),l}function LS(i,n){const l={},a=r(n,["name"]);a!=null&&c(l,["_url","name"],bn(i,a));const u=r(n,["config"]);return u!=null&&bS(u,l),l}function qS(i,n){const l={},a=r(n,["name"]);a!=null&&c(l,["_url","name"],bn(i,a));const u=r(n,["config"]);return u!=null&&US(u,l),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GS extends wn{constructor(n){super(),this.apiClient=n,this.list=async(l={})=>new Ci(In.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(l),l)}async create(n){var l,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=dS(this.apiClient,n);return g=oe("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>v)}else{const h=fS(this.apiClient,n);return g=oe("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>v)}}async get(n){var l,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=SS(this.apiClient,n);return g=oe("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>v)}else{const h=TS(this.apiClient,n);return g=oe("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>v)}}async delete(n){var l,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=mS(this.apiClient,n);return g=oe("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=gS(v),C=new Vm;return Object.assign(C,S),C})}else{const h=pS(this.apiClient,n);return g=oe("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=hS(v),C=new Vm;return Object.assign(C,S),C})}}async update(n){var l,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=qS(this.apiClient,n);return g=oe("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>v)}else{const h=LS(this.apiClient,n);return g=oe("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>v)}}async listInternal(n){var l,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=MS(n);return g=oe("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=NS(v),C=new zm;return Object.assign(C,S),C})}else{const h=xS(n);return g=oe("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=RS(v),C=new zm;return Object.assign(C,S),C})}}}function Km(i){var n=typeof Symbol=="function"&&Symbol.iterator,l=n&&i[n],a=0;if(l)return l.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function je(i){return this instanceof je?(this.v=i,this):new je(i)}function fo(i,n,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=l.apply(i,n||[]),u,d=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",m),u[Symbol.asyncIterator]=function(){return this},u;function m(M){return function(H){return Promise.resolve(H).then(M,S)}}function g(M,H){a[M]&&(u[M]=function(b){return new Promise(function(J,te){d.push([M,b,J,te])>1||y(M,b)})},H&&(u[M]=H(u[M])))}function y(M,H){try{h(a[M](H))}catch(b){C(d[0][3],b)}}function h(M){M.value instanceof je?Promise.resolve(M.value.v).then(v,S):C(d[0][2],M)}function v(M){y("next",M)}function S(M){y("throw",M)}function C(M,H){M(H),d.shift(),d.length&&y(d[0][0],d[0][1])}}function ml(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=i[Symbol.asyncIterator],l;return n?n.call(i):(i=typeof Km=="function"?Km(i):i[Symbol.iterator](),l={},a("next"),a("throw"),a("return"),l[Symbol.asyncIterator]=function(){return this},l);function a(d){l[d]=i[d]&&function(m){return new Promise(function(g,y){m=i[d](m),u(g,y,m.done,m.value)})}}function u(d,m,g,y){Promise.resolve(y).then(function(h){d({value:h,done:g})},m)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HS(i){var n;if(i.candidates==null||i.candidates.length===0)return!1;const l=(n=i.candidates[0])===null||n===void 0?void 0:n.content;return l===void 0?!1:Ch(l)}function Ch(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const n of i.parts)if(n===void 0||Object.keys(n).length===0)return!1;return!0}function PS(i){if(i.length!==0){for(const n of i)if(n.role!=="user"&&n.role!=="model")throw new Error(`Role must be user or model, but got ${n.role}.`)}}function Xm(i){if(i===void 0||i.length===0)return[];const n=[],l=i.length;let a=0;for(;a<l;)if(i[a].role==="user")n.push(i[a]),a++;else{const u=[];let d=!0;for(;a<l&&i[a].role==="model";)u.push(i[a]),d&&!Ch(i[a])&&(d=!1),a++;d?n.push(...u):n.pop()}return n}class VS{constructor(n,l){this.modelsModule=n,this.apiClient=l}create(n){return new zS(this.apiClient,this.modelsModule,n.model,n.config,structuredClone(n.history))}}class zS{constructor(n,l,a,u={},d=[]){this.apiClient=n,this.modelsModule=l,this.model=a,this.config=u,this.history=d,this.sendPromise=Promise.resolve(),PS(d)}async sendMessage(n){var l;await this.sendPromise;const a=At(n.message),u=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=n.config)!==null&&l!==void 0?l:this.config});return this.sendPromise=(async()=>{var d,m,g;const y=await u,h=(m=(d=y.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content,v=y.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let C=[];v!=null&&(C=(g=v.slice(S))!==null&&g!==void 0?g:[]);const M=h?[h]:[];this.recordHistory(a,M,C)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),u}async sendMessageStream(n){var l;await this.sendPromise;const a=At(n.message),u=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=n.config)!==null&&l!==void 0?l:this.config});this.sendPromise=u.then(()=>{}).catch(()=>{});const d=await u;return this.processStreamResponse(d,a)}getHistory(n=!1){const l=n?Xm(this.history):this.history;return structuredClone(l)}processStreamResponse(n,l){var a,u;return fo(this,arguments,function*(){var m,g,y,h;const v=[];try{for(var S=!0,C=ml(n),M;M=yield je(C.next()),m=M.done,!m;S=!0){h=M.value,S=!1;const H=h;if(HS(H)){const b=(u=(a=H.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content;b!==void 0&&v.push(b)}yield yield je(H)}}catch(H){g={error:H}}finally{try{!S&&!m&&(y=C.return)&&(yield je(y.call(C)))}finally{if(g)throw g.error}}this.recordHistory(l,v)})}recordHistory(n,l,a){let u=[];l.length>0&&l.every(d=>d.role!==void 0)?u=l:u.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...Xm(a)):this.history.push(n),this.history.push(...u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ba extends Error{constructor(n){super(n.message),this.name="ApiError",this.status=n.status,Object.setPrototypeOf(this,Ba.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BS(i){const n={},l=r(i,["file"]);return l!=null&&c(n,["file"],l),n}function kS(i){const n={},l=r(i,["sdkHttpResponse"]);return l!=null&&c(n,["sdkHttpResponse"],l),n}function OS(i){const n={},l=r(i,["name"]);return l!=null&&c(n,["_url","file"],gh(l)),n}function FS(i){const n={},l=r(i,["sdkHttpResponse"]);return l!=null&&c(n,["sdkHttpResponse"],l),n}function YS(i){const n={},l=r(i,["name"]);return l!=null&&c(n,["_url","file"],gh(l)),n}function JS(i,n){const l={},a=r(i,["pageSize"]);n!==void 0&&a!=null&&c(n,["_query","pageSize"],a);const u=r(i,["pageToken"]);return n!==void 0&&u!=null&&c(n,["_query","pageToken"],u),l}function KS(i){const n={},l=r(i,["config"]);return l!=null&&JS(l,n),n}function XS(i){const n={},l=r(i,["sdkHttpResponse"]);l!=null&&c(n,["sdkHttpResponse"],l);const a=r(i,["nextPageToken"]);a!=null&&c(n,["nextPageToken"],a);const u=r(i,["files"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>m)),c(n,["files"],d)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QS extends wn{constructor(n){super(),this.apiClient=n,this.list=async(l={})=>new Ci(In.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(l),l)}async upload(n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(n.file,n.config).then(l=>l)}async download(n){await this.apiClient.downloadFile(n)}async listInternal(n){var l,a;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=KS(n);return d=oe("files",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const h=XS(y),v=new aT;return Object.assign(v,h),v})}}async createInternal(n){var l,a;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=BS(n);return d=oe("upload/v1beta/files",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>{const h=kS(y),v=new sT;return Object.assign(v,h),v})}}async get(n){var l,a;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=YS(n);return d=oe("files/{file}",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async delete(n){var l,a;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=OS(n);return d=oe("files/{file}",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const h=FS(y),v=new rT;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ga(i){const n={},l=r(i,["data"]);if(l!=null&&c(n,["data"],l),r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=r(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function ZS(i){const n={},l=r(i,["parts"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>f0(d))),c(n,["parts"],u)}const a=r(i,["role"]);return a!=null&&c(n,["role"],a),n}function $S(i){const n={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=r(i,["fileUri"]);l!=null&&c(n,["fileUri"],l);const a=r(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function WS(i){const n={};if(r(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=r(i,["description"]);l!=null&&c(n,["description"],l);const a=r(i,["name"]);a!=null&&c(n,["name"],a);const u=r(i,["parameters"]);u!=null&&c(n,["parameters"],u);const d=r(i,["parametersJsonSchema"]);d!=null&&c(n,["parametersJsonSchema"],d);const m=r(i,["response"]);m!=null&&c(n,["response"],m);const g=r(i,["responseJsonSchema"]);return g!=null&&c(n,["responseJsonSchema"],g),n}function jS(i){const n={},l=r(i,["modelSelectionConfig"]);l!=null&&c(n,["modelConfig"],l);const a=r(i,["responseJsonSchema"]);a!=null&&c(n,["responseJsonSchema"],a);const u=r(i,["audioTimestamp"]);u!=null&&c(n,["audioTimestamp"],u);const d=r(i,["candidateCount"]);d!=null&&c(n,["candidateCount"],d);const m=r(i,["enableAffectiveDialog"]);m!=null&&c(n,["enableAffectiveDialog"],m);const g=r(i,["frequencyPenalty"]);g!=null&&c(n,["frequencyPenalty"],g);const y=r(i,["logprobs"]);y!=null&&c(n,["logprobs"],y);const h=r(i,["maxOutputTokens"]);h!=null&&c(n,["maxOutputTokens"],h);const v=r(i,["mediaResolution"]);v!=null&&c(n,["mediaResolution"],v);const S=r(i,["presencePenalty"]);S!=null&&c(n,["presencePenalty"],S);const C=r(i,["responseLogprobs"]);C!=null&&c(n,["responseLogprobs"],C);const M=r(i,["responseMimeType"]);M!=null&&c(n,["responseMimeType"],M);const H=r(i,["responseModalities"]);H!=null&&c(n,["responseModalities"],H);const b=r(i,["responseSchema"]);b!=null&&c(n,["responseSchema"],b);const J=r(i,["routingConfig"]);J!=null&&c(n,["routingConfig"],J);const te=r(i,["seed"]);te!=null&&c(n,["seed"],te);const le=r(i,["speechConfig"]);le!=null&&c(n,["speechConfig"],Ah(le));const Q=r(i,["stopSequences"]);Q!=null&&c(n,["stopSequences"],Q);const Z=r(i,["temperature"]);Z!=null&&c(n,["temperature"],Z);const ee=r(i,["thinkingConfig"]);ee!=null&&c(n,["thinkingConfig"],ee);const ne=r(i,["topK"]);ne!=null&&c(n,["topK"],ne);const j=r(i,["topP"]);if(j!=null&&c(n,["topP"],j),r(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function e0(i){const n={};if(r(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=r(i,["enableWidget"]);return l!=null&&c(n,["enableWidget"],l),n}function t0(i){const n={};if(r(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=r(i,["timeRangeFilter"]);return l!=null&&c(n,["timeRangeFilter"],l),n}function n0(i,n){const l={},a=r(i,["generationConfig"]);n!==void 0&&a!=null&&c(n,["setup","generationConfig"],a);const u=r(i,["responseModalities"]);n!==void 0&&u!=null&&c(n,["setup","generationConfig","responseModalities"],u);const d=r(i,["temperature"]);n!==void 0&&d!=null&&c(n,["setup","generationConfig","temperature"],d);const m=r(i,["topP"]);n!==void 0&&m!=null&&c(n,["setup","generationConfig","topP"],m);const g=r(i,["topK"]);n!==void 0&&g!=null&&c(n,["setup","generationConfig","topK"],g);const y=r(i,["maxOutputTokens"]);n!==void 0&&y!=null&&c(n,["setup","generationConfig","maxOutputTokens"],y);const h=r(i,["mediaResolution"]);n!==void 0&&h!=null&&c(n,["setup","generationConfig","mediaResolution"],h);const v=r(i,["seed"]);n!==void 0&&v!=null&&c(n,["setup","generationConfig","seed"],v);const S=r(i,["speechConfig"]);n!==void 0&&S!=null&&c(n,["setup","generationConfig","speechConfig"],Du(S));const C=r(i,["thinkingConfig"]);n!==void 0&&C!=null&&c(n,["setup","generationConfig","thinkingConfig"],C);const M=r(i,["enableAffectiveDialog"]);n!==void 0&&M!=null&&c(n,["setup","generationConfig","enableAffectiveDialog"],M);const H=r(i,["systemInstruction"]);n!==void 0&&H!=null&&c(n,["setup","systemInstruction"],ZS(At(H)));const b=r(i,["tools"]);if(n!==void 0&&b!=null){let ne=ho(b);Array.isArray(ne)&&(ne=ne.map(j=>p0(mo(j)))),c(n,["setup","tools"],ne)}const J=r(i,["sessionResumption"]);n!==void 0&&J!=null&&c(n,["setup","sessionResumption"],d0(J));const te=r(i,["inputAudioTranscription"]);n!==void 0&&te!=null&&c(n,["setup","inputAudioTranscription"],te);const le=r(i,["outputAudioTranscription"]);n!==void 0&&le!=null&&c(n,["setup","outputAudioTranscription"],le);const Q=r(i,["realtimeInputConfig"]);n!==void 0&&Q!=null&&c(n,["setup","realtimeInputConfig"],Q);const Z=r(i,["contextWindowCompression"]);n!==void 0&&Z!=null&&c(n,["setup","contextWindowCompression"],Z);const ee=r(i,["proactivity"]);return n!==void 0&&ee!=null&&c(n,["setup","proactivity"],ee),l}function i0(i,n){const l={},a=r(i,["generationConfig"]);n!==void 0&&a!=null&&c(n,["setup","generationConfig"],jS(a));const u=r(i,["responseModalities"]);n!==void 0&&u!=null&&c(n,["setup","generationConfig","responseModalities"],u);const d=r(i,["temperature"]);n!==void 0&&d!=null&&c(n,["setup","generationConfig","temperature"],d);const m=r(i,["topP"]);n!==void 0&&m!=null&&c(n,["setup","generationConfig","topP"],m);const g=r(i,["topK"]);n!==void 0&&g!=null&&c(n,["setup","generationConfig","topK"],g);const y=r(i,["maxOutputTokens"]);n!==void 0&&y!=null&&c(n,["setup","generationConfig","maxOutputTokens"],y);const h=r(i,["mediaResolution"]);n!==void 0&&h!=null&&c(n,["setup","generationConfig","mediaResolution"],h);const v=r(i,["seed"]);n!==void 0&&v!=null&&c(n,["setup","generationConfig","seed"],v);const S=r(i,["speechConfig"]);n!==void 0&&S!=null&&c(n,["setup","generationConfig","speechConfig"],Ah(Du(S)));const C=r(i,["thinkingConfig"]);n!==void 0&&C!=null&&c(n,["setup","generationConfig","thinkingConfig"],C);const M=r(i,["enableAffectiveDialog"]);n!==void 0&&M!=null&&c(n,["setup","generationConfig","enableAffectiveDialog"],M);const H=r(i,["systemInstruction"]);n!==void 0&&H!=null&&c(n,["setup","systemInstruction"],At(H));const b=r(i,["tools"]);if(n!==void 0&&b!=null){let ne=ho(b);Array.isArray(ne)&&(ne=ne.map(j=>m0(mo(j)))),c(n,["setup","tools"],ne)}const J=r(i,["sessionResumption"]);n!==void 0&&J!=null&&c(n,["setup","sessionResumption"],J);const te=r(i,["inputAudioTranscription"]);n!==void 0&&te!=null&&c(n,["setup","inputAudioTranscription"],te);const le=r(i,["outputAudioTranscription"]);n!==void 0&&le!=null&&c(n,["setup","outputAudioTranscription"],le);const Q=r(i,["realtimeInputConfig"]);n!==void 0&&Q!=null&&c(n,["setup","realtimeInputConfig"],Q);const Z=r(i,["contextWindowCompression"]);n!==void 0&&Z!=null&&c(n,["setup","contextWindowCompression"],Z);const ee=r(i,["proactivity"]);return n!==void 0&&ee!=null&&c(n,["setup","proactivity"],ee),l}function o0(i,n){const l={},a=r(n,["model"]);a!=null&&c(l,["setup","model"],Ge(i,a));const u=r(n,["config"]);return u!=null&&c(l,["config"],n0(u,l)),l}function l0(i,n){const l={},a=r(n,["model"]);a!=null&&c(l,["setup","model"],Ge(i,a));const u=r(n,["config"]);return u!=null&&c(l,["config"],i0(u,l)),l}function a0(i){const n={},l=r(i,["musicGenerationConfig"]);return l!=null&&c(n,["musicGenerationConfig"],l),n}function s0(i){const n={},l=r(i,["weightedPrompts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>u)),c(n,["weightedPrompts"],a)}return n}function r0(i){const n={},l=r(i,["media"]);if(l!=null){let h=fh(l);Array.isArray(h)&&(h=h.map(v=>Ga(v))),c(n,["mediaChunks"],h)}const a=r(i,["audio"]);a!=null&&c(n,["audio"],Ga(ph(a)));const u=r(i,["audioStreamEnd"]);u!=null&&c(n,["audioStreamEnd"],u);const d=r(i,["video"]);d!=null&&c(n,["video"],Ga(dh(d)));const m=r(i,["text"]);m!=null&&c(n,["text"],m);const g=r(i,["activityStart"]);g!=null&&c(n,["activityStart"],g);const y=r(i,["activityEnd"]);return y!=null&&c(n,["activityEnd"],y),n}function u0(i){const n={},l=r(i,["media"]);if(l!=null){let h=fh(l);Array.isArray(h)&&(h=h.map(v=>v)),c(n,["mediaChunks"],h)}const a=r(i,["audio"]);a!=null&&c(n,["audio"],ph(a));const u=r(i,["audioStreamEnd"]);u!=null&&c(n,["audioStreamEnd"],u);const d=r(i,["video"]);d!=null&&c(n,["video"],dh(d));const m=r(i,["text"]);m!=null&&c(n,["text"],m);const g=r(i,["activityStart"]);g!=null&&c(n,["activityStart"],g);const y=r(i,["activityEnd"]);return y!=null&&c(n,["activityEnd"],y),n}function c0(i){const n={},l=r(i,["setupComplete"]);l!=null&&c(n,["setupComplete"],l);const a=r(i,["serverContent"]);a!=null&&c(n,["serverContent"],a);const u=r(i,["toolCall"]);u!=null&&c(n,["toolCall"],u);const d=r(i,["toolCallCancellation"]);d!=null&&c(n,["toolCallCancellation"],d);const m=r(i,["usageMetadata"]);m!=null&&c(n,["usageMetadata"],h0(m));const g=r(i,["goAway"]);g!=null&&c(n,["goAway"],g);const y=r(i,["sessionResumptionUpdate"]);return y!=null&&c(n,["sessionResumptionUpdate"],y),n}function f0(i){const n={},l=r(i,["functionCall"]);l!=null&&c(n,["functionCall"],l);const a=r(i,["codeExecutionResult"]);a!=null&&c(n,["codeExecutionResult"],a);const u=r(i,["executableCode"]);u!=null&&c(n,["executableCode"],u);const d=r(i,["fileData"]);d!=null&&c(n,["fileData"],$S(d));const m=r(i,["functionResponse"]);m!=null&&c(n,["functionResponse"],m);const g=r(i,["inlineData"]);g!=null&&c(n,["inlineData"],Ga(g));const y=r(i,["text"]);y!=null&&c(n,["text"],y);const h=r(i,["thought"]);h!=null&&c(n,["thought"],h);const v=r(i,["thoughtSignature"]);v!=null&&c(n,["thoughtSignature"],v);const S=r(i,["videoMetadata"]);return S!=null&&c(n,["videoMetadata"],S),n}function d0(i){const n={},l=r(i,["handle"]);if(l!=null&&c(n,["handle"],l),r(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function Ah(i){const n={},l=r(i,["languageCode"]);l!=null&&c(n,["languageCode"],l);const a=r(i,["voiceConfig"]);if(a!=null&&c(n,["voiceConfig"],a),r(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return n}function p0(i){const n={},l=r(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(S=>S)),c(n,["functionDeclarations"],v)}if(r(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=r(i,["googleSearchRetrieval"]);a!=null&&c(n,["googleSearchRetrieval"],a);const u=r(i,["computerUse"]);u!=null&&c(n,["computerUse"],u);const d=r(i,["fileSearch"]);d!=null&&c(n,["fileSearch"],d);const m=r(i,["codeExecution"]);if(m!=null&&c(n,["codeExecution"],m),r(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=r(i,["googleMaps"]);g!=null&&c(n,["googleMaps"],e0(g));const y=r(i,["googleSearch"]);y!=null&&c(n,["googleSearch"],t0(y));const h=r(i,["urlContext"]);return h!=null&&c(n,["urlContext"],h),n}function m0(i){const n={},l=r(i,["functionDeclarations"]);if(l!=null){let S=l;Array.isArray(S)&&(S=S.map(C=>WS(C))),c(n,["functionDeclarations"],S)}const a=r(i,["retrieval"]);a!=null&&c(n,["retrieval"],a);const u=r(i,["googleSearchRetrieval"]);u!=null&&c(n,["googleSearchRetrieval"],u);const d=r(i,["computerUse"]);if(d!=null&&c(n,["computerUse"],d),r(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const m=r(i,["codeExecution"]);m!=null&&c(n,["codeExecution"],m);const g=r(i,["enterpriseWebSearch"]);g!=null&&c(n,["enterpriseWebSearch"],g);const y=r(i,["googleMaps"]);y!=null&&c(n,["googleMaps"],y);const h=r(i,["googleSearch"]);h!=null&&c(n,["googleSearch"],h);const v=r(i,["urlContext"]);return v!=null&&c(n,["urlContext"],v),n}function h0(i){const n={},l=r(i,["promptTokenCount"]);l!=null&&c(n,["promptTokenCount"],l);const a=r(i,["cachedContentTokenCount"]);a!=null&&c(n,["cachedContentTokenCount"],a);const u=r(i,["candidatesTokenCount"]);u!=null&&c(n,["responseTokenCount"],u);const d=r(i,["toolUsePromptTokenCount"]);d!=null&&c(n,["toolUsePromptTokenCount"],d);const m=r(i,["thoughtsTokenCount"]);m!=null&&c(n,["thoughtsTokenCount"],m);const g=r(i,["totalTokenCount"]);g!=null&&c(n,["totalTokenCount"],g);const y=r(i,["promptTokensDetails"]);if(y!=null){let M=y;Array.isArray(M)&&(M=M.map(H=>H)),c(n,["promptTokensDetails"],M)}const h=r(i,["cacheTokensDetails"]);if(h!=null){let M=h;Array.isArray(M)&&(M=M.map(H=>H)),c(n,["cacheTokensDetails"],M)}const v=r(i,["candidatesTokensDetails"]);if(v!=null){let M=v;Array.isArray(M)&&(M=M.map(H=>H)),c(n,["responseTokensDetails"],M)}const S=r(i,["toolUsePromptTokensDetails"]);if(S!=null){let M=S;Array.isArray(M)&&(M=M.map(H=>H)),c(n,["toolUsePromptTokensDetails"],M)}const C=r(i,["trafficType"]);return C!=null&&c(n,["trafficType"],C),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function g0(i){const n={},l=r(i,["data"]);if(l!=null&&c(n,["data"],l),r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=r(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function y0(i){const n={},l=r(i,["content"]);l!=null&&c(n,["content"],l);const a=r(i,["citationMetadata"]);a!=null&&c(n,["citationMetadata"],v0(a));const u=r(i,["tokenCount"]);u!=null&&c(n,["tokenCount"],u);const d=r(i,["finishReason"]);d!=null&&c(n,["finishReason"],d);const m=r(i,["avgLogprobs"]);m!=null&&c(n,["avgLogprobs"],m);const g=r(i,["groundingMetadata"]);g!=null&&c(n,["groundingMetadata"],g);const y=r(i,["index"]);y!=null&&c(n,["index"],y);const h=r(i,["logprobsResult"]);h!=null&&c(n,["logprobsResult"],h);const v=r(i,["safetyRatings"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(M=>M)),c(n,["safetyRatings"],C)}const S=r(i,["urlContextMetadata"]);return S!=null&&c(n,["urlContextMetadata"],S),n}function v0(i){const n={},l=r(i,["citationSources"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>u)),c(n,["citations"],a)}return n}function T0(i,n){const l={},a=r(n,["model"]);a!=null&&c(l,["_url","model"],Ge(i,a));const u=r(n,["contents"]);if(u!=null){let d=jt(u);Array.isArray(d)&&(d=d.map(m=>m)),c(l,["contents"],d)}return l}function S0(i){const n={},l=r(i,["sdkHttpResponse"]);l!=null&&c(n,["sdkHttpResponse"],l);const a=r(i,["tokensInfo"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),c(n,["tokensInfo"],u)}return n}function E0(i){const n={},l=r(i,["values"]);l!=null&&c(n,["values"],l);const a=r(i,["statistics"]);return a!=null&&c(n,["statistics"],_0(a)),n}function _0(i){const n={},l=r(i,["truncated"]);l!=null&&c(n,["truncated"],l);const a=r(i,["token_count"]);return a!=null&&c(n,["tokenCount"],a),n}function ka(i){const n={},l=r(i,["parts"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>RE(d))),c(n,["parts"],u)}const a=r(i,["role"]);return a!=null&&c(n,["role"],a),n}function C0(i){const n={},l=r(i,["controlType"]);l!=null&&c(n,["controlType"],l);const a=r(i,["enableControlImageComputation"]);return a!=null&&c(n,["computeControl"],a),n}function A0(i){const n={};if(r(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(r(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(r(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function x0(i,n){const l={},a=r(i,["systemInstruction"]);n!==void 0&&a!=null&&c(n,["systemInstruction"],At(a));const u=r(i,["tools"]);if(n!==void 0&&u!=null){let m=u;Array.isArray(m)&&(m=m.map(g=>Dh(g))),c(n,["tools"],m)}const d=r(i,["generationConfig"]);return n!==void 0&&d!=null&&c(n,["generationConfig"],mE(d)),l}function M0(i,n){const l={},a=r(n,["model"]);a!=null&&c(l,["_url","model"],Ge(i,a));const u=r(n,["contents"]);if(u!=null){let m=jt(u);Array.isArray(m)&&(m=m.map(g=>ka(g))),c(l,["contents"],m)}const d=r(n,["config"]);return d!=null&&A0(d),l}function R0(i,n){const l={},a=r(n,["model"]);a!=null&&c(l,["_url","model"],Ge(i,a));const u=r(n,["contents"]);if(u!=null){let m=jt(u);Array.isArray(m)&&(m=m.map(g=>g)),c(l,["contents"],m)}const d=r(n,["config"]);return d!=null&&x0(d,l),l}function N0(i){const n={},l=r(i,["sdkHttpResponse"]);l!=null&&c(n,["sdkHttpResponse"],l);const a=r(i,["totalTokens"]);a!=null&&c(n,["totalTokens"],a);const u=r(i,["cachedContentTokenCount"]);return u!=null&&c(n,["cachedContentTokenCount"],u),n}function D0(i){const n={},l=r(i,["sdkHttpResponse"]);l!=null&&c(n,["sdkHttpResponse"],l);const a=r(i,["totalTokens"]);return a!=null&&c(n,["totalTokens"],a),n}function I0(i,n){const l={},a=r(n,["model"]);return a!=null&&c(l,["_url","name"],Ge(i,a)),l}function w0(i,n){const l={},a=r(n,["model"]);return a!=null&&c(l,["_url","name"],Ge(i,a)),l}function b0(i){const n={},l=r(i,["sdkHttpResponse"]);return l!=null&&c(n,["sdkHttpResponse"],l),n}function U0(i){const n={},l=r(i,["sdkHttpResponse"]);return l!=null&&c(n,["sdkHttpResponse"],l),n}function L0(i,n){const l={},a=r(i,["outputGcsUri"]);n!==void 0&&a!=null&&c(n,["parameters","storageUri"],a);const u=r(i,["negativePrompt"]);n!==void 0&&u!=null&&c(n,["parameters","negativePrompt"],u);const d=r(i,["numberOfImages"]);n!==void 0&&d!=null&&c(n,["parameters","sampleCount"],d);const m=r(i,["aspectRatio"]);n!==void 0&&m!=null&&c(n,["parameters","aspectRatio"],m);const g=r(i,["guidanceScale"]);n!==void 0&&g!=null&&c(n,["parameters","guidanceScale"],g);const y=r(i,["seed"]);n!==void 0&&y!=null&&c(n,["parameters","seed"],y);const h=r(i,["safetyFilterLevel"]);n!==void 0&&h!=null&&c(n,["parameters","safetySetting"],h);const v=r(i,["personGeneration"]);n!==void 0&&v!=null&&c(n,["parameters","personGeneration"],v);const S=r(i,["includeSafetyAttributes"]);n!==void 0&&S!=null&&c(n,["parameters","includeSafetyAttributes"],S);const C=r(i,["includeRaiReason"]);n!==void 0&&C!=null&&c(n,["parameters","includeRaiReason"],C);const M=r(i,["language"]);n!==void 0&&M!=null&&c(n,["parameters","language"],M);const H=r(i,["outputMimeType"]);n!==void 0&&H!=null&&c(n,["parameters","outputOptions","mimeType"],H);const b=r(i,["outputCompressionQuality"]);n!==void 0&&b!=null&&c(n,["parameters","outputOptions","compressionQuality"],b);const J=r(i,["addWatermark"]);n!==void 0&&J!=null&&c(n,["parameters","addWatermark"],J);const te=r(i,["labels"]);n!==void 0&&te!=null&&c(n,["labels"],te);const le=r(i,["editMode"]);n!==void 0&&le!=null&&c(n,["parameters","editMode"],le);const Q=r(i,["baseSteps"]);return n!==void 0&&Q!=null&&c(n,["parameters","editConfig","baseSteps"],Q),l}function q0(i,n){const l={},a=r(n,["model"]);a!=null&&c(l,["_url","model"],Ge(i,a));const u=r(n,["prompt"]);u!=null&&c(l,["instances[0]","prompt"],u);const d=r(n,["referenceImages"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(y=>UE(y))),c(l,["instances[0]","referenceImages"],g)}const m=r(n,["config"]);return m!=null&&L0(m,l),l}function G0(i){const n={},l=r(i,["sdkHttpResponse"]);l!=null&&c(n,["sdkHttpResponse"],l);const a=r(i,["predictions"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>Oa(d))),c(n,["generatedImages"],u)}return n}function H0(i,n){const l={},a=r(i,["taskType"]);n!==void 0&&a!=null&&c(n,["requests[]","taskType"],a);const u=r(i,["title"]);n!==void 0&&u!=null&&c(n,["requests[]","title"],u);const d=r(i,["outputDimensionality"]);if(n!==void 0&&d!=null&&c(n,["requests[]","outputDimensionality"],d),r(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(r(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function P0(i,n){const l={},a=r(i,["taskType"]);n!==void 0&&a!=null&&c(n,["instances[]","task_type"],a);const u=r(i,["title"]);n!==void 0&&u!=null&&c(n,["instances[]","title"],u);const d=r(i,["outputDimensionality"]);n!==void 0&&d!=null&&c(n,["parameters","outputDimensionality"],d);const m=r(i,["mimeType"]);n!==void 0&&m!=null&&c(n,["instances[]","mimeType"],m);const g=r(i,["autoTruncate"]);return n!==void 0&&g!=null&&c(n,["parameters","autoTruncate"],g),l}function V0(i,n){const l={},a=r(n,["model"]);a!=null&&c(l,["_url","model"],Ge(i,a));const u=r(n,["contents"]);if(u!=null){let g=Mu(i,u);Array.isArray(g)&&(g=g.map(y=>y)),c(l,["requests[]","content"],g)}const d=r(n,["config"]);d!=null&&H0(d,l);const m=r(n,["model"]);return m!==void 0&&c(l,["requests[]","model"],Ge(i,m)),l}function z0(i,n){const l={},a=r(n,["model"]);a!=null&&c(l,["_url","model"],Ge(i,a));const u=r(n,["contents"]);if(u!=null){let m=Mu(i,u);Array.isArray(m)&&(m=m.map(g=>g)),c(l,["instances[]","content"],m)}const d=r(n,["config"]);return d!=null&&P0(d,l),l}function B0(i){const n={},l=r(i,["sdkHttpResponse"]);l!=null&&c(n,["sdkHttpResponse"],l);const a=r(i,["embeddings"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>m)),c(n,["embeddings"],d)}const u=r(i,["metadata"]);return u!=null&&c(n,["metadata"],u),n}function k0(i){const n={},l=r(i,["sdkHttpResponse"]);l!=null&&c(n,["sdkHttpResponse"],l);const a=r(i,["predictions[]","embeddings"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>E0(m))),c(n,["embeddings"],d)}const u=r(i,["metadata"]);return u!=null&&c(n,["metadata"],u),n}function O0(i){const n={},l=r(i,["endpoint"]);l!=null&&c(n,["name"],l);const a=r(i,["deployedModelId"]);return a!=null&&c(n,["deployedModelId"],a),n}function F0(i){const n={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=r(i,["fileUri"]);l!=null&&c(n,["fileUri"],l);const a=r(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function Y0(i){const n={};if(r(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=r(i,["description"]);l!=null&&c(n,["description"],l);const a=r(i,["name"]);a!=null&&c(n,["name"],a);const u=r(i,["parameters"]);u!=null&&c(n,["parameters"],u);const d=r(i,["parametersJsonSchema"]);d!=null&&c(n,["parametersJsonSchema"],d);const m=r(i,["response"]);m!=null&&c(n,["response"],m);const g=r(i,["responseJsonSchema"]);return g!=null&&c(n,["responseJsonSchema"],g),n}function J0(i,n,l){const a={},u=r(n,["systemInstruction"]);l!==void 0&&u!=null&&c(l,["systemInstruction"],ka(At(u)));const d=r(n,["temperature"]);d!=null&&c(a,["temperature"],d);const m=r(n,["topP"]);m!=null&&c(a,["topP"],m);const g=r(n,["topK"]);g!=null&&c(a,["topK"],g);const y=r(n,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=r(n,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const v=r(n,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const S=r(n,["responseLogprobs"]);S!=null&&c(a,["responseLogprobs"],S);const C=r(n,["logprobs"]);C!=null&&c(a,["logprobs"],C);const M=r(n,["presencePenalty"]);M!=null&&c(a,["presencePenalty"],M);const H=r(n,["frequencyPenalty"]);H!=null&&c(a,["frequencyPenalty"],H);const b=r(n,["seed"]);b!=null&&c(a,["seed"],b);const J=r(n,["responseMimeType"]);J!=null&&c(a,["responseMimeType"],J);const te=r(n,["responseSchema"]);te!=null&&c(a,["responseSchema"],Ru(te));const le=r(n,["responseJsonSchema"]);if(le!=null&&c(a,["responseJsonSchema"],le),r(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(r(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const Q=r(n,["safetySettings"]);if(l!==void 0&&Q!=null){let ye=Q;Array.isArray(ye)&&(ye=ye.map(ze=>LE(ze))),c(l,["safetySettings"],ye)}const Z=r(n,["tools"]);if(l!==void 0&&Z!=null){let ye=ho(Z);Array.isArray(ye)&&(ye=ye.map(ze=>zE(mo(ze)))),c(l,["tools"],ye)}const ee=r(n,["toolConfig"]);if(l!==void 0&&ee!=null&&c(l,["toolConfig"],ee),r(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ne=r(n,["cachedContent"]);l!==void 0&&ne!=null&&c(l,["cachedContent"],bn(i,ne));const j=r(n,["responseModalities"]);j!=null&&c(a,["responseModalities"],j);const Ee=r(n,["mediaResolution"]);Ee!=null&&c(a,["mediaResolution"],Ee);const re=r(n,["speechConfig"]);if(re!=null&&c(a,["speechConfig"],Nu(re)),r(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const me=r(n,["thinkingConfig"]);me!=null&&c(a,["thinkingConfig"],me);const Ne=r(n,["imageConfig"]);return Ne!=null&&c(a,["imageConfig"],Ne),a}function K0(i,n,l){const a={},u=r(n,["systemInstruction"]);l!==void 0&&u!=null&&c(l,["systemInstruction"],At(u));const d=r(n,["temperature"]);d!=null&&c(a,["temperature"],d);const m=r(n,["topP"]);m!=null&&c(a,["topP"],m);const g=r(n,["topK"]);g!=null&&c(a,["topK"],g);const y=r(n,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=r(n,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const v=r(n,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const S=r(n,["responseLogprobs"]);S!=null&&c(a,["responseLogprobs"],S);const C=r(n,["logprobs"]);C!=null&&c(a,["logprobs"],C);const M=r(n,["presencePenalty"]);M!=null&&c(a,["presencePenalty"],M);const H=r(n,["frequencyPenalty"]);H!=null&&c(a,["frequencyPenalty"],H);const b=r(n,["seed"]);b!=null&&c(a,["seed"],b);const J=r(n,["responseMimeType"]);J!=null&&c(a,["responseMimeType"],J);const te=r(n,["responseSchema"]);te!=null&&c(a,["responseSchema"],Ru(te));const le=r(n,["responseJsonSchema"]);le!=null&&c(a,["responseJsonSchema"],le);const Q=r(n,["routingConfig"]);Q!=null&&c(a,["routingConfig"],Q);const Z=r(n,["modelSelectionConfig"]);Z!=null&&c(a,["modelConfig"],Z);const ee=r(n,["safetySettings"]);if(l!==void 0&&ee!=null){let G=ee;Array.isArray(G)&&(G=G.map($=>$)),c(l,["safetySettings"],G)}const ne=r(n,["tools"]);if(l!==void 0&&ne!=null){let G=ho(ne);Array.isArray(G)&&(G=G.map($=>Dh(mo($)))),c(l,["tools"],G)}const j=r(n,["toolConfig"]);l!==void 0&&j!=null&&c(l,["toolConfig"],j);const Ee=r(n,["labels"]);l!==void 0&&Ee!=null&&c(l,["labels"],Ee);const re=r(n,["cachedContent"]);l!==void 0&&re!=null&&c(l,["cachedContent"],bn(i,re));const me=r(n,["responseModalities"]);me!=null&&c(a,["responseModalities"],me);const Ne=r(n,["mediaResolution"]);Ne!=null&&c(a,["mediaResolution"],Ne);const ye=r(n,["speechConfig"]);ye!=null&&c(a,["speechConfig"],Nh(Nu(ye)));const ze=r(n,["audioTimestamp"]);ze!=null&&c(a,["audioTimestamp"],ze);const mt=r(n,["thinkingConfig"]);mt!=null&&c(a,["thinkingConfig"],mt);const Xe=r(n,["imageConfig"]);return Xe!=null&&c(a,["imageConfig"],Xe),a}function Qm(i,n){const l={},a=r(n,["model"]);a!=null&&c(l,["_url","model"],Ge(i,a));const u=r(n,["contents"]);if(u!=null){let m=jt(u);Array.isArray(m)&&(m=m.map(g=>ka(g))),c(l,["contents"],m)}const d=r(n,["config"]);return d!=null&&c(l,["generationConfig"],J0(i,d,l)),l}function Zm(i,n){const l={},a=r(n,["model"]);a!=null&&c(l,["_url","model"],Ge(i,a));const u=r(n,["contents"]);if(u!=null){let m=jt(u);Array.isArray(m)&&(m=m.map(g=>g)),c(l,["contents"],m)}const d=r(n,["config"]);return d!=null&&c(l,["generationConfig"],K0(i,d,l)),l}function $m(i){const n={},l=r(i,["sdkHttpResponse"]);l!=null&&c(n,["sdkHttpResponse"],l);const a=r(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>y0(h))),c(n,["candidates"],y)}const u=r(i,["modelVersion"]);u!=null&&c(n,["modelVersion"],u);const d=r(i,["promptFeedback"]);d!=null&&c(n,["promptFeedback"],d);const m=r(i,["responseId"]);m!=null&&c(n,["responseId"],m);const g=r(i,["usageMetadata"]);return g!=null&&c(n,["usageMetadata"],g),n}function Wm(i){const n={},l=r(i,["sdkHttpResponse"]);l!=null&&c(n,["sdkHttpResponse"],l);const a=r(i,["candidates"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(v=>v)),c(n,["candidates"],h)}const u=r(i,["createTime"]);u!=null&&c(n,["createTime"],u);const d=r(i,["modelVersion"]);d!=null&&c(n,["modelVersion"],d);const m=r(i,["promptFeedback"]);m!=null&&c(n,["promptFeedback"],m);const g=r(i,["responseId"]);g!=null&&c(n,["responseId"],g);const y=r(i,["usageMetadata"]);return y!=null&&c(n,["usageMetadata"],y),n}function X0(i,n){const l={};if(r(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(r(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=r(i,["numberOfImages"]);n!==void 0&&a!=null&&c(n,["parameters","sampleCount"],a);const u=r(i,["aspectRatio"]);n!==void 0&&u!=null&&c(n,["parameters","aspectRatio"],u);const d=r(i,["guidanceScale"]);if(n!==void 0&&d!=null&&c(n,["parameters","guidanceScale"],d),r(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=r(i,["safetyFilterLevel"]);n!==void 0&&m!=null&&c(n,["parameters","safetySetting"],m);const g=r(i,["personGeneration"]);n!==void 0&&g!=null&&c(n,["parameters","personGeneration"],g);const y=r(i,["includeSafetyAttributes"]);n!==void 0&&y!=null&&c(n,["parameters","includeSafetyAttributes"],y);const h=r(i,["includeRaiReason"]);n!==void 0&&h!=null&&c(n,["parameters","includeRaiReason"],h);const v=r(i,["language"]);n!==void 0&&v!=null&&c(n,["parameters","language"],v);const S=r(i,["outputMimeType"]);n!==void 0&&S!=null&&c(n,["parameters","outputOptions","mimeType"],S);const C=r(i,["outputCompressionQuality"]);if(n!==void 0&&C!=null&&c(n,["parameters","outputOptions","compressionQuality"],C),r(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(r(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const M=r(i,["imageSize"]);if(n!==void 0&&M!=null&&c(n,["parameters","sampleImageSize"],M),r(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return l}function Q0(i,n){const l={},a=r(i,["outputGcsUri"]);n!==void 0&&a!=null&&c(n,["parameters","storageUri"],a);const u=r(i,["negativePrompt"]);n!==void 0&&u!=null&&c(n,["parameters","negativePrompt"],u);const d=r(i,["numberOfImages"]);n!==void 0&&d!=null&&c(n,["parameters","sampleCount"],d);const m=r(i,["aspectRatio"]);n!==void 0&&m!=null&&c(n,["parameters","aspectRatio"],m);const g=r(i,["guidanceScale"]);n!==void 0&&g!=null&&c(n,["parameters","guidanceScale"],g);const y=r(i,["seed"]);n!==void 0&&y!=null&&c(n,["parameters","seed"],y);const h=r(i,["safetyFilterLevel"]);n!==void 0&&h!=null&&c(n,["parameters","safetySetting"],h);const v=r(i,["personGeneration"]);n!==void 0&&v!=null&&c(n,["parameters","personGeneration"],v);const S=r(i,["includeSafetyAttributes"]);n!==void 0&&S!=null&&c(n,["parameters","includeSafetyAttributes"],S);const C=r(i,["includeRaiReason"]);n!==void 0&&C!=null&&c(n,["parameters","includeRaiReason"],C);const M=r(i,["language"]);n!==void 0&&M!=null&&c(n,["parameters","language"],M);const H=r(i,["outputMimeType"]);n!==void 0&&H!=null&&c(n,["parameters","outputOptions","mimeType"],H);const b=r(i,["outputCompressionQuality"]);n!==void 0&&b!=null&&c(n,["parameters","outputOptions","compressionQuality"],b);const J=r(i,["addWatermark"]);n!==void 0&&J!=null&&c(n,["parameters","addWatermark"],J);const te=r(i,["labels"]);n!==void 0&&te!=null&&c(n,["labels"],te);const le=r(i,["imageSize"]);n!==void 0&&le!=null&&c(n,["parameters","sampleImageSize"],le);const Q=r(i,["enhancePrompt"]);return n!==void 0&&Q!=null&&c(n,["parameters","enhancePrompt"],Q),l}function Z0(i,n){const l={},a=r(n,["model"]);a!=null&&c(l,["_url","model"],Ge(i,a));const u=r(n,["prompt"]);u!=null&&c(l,["instances[0]","prompt"],u);const d=r(n,["config"]);return d!=null&&X0(d,l),l}function $0(i,n){const l={},a=r(n,["model"]);a!=null&&c(l,["_url","model"],Ge(i,a));const u=r(n,["prompt"]);u!=null&&c(l,["instances[0]","prompt"],u);const d=r(n,["config"]);return d!=null&&Q0(d,l),l}function W0(i){const n={},l=r(i,["sdkHttpResponse"]);l!=null&&c(n,["sdkHttpResponse"],l);const a=r(i,["predictions"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>cE(m))),c(n,["generatedImages"],d)}const u=r(i,["positivePromptSafetyAttributes"]);return u!=null&&c(n,["positivePromptSafetyAttributes"],Mh(u)),n}function j0(i){const n={},l=r(i,["sdkHttpResponse"]);l!=null&&c(n,["sdkHttpResponse"],l);const a=r(i,["predictions"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>Oa(m))),c(n,["generatedImages"],d)}const u=r(i,["positivePromptSafetyAttributes"]);return u!=null&&c(n,["positivePromptSafetyAttributes"],Rh(u)),n}function eE(i,n){const l={},a=r(i,["numberOfVideos"]);if(n!==void 0&&a!=null&&c(n,["parameters","sampleCount"],a),r(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(r(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const u=r(i,["durationSeconds"]);if(n!==void 0&&u!=null&&c(n,["parameters","durationSeconds"],u),r(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=r(i,["aspectRatio"]);n!==void 0&&d!=null&&c(n,["parameters","aspectRatio"],d);const m=r(i,["resolution"]);n!==void 0&&m!=null&&c(n,["parameters","resolution"],m);const g=r(i,["personGeneration"]);if(n!==void 0&&g!=null&&c(n,["parameters","personGeneration"],g),r(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=r(i,["negativePrompt"]);n!==void 0&&y!=null&&c(n,["parameters","negativePrompt"],y);const h=r(i,["enhancePrompt"]);if(n!==void 0&&h!=null&&c(n,["parameters","enhancePrompt"],h),r(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=r(i,["lastFrame"]);n!==void 0&&v!=null&&c(n,["instances[0]","lastFrame"],Fa(v));const S=r(i,["referenceImages"]);if(n!==void 0&&S!=null){let C=S;Array.isArray(C)&&(C=C.map(M=>jE(M))),c(n,["instances[0]","referenceImages"],C)}if(r(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(r(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return l}function tE(i,n){const l={},a=r(i,["numberOfVideos"]);n!==void 0&&a!=null&&c(n,["parameters","sampleCount"],a);const u=r(i,["outputGcsUri"]);n!==void 0&&u!=null&&c(n,["parameters","storageUri"],u);const d=r(i,["fps"]);n!==void 0&&d!=null&&c(n,["parameters","fps"],d);const m=r(i,["durationSeconds"]);n!==void 0&&m!=null&&c(n,["parameters","durationSeconds"],m);const g=r(i,["seed"]);n!==void 0&&g!=null&&c(n,["parameters","seed"],g);const y=r(i,["aspectRatio"]);n!==void 0&&y!=null&&c(n,["parameters","aspectRatio"],y);const h=r(i,["resolution"]);n!==void 0&&h!=null&&c(n,["parameters","resolution"],h);const v=r(i,["personGeneration"]);n!==void 0&&v!=null&&c(n,["parameters","personGeneration"],v);const S=r(i,["pubsubTopic"]);n!==void 0&&S!=null&&c(n,["parameters","pubsubTopic"],S);const C=r(i,["negativePrompt"]);n!==void 0&&C!=null&&c(n,["parameters","negativePrompt"],C);const M=r(i,["enhancePrompt"]);n!==void 0&&M!=null&&c(n,["parameters","enhancePrompt"],M);const H=r(i,["generateAudio"]);n!==void 0&&H!=null&&c(n,["parameters","generateAudio"],H);const b=r(i,["lastFrame"]);n!==void 0&&b!=null&&c(n,["instances[0]","lastFrame"],ln(b));const J=r(i,["referenceImages"]);if(n!==void 0&&J!=null){let Q=J;Array.isArray(Q)&&(Q=Q.map(Z=>e_(Z))),c(n,["instances[0]","referenceImages"],Q)}const te=r(i,["mask"]);n!==void 0&&te!=null&&c(n,["instances[0]","mask"],WE(te));const le=r(i,["compressionQuality"]);return n!==void 0&&le!=null&&c(n,["parameters","compressionQuality"],le),l}function nE(i){const n={},l=r(i,["name"]);l!=null&&c(n,["name"],l);const a=r(i,["metadata"]);a!=null&&c(n,["metadata"],a);const u=r(i,["done"]);u!=null&&c(n,["done"],u);const d=r(i,["error"]);d!=null&&c(n,["error"],d);const m=r(i,["response","generateVideoResponse"]);return m!=null&&c(n,["response"],aE(m)),n}function iE(i){const n={},l=r(i,["name"]);l!=null&&c(n,["name"],l);const a=r(i,["metadata"]);a!=null&&c(n,["metadata"],a);const u=r(i,["done"]);u!=null&&c(n,["done"],u);const d=r(i,["error"]);d!=null&&c(n,["error"],d);const m=r(i,["response"]);return m!=null&&c(n,["response"],sE(m)),n}function oE(i,n){const l={},a=r(n,["model"]);a!=null&&c(l,["_url","model"],Ge(i,a));const u=r(n,["prompt"]);u!=null&&c(l,["instances[0]","prompt"],u);const d=r(n,["image"]);d!=null&&c(l,["instances[0]","image"],Fa(d));const m=r(n,["video"]);m!=null&&c(l,["instances[0]","video"],Ih(m));const g=r(n,["source"]);g!=null&&rE(g,l);const y=r(n,["config"]);return y!=null&&eE(y,l),l}function lE(i,n){const l={},a=r(n,["model"]);a!=null&&c(l,["_url","model"],Ge(i,a));const u=r(n,["prompt"]);u!=null&&c(l,["instances[0]","prompt"],u);const d=r(n,["image"]);d!=null&&c(l,["instances[0]","image"],ln(d));const m=r(n,["video"]);m!=null&&c(l,["instances[0]","video"],wh(m));const g=r(n,["source"]);g!=null&&uE(g,l);const y=r(n,["config"]);return y!=null&&tE(y,l),l}function aE(i){const n={},l=r(i,["generatedSamples"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>dE(m))),c(n,["generatedVideos"],d)}const a=r(i,["raiMediaFilteredCount"]);a!=null&&c(n,["raiMediaFilteredCount"],a);const u=r(i,["raiMediaFilteredReasons"]);return u!=null&&c(n,["raiMediaFilteredReasons"],u),n}function sE(i){const n={},l=r(i,["videos"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>pE(m))),c(n,["generatedVideos"],d)}const a=r(i,["raiMediaFilteredCount"]);a!=null&&c(n,["raiMediaFilteredCount"],a);const u=r(i,["raiMediaFilteredReasons"]);return u!=null&&c(n,["raiMediaFilteredReasons"],u),n}function rE(i,n){const l={},a=r(i,["prompt"]);n!==void 0&&a!=null&&c(n,["instances[0]","prompt"],a);const u=r(i,["image"]);n!==void 0&&u!=null&&c(n,["instances[0]","image"],Fa(u));const d=r(i,["video"]);return n!==void 0&&d!=null&&c(n,["instances[0]","video"],Ih(d)),l}function uE(i,n){const l={},a=r(i,["prompt"]);n!==void 0&&a!=null&&c(n,["instances[0]","prompt"],a);const u=r(i,["image"]);n!==void 0&&u!=null&&c(n,["instances[0]","image"],ln(u));const d=r(i,["video"]);return n!==void 0&&d!=null&&c(n,["instances[0]","video"],wh(d)),l}function cE(i){const n={},l=r(i,["_self"]);l!=null&&c(n,["image"],TE(l));const a=r(i,["raiFilteredReason"]);a!=null&&c(n,["raiFilteredReason"],a);const u=r(i,["_self"]);return u!=null&&c(n,["safetyAttributes"],Mh(u)),n}function Oa(i){const n={},l=r(i,["_self"]);l!=null&&c(n,["image"],xh(l));const a=r(i,["raiFilteredReason"]);a!=null&&c(n,["raiFilteredReason"],a);const u=r(i,["_self"]);u!=null&&c(n,["safetyAttributes"],Rh(u));const d=r(i,["prompt"]);return d!=null&&c(n,["enhancedPrompt"],d),n}function fE(i){const n={},l=r(i,["_self"]);l!=null&&c(n,["mask"],xh(l));const a=r(i,["labels"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),c(n,["labels"],u)}return n}function dE(i){const n={},l=r(i,["video"]);return l!=null&&c(n,["video"],ZE(l)),n}function pE(i){const n={},l=r(i,["_self"]);return l!=null&&c(n,["video"],$E(l)),n}function mE(i){const n={},l=r(i,["modelSelectionConfig"]);l!=null&&c(n,["modelConfig"],l);const a=r(i,["responseJsonSchema"]);a!=null&&c(n,["responseJsonSchema"],a);const u=r(i,["audioTimestamp"]);u!=null&&c(n,["audioTimestamp"],u);const d=r(i,["candidateCount"]);d!=null&&c(n,["candidateCount"],d);const m=r(i,["enableAffectiveDialog"]);m!=null&&c(n,["enableAffectiveDialog"],m);const g=r(i,["frequencyPenalty"]);g!=null&&c(n,["frequencyPenalty"],g);const y=r(i,["logprobs"]);y!=null&&c(n,["logprobs"],y);const h=r(i,["maxOutputTokens"]);h!=null&&c(n,["maxOutputTokens"],h);const v=r(i,["mediaResolution"]);v!=null&&c(n,["mediaResolution"],v);const S=r(i,["presencePenalty"]);S!=null&&c(n,["presencePenalty"],S);const C=r(i,["responseLogprobs"]);C!=null&&c(n,["responseLogprobs"],C);const M=r(i,["responseMimeType"]);M!=null&&c(n,["responseMimeType"],M);const H=r(i,["responseModalities"]);H!=null&&c(n,["responseModalities"],H);const b=r(i,["responseSchema"]);b!=null&&c(n,["responseSchema"],b);const J=r(i,["routingConfig"]);J!=null&&c(n,["routingConfig"],J);const te=r(i,["seed"]);te!=null&&c(n,["seed"],te);const le=r(i,["speechConfig"]);le!=null&&c(n,["speechConfig"],Nh(le));const Q=r(i,["stopSequences"]);Q!=null&&c(n,["stopSequences"],Q);const Z=r(i,["temperature"]);Z!=null&&c(n,["temperature"],Z);const ee=r(i,["thinkingConfig"]);ee!=null&&c(n,["thinkingConfig"],ee);const ne=r(i,["topK"]);ne!=null&&c(n,["topK"],ne);const j=r(i,["topP"]);if(j!=null&&c(n,["topP"],j),r(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function hE(i,n){const l={},a=r(n,["model"]);return a!=null&&c(l,["_url","name"],Ge(i,a)),l}function gE(i,n){const l={},a=r(n,["model"]);return a!=null&&c(l,["_url","name"],Ge(i,a)),l}function yE(i){const n={};if(r(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=r(i,["enableWidget"]);return l!=null&&c(n,["enableWidget"],l),n}function vE(i){const n={};if(r(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=r(i,["timeRangeFilter"]);return l!=null&&c(n,["timeRangeFilter"],l),n}function TE(i){const n={},l=r(i,["bytesBase64Encoded"]);l!=null&&c(n,["imageBytes"],ii(l));const a=r(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function xh(i){const n={},l=r(i,["gcsUri"]);l!=null&&c(n,["gcsUri"],l);const a=r(i,["bytesBase64Encoded"]);a!=null&&c(n,["imageBytes"],ii(a));const u=r(i,["mimeType"]);return u!=null&&c(n,["mimeType"],u),n}function Fa(i){const n={};if(r(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=r(i,["imageBytes"]);l!=null&&c(n,["bytesBase64Encoded"],ii(l));const a=r(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function ln(i){const n={},l=r(i,["gcsUri"]);l!=null&&c(n,["gcsUri"],l);const a=r(i,["imageBytes"]);a!=null&&c(n,["bytesBase64Encoded"],ii(a));const u=r(i,["mimeType"]);return u!=null&&c(n,["mimeType"],u),n}function SE(i,n,l){const a={},u=r(n,["pageSize"]);l!==void 0&&u!=null&&c(l,["_query","pageSize"],u);const d=r(n,["pageToken"]);l!==void 0&&d!=null&&c(l,["_query","pageToken"],d);const m=r(n,["filter"]);l!==void 0&&m!=null&&c(l,["_query","filter"],m);const g=r(n,["queryBase"]);return l!==void 0&&g!=null&&c(l,["_url","models_url"],yh(i,g)),a}function EE(i,n,l){const a={},u=r(n,["pageSize"]);l!==void 0&&u!=null&&c(l,["_query","pageSize"],u);const d=r(n,["pageToken"]);l!==void 0&&d!=null&&c(l,["_query","pageToken"],d);const m=r(n,["filter"]);l!==void 0&&m!=null&&c(l,["_query","filter"],m);const g=r(n,["queryBase"]);return l!==void 0&&g!=null&&c(l,["_url","models_url"],yh(i,g)),a}function _E(i,n){const l={},a=r(n,["config"]);return a!=null&&SE(i,a,l),l}function CE(i,n){const l={},a=r(n,["config"]);return a!=null&&EE(i,a,l),l}function AE(i){const n={},l=r(i,["sdkHttpResponse"]);l!=null&&c(n,["sdkHttpResponse"],l);const a=r(i,["nextPageToken"]);a!=null&&c(n,["nextPageToken"],a);const u=r(i,["_self"]);if(u!=null){let d=vh(u);Array.isArray(d)&&(d=d.map(m=>vu(m))),c(n,["models"],d)}return n}function xE(i){const n={},l=r(i,["sdkHttpResponse"]);l!=null&&c(n,["sdkHttpResponse"],l);const a=r(i,["nextPageToken"]);a!=null&&c(n,["nextPageToken"],a);const u=r(i,["_self"]);if(u!=null){let d=vh(u);Array.isArray(d)&&(d=d.map(m=>Tu(m))),c(n,["models"],d)}return n}function ME(i){const n={},l=r(i,["maskMode"]);l!=null&&c(n,["maskMode"],l);const a=r(i,["segmentationClasses"]);a!=null&&c(n,["maskClasses"],a);const u=r(i,["maskDilation"]);return u!=null&&c(n,["dilation"],u),n}function vu(i){const n={},l=r(i,["name"]);l!=null&&c(n,["name"],l);const a=r(i,["displayName"]);a!=null&&c(n,["displayName"],a);const u=r(i,["description"]);u!=null&&c(n,["description"],u);const d=r(i,["version"]);d!=null&&c(n,["version"],d);const m=r(i,["_self"]);m!=null&&c(n,["tunedModelInfo"],BE(m));const g=r(i,["inputTokenLimit"]);g!=null&&c(n,["inputTokenLimit"],g);const y=r(i,["outputTokenLimit"]);y!=null&&c(n,["outputTokenLimit"],y);const h=r(i,["supportedGenerationMethods"]);h!=null&&c(n,["supportedActions"],h);const v=r(i,["temperature"]);v!=null&&c(n,["temperature"],v);const S=r(i,["maxTemperature"]);S!=null&&c(n,["maxTemperature"],S);const C=r(i,["topP"]);C!=null&&c(n,["topP"],C);const M=r(i,["topK"]);M!=null&&c(n,["topK"],M);const H=r(i,["thinking"]);return H!=null&&c(n,["thinking"],H),n}function Tu(i){const n={},l=r(i,["name"]);l!=null&&c(n,["name"],l);const a=r(i,["displayName"]);a!=null&&c(n,["displayName"],a);const u=r(i,["description"]);u!=null&&c(n,["description"],u);const d=r(i,["versionId"]);d!=null&&c(n,["version"],d);const m=r(i,["deployedModels"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(C=>O0(C))),c(n,["endpoints"],S)}const g=r(i,["labels"]);g!=null&&c(n,["labels"],g);const y=r(i,["_self"]);y!=null&&c(n,["tunedModelInfo"],kE(y));const h=r(i,["defaultCheckpointId"]);h!=null&&c(n,["defaultCheckpointId"],h);const v=r(i,["checkpoints"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(C=>C)),c(n,["checkpoints"],S)}return n}function RE(i){const n={},l=r(i,["functionCall"]);l!=null&&c(n,["functionCall"],l);const a=r(i,["codeExecutionResult"]);a!=null&&c(n,["codeExecutionResult"],a);const u=r(i,["executableCode"]);u!=null&&c(n,["executableCode"],u);const d=r(i,["fileData"]);d!=null&&c(n,["fileData"],F0(d));const m=r(i,["functionResponse"]);m!=null&&c(n,["functionResponse"],m);const g=r(i,["inlineData"]);g!=null&&c(n,["inlineData"],g0(g));const y=r(i,["text"]);y!=null&&c(n,["text"],y);const h=r(i,["thought"]);h!=null&&c(n,["thought"],h);const v=r(i,["thoughtSignature"]);v!=null&&c(n,["thoughtSignature"],v);const S=r(i,["videoMetadata"]);return S!=null&&c(n,["videoMetadata"],S),n}function NE(i){const n={},l=r(i,["productImage"]);return l!=null&&c(n,["image"],ln(l)),n}function DE(i,n){const l={},a=r(i,["numberOfImages"]);n!==void 0&&a!=null&&c(n,["parameters","sampleCount"],a);const u=r(i,["baseSteps"]);n!==void 0&&u!=null&&c(n,["parameters","baseSteps"],u);const d=r(i,["outputGcsUri"]);n!==void 0&&d!=null&&c(n,["parameters","storageUri"],d);const m=r(i,["seed"]);n!==void 0&&m!=null&&c(n,["parameters","seed"],m);const g=r(i,["safetyFilterLevel"]);n!==void 0&&g!=null&&c(n,["parameters","safetySetting"],g);const y=r(i,["personGeneration"]);n!==void 0&&y!=null&&c(n,["parameters","personGeneration"],y);const h=r(i,["addWatermark"]);n!==void 0&&h!=null&&c(n,["parameters","addWatermark"],h);const v=r(i,["outputMimeType"]);n!==void 0&&v!=null&&c(n,["parameters","outputOptions","mimeType"],v);const S=r(i,["outputCompressionQuality"]);n!==void 0&&S!=null&&c(n,["parameters","outputOptions","compressionQuality"],S);const C=r(i,["enhancePrompt"]);n!==void 0&&C!=null&&c(n,["parameters","enhancePrompt"],C);const M=r(i,["labels"]);return n!==void 0&&M!=null&&c(n,["labels"],M),l}function IE(i,n){const l={},a=r(n,["model"]);a!=null&&c(l,["_url","model"],Ge(i,a));const u=r(n,["source"]);u!=null&&bE(u,l);const d=r(n,["config"]);return d!=null&&DE(d,l),l}function wE(i){const n={},l=r(i,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>Oa(u))),c(n,["generatedImages"],a)}return n}function bE(i,n){const l={},a=r(i,["prompt"]);n!==void 0&&a!=null&&c(n,["instances[0]","prompt"],a);const u=r(i,["personImage"]);n!==void 0&&u!=null&&c(n,["instances[0]","personImage","image"],ln(u));const d=r(i,["productImages"]);if(n!==void 0&&d!=null){let m=d;Array.isArray(m)&&(m=m.map(g=>NE(g))),c(n,["instances[0]","productImages"],m)}return l}function UE(i){const n={},l=r(i,["referenceImage"]);l!=null&&c(n,["referenceImage"],ln(l));const a=r(i,["referenceId"]);a!=null&&c(n,["referenceId"],a);const u=r(i,["referenceType"]);u!=null&&c(n,["referenceType"],u);const d=r(i,["maskImageConfig"]);d!=null&&c(n,["maskImageConfig"],ME(d));const m=r(i,["controlImageConfig"]);m!=null&&c(n,["controlImageConfig"],C0(m));const g=r(i,["styleImageConfig"]);g!=null&&c(n,["styleImageConfig"],g);const y=r(i,["subjectImageConfig"]);return y!=null&&c(n,["subjectImageConfig"],y),n}function Mh(i){const n={},l=r(i,["safetyAttributes","categories"]);l!=null&&c(n,["categories"],l);const a=r(i,["safetyAttributes","scores"]);a!=null&&c(n,["scores"],a);const u=r(i,["contentType"]);return u!=null&&c(n,["contentType"],u),n}function Rh(i){const n={},l=r(i,["safetyAttributes","categories"]);l!=null&&c(n,["categories"],l);const a=r(i,["safetyAttributes","scores"]);a!=null&&c(n,["scores"],a);const u=r(i,["contentType"]);return u!=null&&c(n,["contentType"],u),n}function LE(i){const n={},l=r(i,["category"]);if(l!=null&&c(n,["category"],l),r(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=r(i,["threshold"]);return a!=null&&c(n,["threshold"],a),n}function qE(i){const n={},l=r(i,["image"]);return l!=null&&c(n,["image"],ln(l)),n}function GE(i,n){const l={},a=r(i,["mode"]);n!==void 0&&a!=null&&c(n,["parameters","mode"],a);const u=r(i,["maxPredictions"]);n!==void 0&&u!=null&&c(n,["parameters","maxPredictions"],u);const d=r(i,["confidenceThreshold"]);n!==void 0&&d!=null&&c(n,["parameters","confidenceThreshold"],d);const m=r(i,["maskDilation"]);n!==void 0&&m!=null&&c(n,["parameters","maskDilation"],m);const g=r(i,["binaryColorThreshold"]);n!==void 0&&g!=null&&c(n,["parameters","binaryColorThreshold"],g);const y=r(i,["labels"]);return n!==void 0&&y!=null&&c(n,["labels"],y),l}function HE(i,n){const l={},a=r(n,["model"]);a!=null&&c(l,["_url","model"],Ge(i,a));const u=r(n,["source"]);u!=null&&VE(u,l);const d=r(n,["config"]);return d!=null&&GE(d,l),l}function PE(i){const n={},l=r(i,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>fE(u))),c(n,["generatedMasks"],a)}return n}function VE(i,n){const l={},a=r(i,["prompt"]);n!==void 0&&a!=null&&c(n,["instances[0]","prompt"],a);const u=r(i,["image"]);n!==void 0&&u!=null&&c(n,["instances[0]","image"],ln(u));const d=r(i,["scribbleImage"]);return n!==void 0&&d!=null&&c(n,["instances[0]","scribble"],qE(d)),l}function Nh(i){const n={},l=r(i,["languageCode"]);l!=null&&c(n,["languageCode"],l);const a=r(i,["voiceConfig"]);if(a!=null&&c(n,["voiceConfig"],a),r(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return n}function zE(i){const n={},l=r(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(S=>S)),c(n,["functionDeclarations"],v)}if(r(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=r(i,["googleSearchRetrieval"]);a!=null&&c(n,["googleSearchRetrieval"],a);const u=r(i,["computerUse"]);u!=null&&c(n,["computerUse"],u);const d=r(i,["fileSearch"]);d!=null&&c(n,["fileSearch"],d);const m=r(i,["codeExecution"]);if(m!=null&&c(n,["codeExecution"],m),r(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=r(i,["googleMaps"]);g!=null&&c(n,["googleMaps"],yE(g));const y=r(i,["googleSearch"]);y!=null&&c(n,["googleSearch"],vE(y));const h=r(i,["urlContext"]);return h!=null&&c(n,["urlContext"],h),n}function Dh(i){const n={},l=r(i,["functionDeclarations"]);if(l!=null){let S=l;Array.isArray(S)&&(S=S.map(C=>Y0(C))),c(n,["functionDeclarations"],S)}const a=r(i,["retrieval"]);a!=null&&c(n,["retrieval"],a);const u=r(i,["googleSearchRetrieval"]);u!=null&&c(n,["googleSearchRetrieval"],u);const d=r(i,["computerUse"]);if(d!=null&&c(n,["computerUse"],d),r(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const m=r(i,["codeExecution"]);m!=null&&c(n,["codeExecution"],m);const g=r(i,["enterpriseWebSearch"]);g!=null&&c(n,["enterpriseWebSearch"],g);const y=r(i,["googleMaps"]);y!=null&&c(n,["googleMaps"],y);const h=r(i,["googleSearch"]);h!=null&&c(n,["googleSearch"],h);const v=r(i,["urlContext"]);return v!=null&&c(n,["urlContext"],v),n}function BE(i){const n={},l=r(i,["baseModel"]);l!=null&&c(n,["baseModel"],l);const a=r(i,["createTime"]);a!=null&&c(n,["createTime"],a);const u=r(i,["updateTime"]);return u!=null&&c(n,["updateTime"],u),n}function kE(i){const n={},l=r(i,["labels","google-vertex-llm-tuning-base-model-id"]);l!=null&&c(n,["baseModel"],l);const a=r(i,["createTime"]);a!=null&&c(n,["createTime"],a);const u=r(i,["updateTime"]);return u!=null&&c(n,["updateTime"],u),n}function OE(i,n){const l={},a=r(i,["displayName"]);n!==void 0&&a!=null&&c(n,["displayName"],a);const u=r(i,["description"]);n!==void 0&&u!=null&&c(n,["description"],u);const d=r(i,["defaultCheckpointId"]);return n!==void 0&&d!=null&&c(n,["defaultCheckpointId"],d),l}function FE(i,n){const l={},a=r(i,["displayName"]);n!==void 0&&a!=null&&c(n,["displayName"],a);const u=r(i,["description"]);n!==void 0&&u!=null&&c(n,["description"],u);const d=r(i,["defaultCheckpointId"]);return n!==void 0&&d!=null&&c(n,["defaultCheckpointId"],d),l}function YE(i,n){const l={},a=r(n,["model"]);a!=null&&c(l,["_url","name"],Ge(i,a));const u=r(n,["config"]);return u!=null&&OE(u,l),l}function JE(i,n){const l={},a=r(n,["model"]);a!=null&&c(l,["_url","model"],Ge(i,a));const u=r(n,["config"]);return u!=null&&FE(u,l),l}function KE(i,n){const l={},a=r(i,["outputGcsUri"]);n!==void 0&&a!=null&&c(n,["parameters","storageUri"],a);const u=r(i,["safetyFilterLevel"]);n!==void 0&&u!=null&&c(n,["parameters","safetySetting"],u);const d=r(i,["personGeneration"]);n!==void 0&&d!=null&&c(n,["parameters","personGeneration"],d);const m=r(i,["includeRaiReason"]);n!==void 0&&m!=null&&c(n,["parameters","includeRaiReason"],m);const g=r(i,["outputMimeType"]);n!==void 0&&g!=null&&c(n,["parameters","outputOptions","mimeType"],g);const y=r(i,["outputCompressionQuality"]);n!==void 0&&y!=null&&c(n,["parameters","outputOptions","compressionQuality"],y);const h=r(i,["enhanceInputImage"]);n!==void 0&&h!=null&&c(n,["parameters","upscaleConfig","enhanceInputImage"],h);const v=r(i,["imagePreservationFactor"]);n!==void 0&&v!=null&&c(n,["parameters","upscaleConfig","imagePreservationFactor"],v);const S=r(i,["labels"]);n!==void 0&&S!=null&&c(n,["labels"],S);const C=r(i,["numberOfImages"]);n!==void 0&&C!=null&&c(n,["parameters","sampleCount"],C);const M=r(i,["mode"]);return n!==void 0&&M!=null&&c(n,["parameters","mode"],M),l}function XE(i,n){const l={},a=r(n,["model"]);a!=null&&c(l,["_url","model"],Ge(i,a));const u=r(n,["image"]);u!=null&&c(l,["instances[0]","image"],ln(u));const d=r(n,["upscaleFactor"]);d!=null&&c(l,["parameters","upscaleConfig","upscaleFactor"],d);const m=r(n,["config"]);return m!=null&&KE(m,l),l}function QE(i){const n={},l=r(i,["sdkHttpResponse"]);l!=null&&c(n,["sdkHttpResponse"],l);const a=r(i,["predictions"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>Oa(d))),c(n,["generatedImages"],u)}return n}function ZE(i){const n={},l=r(i,["uri"]);l!=null&&c(n,["uri"],l);const a=r(i,["encodedVideo"]);a!=null&&c(n,["videoBytes"],ii(a));const u=r(i,["encoding"]);return u!=null&&c(n,["mimeType"],u),n}function $E(i){const n={},l=r(i,["gcsUri"]);l!=null&&c(n,["uri"],l);const a=r(i,["bytesBase64Encoded"]);a!=null&&c(n,["videoBytes"],ii(a));const u=r(i,["mimeType"]);return u!=null&&c(n,["mimeType"],u),n}function WE(i){const n={},l=r(i,["image"]);l!=null&&c(n,["_self"],ln(l));const a=r(i,["maskMode"]);return a!=null&&c(n,["maskMode"],a),n}function jE(i){const n={},l=r(i,["image"]);l!=null&&c(n,["image"],Fa(l));const a=r(i,["referenceType"]);return a!=null&&c(n,["referenceType"],a),n}function e_(i){const n={},l=r(i,["image"]);l!=null&&c(n,["image"],ln(l));const a=r(i,["referenceType"]);return a!=null&&c(n,["referenceType"],a),n}function Ih(i){const n={},l=r(i,["uri"]);l!=null&&c(n,["uri"],l);const a=r(i,["videoBytes"]);a!=null&&c(n,["encodedVideo"],ii(a));const u=r(i,["mimeType"]);return u!=null&&c(n,["encoding"],u),n}function wh(i){const n={},l=r(i,["uri"]);l!=null&&c(n,["gcsUri"],l);const a=r(i,["videoBytes"]);a!=null&&c(n,["bytesBase64Encoded"],ii(a));const u=r(i,["mimeType"]);return u!=null&&c(n,["mimeType"],u),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const t_="Content-Type",n_="X-Server-Timeout",i_="User-Agent",Su="x-goog-api-client",o_="1.29.1",l_=`google-genai-sdk/${o_}`,a_="v1beta1",s_="v1beta",jm=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class r_{constructor(n){var l,a;this.clientOptions=Object.assign(Object.assign({},n),{project:n.project,location:n.location,apiKey:n.apiKey,vertexai:n.vertexai});const u={};this.clientOptions.vertexai?(u.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:a_,u.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(u.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:s_,u.baseUrl="https://generativelanguage.googleapis.com/"),u.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=u,n.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(u,n.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var n;return(n=this.clientOptions.vertexai)!==null&&n!==void 0?n:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(n){if(!n||n.baseUrl===void 0||n.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[n.baseUrl.endsWith("/")?n.baseUrl.slice(0,-1):n.baseUrl];return n.apiVersion&&n.apiVersion!==""&&a.push(n.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const n=this.getBaseUrl(),l=new URL(n);return l.protocol=l.protocol=="http:"?"ws":"wss",l.toString()}setBaseUrl(n){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=n;else throw new Error("HTTP options are not correctly set.")}constructUrl(n,l,a){const u=[this.getRequestUrlInternal(l)];return a&&u.push(this.getBaseResourcePath()),n!==""&&u.push(n),new URL(`${u.join("/")}`)}shouldPrependVertexProjectPath(n){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||n.path.startsWith("projects/")||n.httpMethod==="GET"&&n.path.startsWith("publishers/google/models"))}async request(n){let l=this.clientOptions.httpOptions;n.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const a=this.shouldPrependVertexProjectPath(n),u=this.constructUrl(n.path,l,a);if(n.queryParams)for(const[m,g]of Object.entries(n.queryParams))u.searchParams.append(m,String(g));let d={};if(n.httpMethod==="GET"){if(n.body&&n.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else d.body=n.body;return d=await this.includeExtraHttpOptionsToRequestInit(d,l,u.toString(),n.abortSignal),this.unaryApiCall(u,d,n.httpMethod)}patchHttpOptions(n,l){const a=JSON.parse(JSON.stringify(n));for(const[u,d]of Object.entries(l))typeof d=="object"?a[u]=Object.assign(Object.assign({},a[u]),d):d!==void 0&&(a[u]=d);return a}async requestStream(n){let l=this.clientOptions.httpOptions;n.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const a=this.shouldPrependVertexProjectPath(n),u=this.constructUrl(n.path,l,a);(!u.searchParams.has("alt")||u.searchParams.get("alt")!=="sse")&&u.searchParams.set("alt","sse");let d={};return d.body=n.body,d=await this.includeExtraHttpOptionsToRequestInit(d,l,u.toString(),n.abortSignal),this.streamApiCall(u,d,n.httpMethod)}async includeExtraHttpOptionsToRequestInit(n,l,a,u){if(l&&l.timeout||u){const d=new AbortController,m=d.signal;if(l.timeout&&(l==null?void 0:l.timeout)>0){const g=setTimeout(()=>d.abort(),l.timeout);g&&typeof g.unref=="function"&&g.unref()}u&&u.addEventListener("abort",()=>{d.abort()}),n.signal=m}return l&&l.extraBody!==null&&u_(n,l.extraBody),n.headers=await this.getHeadersInternal(l,a),n}async unaryApiCall(n,l,a){return this.apiCall(n.toString(),Object.assign(Object.assign({},l),{method:a})).then(async u=>(await eh(u),new hu(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}async streamApiCall(n,l,a){return this.apiCall(n.toString(),Object.assign(Object.assign({},l),{method:a})).then(async u=>(await eh(u),this.processStreamResponse(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}processStreamResponse(n){var l;return fo(this,arguments,function*(){const u=(l=n==null?void 0:n.body)===null||l===void 0?void 0:l.getReader(),d=new TextDecoder("utf-8");if(!u)throw new Error("Response body is empty");try{let m="";for(;;){const{done:g,value:y}=yield je(u.read());if(g){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=d.decode(y,{stream:!0});try{const S=JSON.parse(h);if("error"in S){const C=JSON.parse(JSON.stringify(S.error)),M=C.status,H=C.code,b=`got status: ${M}. ${JSON.stringify(S)}`;if(H>=400&&H<600)throw new Ba({message:b,status:H})}}catch(S){if(S.name==="ApiError")throw S}m+=h;let v=m.match(jm);for(;v;){const S=v[1];try{const C=new Response(S,{headers:n==null?void 0:n.headers,status:n==null?void 0:n.status,statusText:n==null?void 0:n.statusText});yield yield je(new hu(C)),m=m.slice(v[0].length),v=m.match(jm)}catch(C){throw new Error(`exception parsing stream chunk ${S}. ${C}`)}}}}finally{u.releaseLock()}})}async apiCall(n,l){return fetch(n,l).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const n={},l=l_+" "+this.clientOptions.userAgentExtra;return n[i_]=l,n[Su]=l,n[t_]="application/json",n}async getHeadersInternal(n,l){const a=new Headers;if(n&&n.headers){for(const[u,d]of Object.entries(n.headers))a.append(u,d);n.timeout&&n.timeout>0&&a.append(n_,String(Math.ceil(n.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,l),a}getFileName(n){var l;let a="";return typeof n=="string"&&(a=n.replace(/[/\\]+$/,""),a=(l=a.split(/[/\\]/).pop())!==null&&l!==void 0?l:""),a}async uploadFile(n,l){var a;const u={};l!=null&&(u.mimeType=l.mimeType,u.name=l.name,u.displayName=l.displayName),u.name&&!u.name.startsWith("files/")&&(u.name=`files/${u.name}`);const d=this.clientOptions.uploader,m=await d.stat(n);u.sizeBytes=String(m.size);const g=(a=l==null?void 0:l.mimeType)!==null&&a!==void 0?a:m.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");u.mimeType=g;const y={file:u},h=this.getFileName(n),v=oe("upload/v1beta/files",y._url),S=await this.fetchUploadUrl(v,u.sizeBytes,u.mimeType,h,y,l==null?void 0:l.httpOptions);return d.upload(n,S,this)}async uploadFileToFileSearchStore(n,l,a){var u;const d=this.clientOptions.uploader,m=await d.stat(l),g=String(m.size),y=(u=a==null?void 0:a.mimeType)!==null&&u!==void 0?u:m.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${n}:uploadToFileSearchStore`,v=this.getFileName(l),S={};a!=null&&a.customMetadata&&(S.customMetadata=a.customMetadata),a!=null&&a.chunkingConfig&&(S.chunkingConfig=a.chunkingConfig);const C=await this.fetchUploadUrl(h,g,y,v,S,a==null?void 0:a.httpOptions);return d.uploadToFileSearchStore(l,C,this)}async downloadFile(n){await this.clientOptions.downloader.download(n,this)}async fetchUploadUrl(n,l,a,u,d,m){var g;let y={};m?y=m:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${l}`,"X-Goog-Upload-Header-Content-Type":`${a}`},u?{"X-Goog-Upload-File-Name":u}:{})};const h=await this.request({path:n,body:JSON.stringify(d),httpMethod:"POST",httpOptions:y});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(g=h==null?void 0:h.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function eh(i){var n;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const l=i.status;let a;!((n=i.headers.get("content-type"))===null||n===void 0)&&n.includes("application/json")?a=await i.json():a={error:{message:await i.text(),code:i.status,status:i.statusText}};const u=JSON.stringify(a);throw l>=400&&l<600?new Ba({message:u,status:l}):new Error(u)}}function u_(i,n){if(!n||Object.keys(n).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let l={};if(typeof i.body=="string"&&i.body.length>0)try{const d=JSON.parse(i.body);if(typeof d=="object"&&d!==null&&!Array.isArray(d))l=d;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(d,m){const g=Object.assign({},d);for(const y in m)if(Object.prototype.hasOwnProperty.call(m,y)){const h=m[y],v=g[y];h&&typeof h=="object"&&!Array.isArray(h)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=a(v,h):(v&&h&&typeof v!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof h}. Overwriting.`),g[y]=h)}return g}const u=a(l,n);i.body=JSON.stringify(u)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const c_="mcp_used/unknown";let f_=!1;function bh(i){for(const n of i)if(d_(n)||typeof n=="object"&&"inputSchema"in n)return!0;return f_}function Uh(i){var n;const l=(n=i[Su])!==null&&n!==void 0?n:"";i[Su]=(l+` ${c_}`).trimStart()}function d_(i){return i!==null&&typeof i=="object"&&i instanceof Iu}function p_(i,n=100){return fo(this,arguments,function*(){let a,u=0;for(;u<n;){const d=yield je(i.listTools({cursor:a}));for(const m of d.tools)yield yield je(m),u++;if(!d.nextCursor)break;a=d.nextCursor}})}class Iu{constructor(n=[],l){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=n,this.config=l}static create(n,l){return new Iu(n,l)}async initialize(){var n,l,a,u;if(this.mcpTools.length>0)return;const d={},m=[];for(const v of this.mcpClients)try{for(var g=!0,y=(l=void 0,ml(p_(v))),h;h=await y.next(),n=h.done,!n;g=!0){u=h.value,g=!1;const S=u;m.push(S);const C=S.name;if(d[C])throw new Error(`Duplicate function name ${C} found in MCP tools. Please ensure function names are unique.`);d[C]=v}}catch(S){l={error:S}}finally{try{!g&&!n&&(a=y.return)&&await a.call(y)}finally{if(l)throw l.error}}this.mcpTools=m,this.functionNameToMcpClient=d}async tool(){return await this.initialize(),vT(this.mcpTools,this.config)}async callTool(n){await this.initialize();const l=[];for(const a of n)if(a.name in this.functionNameToMcpClient){const u=this.functionNameToMcpClient[a.name];let d;this.config.timeout&&(d={timeout:this.config.timeout});const m=await u.callTool({name:a.name,arguments:a.args},void 0,d);l.push({functionResponse:{name:a.name,response:m.isError?{error:m}:m}})}return l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function m_(i,n,l){const a=new cT;let u;l.data instanceof Blob?u=JSON.parse(await l.data.text()):u=JSON.parse(l.data),Object.assign(a,u),n(a)}class h_{constructor(n,l,a){this.apiClient=n,this.auth=l,this.webSocketFactory=a}async connect(n){var l,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const u=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),m=v_(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${u}/ws/google.ai.generativelanguage.${d}.GenerativeService.BidiGenerateMusic?key=${g}`;let h=()=>{};const v=new Promise(Q=>{h=Q}),S=n.callbacks,C=function(){h({})},M=this.apiClient,H={onopen:C,onmessage:Q=>{m_(M,S.onmessage,Q)},onerror:(l=S==null?void 0:S.onerror)!==null&&l!==void 0?l:function(Q){},onclose:(a=S==null?void 0:S.onclose)!==null&&a!==void 0?a:function(Q){}},b=this.webSocketFactory.create(y,y_(m),H);b.connect(),await v;const le={setup:{model:Ge(this.apiClient,n.model)}};return b.send(JSON.stringify(le)),new g_(b,this.apiClient)}}class g_{constructor(n,l){this.conn=n,this.apiClient=l}async setWeightedPrompts(n){if(!n.weightedPrompts||Object.keys(n.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const l=s0(n);this.conn.send(JSON.stringify({clientContent:l}))}async setMusicGenerationConfig(n){n.musicGenerationConfig||(n.musicGenerationConfig={});const l=a0(n);this.conn.send(JSON.stringify(l))}sendPlaybackControl(n){const l={playbackControl:n};this.conn.send(JSON.stringify(l))}play(){this.sendPlaybackControl(uo.PLAY)}pause(){this.sendPlaybackControl(uo.PAUSE)}stop(){this.sendPlaybackControl(uo.STOP)}resetContext(){this.sendPlaybackControl(uo.RESET_CONTEXT)}close(){this.conn.close()}}function y_(i){const n={};return i.forEach((l,a)=>{n[a]=l}),n}function v_(i){const n=new Headers;for(const[l,a]of Object.entries(i))n.append(l,a);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const T_="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function S_(i,n,l){const a=new uT;let u;l.data instanceof Blob?u=await l.data.text():l.data instanceof ArrayBuffer?u=new TextDecoder().decode(l.data):u=l.data;const d=JSON.parse(u);if(i.isVertexAI()){const m=c0(d);Object.assign(a,m)}else Object.assign(a,d);n(a)}class E_{constructor(n,l,a){this.apiClient=n,this.auth=l,this.webSocketFactory=a,this.music=new h_(this.apiClient,this.auth,this.webSocketFactory)}async connect(n){var l,a,u,d,m,g;if(n.config&&n.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let v;const S=this.apiClient.getHeaders();n.config&&n.config.tools&&bh(n.config.tools)&&Uh(S);const C=x_(S);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(C,v);else{const re=this.apiClient.getApiKey();let me="BidiGenerateContent",Ne="key";re!=null&&re.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),me="BidiGenerateContentConstrained",Ne="access_token"),v=`${y}/ws/google.ai.generativelanguage.${h}.GenerativeService.${me}?${Ne}=${re}`}let M=()=>{};const H=new Promise(re=>{M=re}),b=n.callbacks,J=function(){var re;(re=b==null?void 0:b.onopen)===null||re===void 0||re.call(b),M({})},te=this.apiClient,le={onopen:J,onmessage:re=>{S_(te,b.onmessage,re)},onerror:(l=b==null?void 0:b.onerror)!==null&&l!==void 0?l:function(re){},onclose:(a=b==null?void 0:b.onclose)!==null&&a!==void 0?a:function(re){}},Q=this.webSocketFactory.create(v,A_(C),le);Q.connect(),await H;let Z=Ge(this.apiClient,n.model);if(this.apiClient.isVertexAI()&&Z.startsWith("publishers/")){const re=this.apiClient.getProject(),me=this.apiClient.getLocation();Z=`projects/${re}/locations/${me}/`+Z}let ee={};this.apiClient.isVertexAI()&&((u=n.config)===null||u===void 0?void 0:u.responseModalities)===void 0&&(n.config===void 0?n.config={responseModalities:[Ha.AUDIO]}:n.config.responseModalities=[Ha.AUDIO]),!((d=n.config)===null||d===void 0)&&d.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ne=(g=(m=n.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[],j=[];for(const re of ne)if(this.isCallableTool(re)){const me=re;j.push(await me.tool())}else j.push(re);j.length>0&&(n.config.tools=j);const Ee={model:Z,config:n.config,callbacks:n.callbacks};return this.apiClient.isVertexAI()?ee=l0(this.apiClient,Ee):ee=o0(this.apiClient,Ee),delete ee.config,Q.send(JSON.stringify(ee)),new C_(Q,this.apiClient)}isCallableTool(n){return"callTool"in n&&typeof n.callTool=="function"}}const __={turnComplete:!0};class C_{constructor(n,l){this.conn=n,this.apiClient=l}tLiveClientContent(n,l){if(l.turns!==null&&l.turns!==void 0){let a=[];try{a=jt(l.turns),n.isVertexAI()||(a=a.map(u=>ka(u)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof l.turns}'`)}return{clientContent:{turns:a,turnComplete:l.turnComplete}}}return{clientContent:{turnComplete:l.turnComplete}}}tLiveClienttToolResponse(n,l){let a=[];if(l.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(l.functionResponses)?a=l.functionResponses:a=[l.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const d of a){if(typeof d!="object"||d===null||!("name"in d)||!("response"in d))throw new Error(`Could not parse function response, type '${typeof d}'.`);if(!n.isVertexAI()&&!("id"in d))throw new Error(T_)}return{toolResponse:{functionResponses:a}}}sendClientContent(n){n=Object.assign(Object.assign({},__),n);const l=this.tLiveClientContent(this.apiClient,n);this.conn.send(JSON.stringify(l))}sendRealtimeInput(n){let l={};this.apiClient.isVertexAI()?l={realtimeInput:u0(n)}:l={realtimeInput:r0(n)},this.conn.send(JSON.stringify(l))}sendToolResponse(n){if(n.functionResponses==null)throw new Error("Tool response parameters are required.");const l=this.tLiveClienttToolResponse(this.apiClient,n);this.conn.send(JSON.stringify(l))}close(){this.conn.close()}}function A_(i){const n={};return i.forEach((l,a)=>{n[a]=l}),n}function x_(i){const n=new Headers;for(const[l,a]of Object.entries(i))n.append(l,a);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const th=10;function nh(i){var n,l,a;if(!((n=i==null?void 0:i.automaticFunctionCalling)===null||n===void 0)&&n.disable)return!0;let u=!1;for(const m of(l=i==null?void 0:i.tools)!==null&&l!==void 0?l:[])if(po(m)){u=!0;break}if(!u)return!0;const d=(a=i==null?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return d&&(d<0||!Number.isInteger(d))||d==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",d),!0):!1}function po(i){return"callTool"in i&&typeof i.callTool=="function"}function M_(i){var n,l,a;return(a=(l=(n=i.config)===null||n===void 0?void 0:n.tools)===null||l===void 0?void 0:l.some(u=>po(u)))!==null&&a!==void 0?a:!1}function ih(i){var n;const l=[];return!((n=i==null?void 0:i.config)===null||n===void 0)&&n.tools&&i.config.tools.forEach((a,u)=>{if(po(a))return;const d=a;d.functionDeclarations&&d.functionDeclarations.length>0&&l.push(u)}),l}function oh(i){var n;return!(!((n=i==null?void 0:i.automaticFunctionCalling)===null||n===void 0)&&n.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class R_ extends wn{constructor(n){super(),this.apiClient=n,this.generateContent=async l=>{var a,u,d,m,g;const y=await this.processParamsMaybeAddMcpUsage(l);if(this.maybeMoveToResponseJsonSchem(l),!M_(l)||nh(l.config))return await this.generateContentInternal(y);const h=ih(l);if(h.length>0){const b=h.map(J=>`tools[${J}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${b}.`)}let v,S;const C=jt(y.contents),M=(d=(u=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||u===void 0?void 0:u.maximumRemoteCalls)!==null&&d!==void 0?d:th;let H=0;for(;H<M&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const b=v.candidates[0].content,J=[];for(const te of(g=(m=l.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[])if(po(te)){const Q=await te.callTool(v.functionCalls);J.push(...Q)}H++,S={role:"user",parts:J},y.contents=jt(y.contents),y.contents.push(b),y.contents.push(S),oh(y.config)&&(C.push(b),C.push(S))}return oh(y.config)&&(v.automaticFunctionCallingHistory=C),v},this.generateContentStream=async l=>{if(this.maybeMoveToResponseJsonSchem(l),nh(l.config)){const u=await this.processParamsMaybeAddMcpUsage(l);return await this.generateContentStreamInternal(u)}const a=ih(l);if(a.length>0){const u=a.map(d=>`tools[${d}]`).join(", ");throw new Error(`Incompatible tools found at ${u}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}return await this.processAfcStream(l)},this.generateImages=async l=>await this.generateImagesInternal(l).then(a=>{var u;let d;const m=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((u=y==null?void 0:y.safetyAttributes)===null||u===void 0?void 0:u.contentType)==="Positive Prompt"?d=y==null?void 0:y.safetyAttributes:m.push(y);let g;return d?g={generatedImages:m,positivePromptSafetyAttributes:d,sdkHttpResponse:a.sdkHttpResponse}:g={generatedImages:m,sdkHttpResponse:a.sdkHttpResponse},g}),this.list=async l=>{var a;const m={config:Object.assign(Object.assign({},{queryBase:!0}),l==null?void 0:l.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((a=m.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new Ci(In.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(m),m)},this.editImage=async l=>{const a={model:l.model,prompt:l.prompt,referenceImages:[],config:l.config};return l.referenceImages&&l.referenceImages&&(a.referenceImages=l.referenceImages.map(u=>u.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async l=>{let a={numberOfImages:1,mode:"upscale"};l.config&&(a=Object.assign(Object.assign({},a),l.config));const u={model:l.model,image:l.image,upscaleFactor:l.upscaleFactor,config:a};return await this.upscaleImageInternal(u)},this.generateVideos=async l=>{var a,u,d,m,g,y;if((l.prompt||l.image||l.video)&&l.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=l.video)===null||a===void 0)&&a.uri&&(!((u=l.video)===null||u===void 0)&&u.videoBytes)?l.video={uri:l.video.uri,mimeType:l.video.mimeType}:!((m=(d=l.source)===null||d===void 0?void 0:d.video)===null||m===void 0)&&m.uri&&(!((y=(g=l.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(l.source.video={uri:l.source.video.uri,mimeType:l.source.video.mimeType})),await this.generateVideosInternal(l)}}maybeMoveToResponseJsonSchem(n){n.config&&n.config.responseSchema&&(n.config.responseJsonSchema||Object.keys(n.config.responseSchema).includes("$schema")&&(n.config.responseJsonSchema=n.config.responseSchema,delete n.config.responseSchema))}async processParamsMaybeAddMcpUsage(n){var l,a,u;const d=(l=n.config)===null||l===void 0?void 0:l.tools;if(!d)return n;const m=await Promise.all(d.map(async y=>po(y)?await y.tool():y)),g={model:n.model,contents:n.contents,config:Object.assign(Object.assign({},n.config),{tools:m})};if(g.config.tools=m,n.config&&n.config.tools&&bh(n.config.tools)){const y=(u=(a=n.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&u!==void 0?u:{};let h=Object.assign({},y);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),Uh(h),g.config.httpOptions=Object.assign(Object.assign({},n.config.httpOptions),{headers:h})}return g}async initAfcToolsMap(n){var l,a,u;const d=new Map;for(const m of(a=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&a!==void 0?a:[])if(po(m)){const g=m,y=await g.tool();for(const h of(u=y.functionDeclarations)!==null&&u!==void 0?u:[]){if(!h.name)throw new Error("Function declaration name is required.");if(d.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);d.set(h.name,g)}}return d}async processAfcStream(n){var l,a,u;const d=(u=(a=(l=n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&u!==void 0?u:th;let m=!1,g=0;const y=await this.initAfcToolsMap(n);return(function(h,v,S){var C,M;return fo(this,arguments,function*(){for(var H,b,J,te;g<d;){m&&(g++,m=!1);const ee=yield je(h.processParamsMaybeAddMcpUsage(S)),ne=yield je(h.generateContentStreamInternal(ee)),j=[],Ee=[];try{for(var le=!0,Q=(b=void 0,ml(ne)),Z;Z=yield je(Q.next()),H=Z.done,!H;le=!0){te=Z.value,le=!1;const re=te;if(yield yield je(re),re.candidates&&(!((C=re.candidates[0])===null||C===void 0)&&C.content)){Ee.push(re.candidates[0].content);for(const me of(M=re.candidates[0].content.parts)!==null&&M!==void 0?M:[])if(g<d&&me.functionCall){if(!me.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(me.functionCall.name)){const Ne=yield je(v.get(me.functionCall.name).callTool([me.functionCall]));j.push(...Ne)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${me.functionCall.name}`)}}}}catch(re){b={error:re}}finally{try{!le&&!H&&(J=Q.return)&&(yield je(J.call(Q)))}finally{if(b)throw b.error}}if(j.length>0){m=!0;const re=new pl;re.candidates=[{content:{role:"user",parts:j}}],yield yield je(re);const me=[];me.push(...Ee),me.push({role:"user",parts:j});const Ne=jt(S.contents).concat(me);S.contents=Ne}else break}})})(this,y,n)}async generateContentInternal(n){var l,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=Zm(this.apiClient,n);return g=oe("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=Wm(v),C=new pl;return Object.assign(C,S),C})}else{const h=Qm(this.apiClient,n);return g=oe("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=$m(v),C=new pl;return Object.assign(C,S),C})}}async generateContentStreamInternal(n){var l,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=Zm(this.apiClient,n);return g=oe("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}),m.then(function(S){return fo(this,arguments,function*(){var C,M,H,b;try{for(var J=!0,te=ml(S),le;le=yield je(te.next()),C=le.done,!C;J=!0){b=le.value,J=!1;const Q=b,Z=Wm(yield je(Q.json()));Z.sdkHttpResponse={headers:Q.headers};const ee=new pl;Object.assign(ee,Z),yield yield je(ee)}}catch(Q){M={error:Q}}finally{try{!J&&!C&&(H=te.return)&&(yield je(H.call(te)))}finally{if(M)throw M.error}}})})}else{const h=Qm(this.apiClient,n);return g=oe("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}),m.then(function(S){return fo(this,arguments,function*(){var C,M,H,b;try{for(var J=!0,te=ml(S),le;le=yield je(te.next()),C=le.done,!C;J=!0){b=le.value,J=!1;const Q=b,Z=$m(yield je(Q.json()));Z.sdkHttpResponse={headers:Q.headers};const ee=new pl;Object.assign(ee,Z),yield yield je(ee)}}catch(Q){M={error:Q}}finally{try{!J&&!C&&(H=te.return)&&(yield je(H.call(te)))}finally{if(M)throw M.error}}})})}}async embedContent(n){var l,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=z0(this.apiClient,n);return g=oe("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=k0(v),C=new Um;return Object.assign(C,S),C})}else{const h=V0(this.apiClient,n);return g=oe("{model}:batchEmbedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=B0(v),C=new Um;return Object.assign(C,S),C})}}async generateImagesInternal(n){var l,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=$0(this.apiClient,n);return g=oe("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=j0(v),C=new Lm;return Object.assign(C,S),C})}else{const h=Z0(this.apiClient,n);return g=oe("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=W0(v),C=new Lm;return Object.assign(C,S),C})}}async editImageInternal(n){var l,a;let u,d="",m={};if(this.apiClient.isVertexAI()){const g=q0(this.apiClient,n);return d=oe("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const h=G0(y),v=new Wv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(n){var l,a;let u,d="",m={};if(this.apiClient.isVertexAI()){const g=XE(this.apiClient,n);return d=oe("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const h=QE(y),v=new jv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(n){var l,a;let u,d="",m={};if(this.apiClient.isVertexAI()){const g=IE(this.apiClient,n);return d=oe("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>{const h=wE(y),v=new eT;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(n){var l,a;let u,d="",m={};if(this.apiClient.isVertexAI()){const g=HE(this.apiClient,n);return d=oe("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>{const h=PE(y),v=new tT;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(n){var l,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=gE(this.apiClient,n);return g=oe("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>Tu(v))}else{const h=hE(this.apiClient,n);return g=oe("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>vu(v))}}async listInternal(n){var l,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=CE(this.apiClient,n);return g=oe("{models_url}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=xE(v),C=new qm;return Object.assign(C,S),C})}else{const h=_E(this.apiClient,n);return g=oe("{models_url}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=AE(v),C=new qm;return Object.assign(C,S),C})}}async update(n){var l,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=JE(this.apiClient,n);return g=oe("{model}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>Tu(v))}else{const h=YE(this.apiClient,n);return g=oe("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>vu(v))}}async delete(n){var l,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=w0(this.apiClient,n);return g=oe("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=U0(v),C=new Gm;return Object.assign(C,S),C})}else{const h=I0(this.apiClient,n);return g=oe("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=b0(v),C=new Gm;return Object.assign(C,S),C})}}async countTokens(n){var l,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=R0(this.apiClient,n);return g=oe("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=D0(v),C=new Hm;return Object.assign(C,S),C})}else{const h=M0(this.apiClient,n);return g=oe("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=N0(v),C=new Hm;return Object.assign(C,S),C})}}async computeTokens(n){var l,a;let u,d="",m={};if(this.apiClient.isVertexAI()){const g=T0(this.apiClient,n);return d=oe("{model}:computeTokens",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const h=S0(y),v=new nT;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(n){var l,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=lE(this.apiClient,n);return g=oe("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>{const S=iE(v),C=new Pa;return Object.assign(C,S),C})}else{const h=oE(this.apiClient,n);return g=oe("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>{const S=nE(v),C=new Pa;return Object.assign(C,S),C})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class N_ extends wn{constructor(n){super(),this.apiClient=n}async getVideosOperation(n){const l=n.operation,a=n.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=l.name.split("/operations/")[0];let d;a&&"httpOptions"in a&&(d=a.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:u,config:{httpOptions:d}});return l._fromAPIResponse({apiResponse:m,_isVertexAI:!0})}else{const u=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:u,_isVertexAI:!1})}}async get(n){const l=n.operation,a=n.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=l.name.split("/operations/")[0];let d;a&&"httpOptions"in a&&(d=a.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:u,config:{httpOptions:d}});return l._fromAPIResponse({apiResponse:m,_isVertexAI:!0})}else{const u=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:u,_isVertexAI:!1})}}async getVideosOperationInternal(n){var l,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=Jv(n);return g=oe("{operationName}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m}else{const h=Yv(n);return g=oe("{operationName}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m}}async fetchPredictVideosOperationInternal(n){var l,a;let u,d="",m={};if(this.apiClient.isVertexAI()){const g=Pv(n);return d=oe("{resourceName}:fetchPredictOperation",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function D_(i){const n={},l=r(i,["data"]);if(l!=null&&c(n,["data"],l),r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=r(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function I_(i){const n={},l=r(i,["parts"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>P_(d))),c(n,["parts"],u)}const a=r(i,["role"]);return a!=null&&c(n,["role"],a),n}function w_(i,n,l){const a={},u=r(n,["expireTime"]);l!==void 0&&u!=null&&c(l,["expireTime"],u);const d=r(n,["newSessionExpireTime"]);l!==void 0&&d!=null&&c(l,["newSessionExpireTime"],d);const m=r(n,["uses"]);l!==void 0&&m!=null&&c(l,["uses"],m);const g=r(n,["liveConnectConstraints"]);l!==void 0&&g!=null&&c(l,["bidiGenerateContentSetup"],H_(i,g));const y=r(n,["lockAdditionalFields"]);return l!==void 0&&y!=null&&c(l,["fieldMask"],y),a}function b_(i,n){const l={},a=r(n,["config"]);return a!=null&&c(l,["config"],w_(i,a,l)),l}function U_(i){const n={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=r(i,["fileUri"]);l!=null&&c(n,["fileUri"],l);const a=r(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function L_(i){const n={};if(r(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=r(i,["enableWidget"]);return l!=null&&c(n,["enableWidget"],l),n}function q_(i){const n={};if(r(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=r(i,["timeRangeFilter"]);return l!=null&&c(n,["timeRangeFilter"],l),n}function G_(i,n){const l={},a=r(i,["generationConfig"]);n!==void 0&&a!=null&&c(n,["setup","generationConfig"],a);const u=r(i,["responseModalities"]);n!==void 0&&u!=null&&c(n,["setup","generationConfig","responseModalities"],u);const d=r(i,["temperature"]);n!==void 0&&d!=null&&c(n,["setup","generationConfig","temperature"],d);const m=r(i,["topP"]);n!==void 0&&m!=null&&c(n,["setup","generationConfig","topP"],m);const g=r(i,["topK"]);n!==void 0&&g!=null&&c(n,["setup","generationConfig","topK"],g);const y=r(i,["maxOutputTokens"]);n!==void 0&&y!=null&&c(n,["setup","generationConfig","maxOutputTokens"],y);const h=r(i,["mediaResolution"]);n!==void 0&&h!=null&&c(n,["setup","generationConfig","mediaResolution"],h);const v=r(i,["seed"]);n!==void 0&&v!=null&&c(n,["setup","generationConfig","seed"],v);const S=r(i,["speechConfig"]);n!==void 0&&S!=null&&c(n,["setup","generationConfig","speechConfig"],Du(S));const C=r(i,["thinkingConfig"]);n!==void 0&&C!=null&&c(n,["setup","generationConfig","thinkingConfig"],C);const M=r(i,["enableAffectiveDialog"]);n!==void 0&&M!=null&&c(n,["setup","generationConfig","enableAffectiveDialog"],M);const H=r(i,["systemInstruction"]);n!==void 0&&H!=null&&c(n,["setup","systemInstruction"],I_(At(H)));const b=r(i,["tools"]);if(n!==void 0&&b!=null){let ne=ho(b);Array.isArray(ne)&&(ne=ne.map(j=>z_(mo(j)))),c(n,["setup","tools"],ne)}const J=r(i,["sessionResumption"]);n!==void 0&&J!=null&&c(n,["setup","sessionResumption"],V_(J));const te=r(i,["inputAudioTranscription"]);n!==void 0&&te!=null&&c(n,["setup","inputAudioTranscription"],te);const le=r(i,["outputAudioTranscription"]);n!==void 0&&le!=null&&c(n,["setup","outputAudioTranscription"],le);const Q=r(i,["realtimeInputConfig"]);n!==void 0&&Q!=null&&c(n,["setup","realtimeInputConfig"],Q);const Z=r(i,["contextWindowCompression"]);n!==void 0&&Z!=null&&c(n,["setup","contextWindowCompression"],Z);const ee=r(i,["proactivity"]);return n!==void 0&&ee!=null&&c(n,["setup","proactivity"],ee),l}function H_(i,n){const l={},a=r(n,["model"]);a!=null&&c(l,["setup","model"],Ge(i,a));const u=r(n,["config"]);return u!=null&&c(l,["config"],G_(u,l)),l}function P_(i){const n={},l=r(i,["functionCall"]);l!=null&&c(n,["functionCall"],l);const a=r(i,["codeExecutionResult"]);a!=null&&c(n,["codeExecutionResult"],a);const u=r(i,["executableCode"]);u!=null&&c(n,["executableCode"],u);const d=r(i,["fileData"]);d!=null&&c(n,["fileData"],U_(d));const m=r(i,["functionResponse"]);m!=null&&c(n,["functionResponse"],m);const g=r(i,["inlineData"]);g!=null&&c(n,["inlineData"],D_(g));const y=r(i,["text"]);y!=null&&c(n,["text"],y);const h=r(i,["thought"]);h!=null&&c(n,["thought"],h);const v=r(i,["thoughtSignature"]);v!=null&&c(n,["thoughtSignature"],v);const S=r(i,["videoMetadata"]);return S!=null&&c(n,["videoMetadata"],S),n}function V_(i){const n={},l=r(i,["handle"]);if(l!=null&&c(n,["handle"],l),r(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function z_(i){const n={},l=r(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(S=>S)),c(n,["functionDeclarations"],v)}if(r(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=r(i,["googleSearchRetrieval"]);a!=null&&c(n,["googleSearchRetrieval"],a);const u=r(i,["computerUse"]);u!=null&&c(n,["computerUse"],u);const d=r(i,["fileSearch"]);d!=null&&c(n,["fileSearch"],d);const m=r(i,["codeExecution"]);if(m!=null&&c(n,["codeExecution"],m),r(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=r(i,["googleMaps"]);g!=null&&c(n,["googleMaps"],L_(g));const y=r(i,["googleSearch"]);y!=null&&c(n,["googleSearch"],q_(y));const h=r(i,["urlContext"]);return h!=null&&c(n,["urlContext"],h),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function B_(i){const n=[];for(const l in i)if(Object.prototype.hasOwnProperty.call(i,l)){const a=i[l];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const u=Object.keys(a).map(d=>`${l}.${d}`);n.push(...u)}else n.push(l)}return n.join(",")}function k_(i,n){let l=null;const a=i.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const d=a.setup;typeof d=="object"&&d!==null?(i.bidiGenerateContentSetup=d,l=d):delete i.bidiGenerateContentSetup}else a!==void 0&&delete i.bidiGenerateContentSetup;const u=i.fieldMask;if(l){const d=B_(l);if(Array.isArray(n==null?void 0:n.lockAdditionalFields)&&(n==null?void 0:n.lockAdditionalFields.length)===0)d?i.fieldMask=d:delete i.fieldMask;else if(n!=null&&n.lockAdditionalFields&&n.lockAdditionalFields.length>0&&u!==null&&Array.isArray(u)&&u.length>0){const m=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];u.length>0&&(g=u.map(h=>m.includes(h)?`generationConfig.${h}`:h));const y=[];d&&y.push(d),g.length>0&&y.push(...g),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else u!==null&&Array.isArray(u)&&u.length>0?i.fieldMask=u.join(","):delete i.fieldMask;return i}class O_ extends wn{constructor(n){super(),this.apiClient=n}async create(n){var l,a;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=b_(this.apiClient,n);d=oe("auth_tokens",g._url),m=g._query,delete g.config,delete g._url,delete g._query;const y=k_(g,n.config);return u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),u.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function F_(i,n){const l={},a=r(i,["displayName"]);return n!==void 0&&a!=null&&c(n,["displayName"],a),l}function Y_(i){const n={},l=r(i,["config"]);return l!=null&&F_(l,n),n}function J_(i,n){const l={},a=r(i,["force"]);return n!==void 0&&a!=null&&c(n,["_query","force"],a),l}function K_(i){const n={},l=r(i,["name"]);l!=null&&c(n,["_url","name"],l);const a=r(i,["config"]);return a!=null&&J_(a,n),n}function X_(i){const n={},l=r(i,["name"]);return l!=null&&c(n,["_url","name"],l),n}function Q_(i,n){const l={},a=r(i,["customMetadata"]);if(n!==void 0&&a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>m)),c(n,["customMetadata"],d)}const u=r(i,["chunkingConfig"]);return n!==void 0&&u!=null&&c(n,["chunkingConfig"],u),l}function Z_(i){const n={},l=r(i,["name"]);l!=null&&c(n,["name"],l);const a=r(i,["metadata"]);a!=null&&c(n,["metadata"],a);const u=r(i,["done"]);u!=null&&c(n,["done"],u);const d=r(i,["error"]);d!=null&&c(n,["error"],d);const m=r(i,["response"]);return m!=null&&c(n,["response"],W_(m)),n}function $_(i){const n={},l=r(i,["fileSearchStoreName"]);l!=null&&c(n,["_url","file_search_store_name"],l);const a=r(i,["fileName"]);a!=null&&c(n,["fileName"],a);const u=r(i,["config"]);return u!=null&&Q_(u,n),n}function W_(i){const n={},l=r(i,["sdkHttpResponse"]);l!=null&&c(n,["sdkHttpResponse"],l);const a=r(i,["parent"]);a!=null&&c(n,["parent"],a);const u=r(i,["documentName"]);return u!=null&&c(n,["documentName"],u),n}function j_(i,n){const l={},a=r(i,["pageSize"]);n!==void 0&&a!=null&&c(n,["_query","pageSize"],a);const u=r(i,["pageToken"]);return n!==void 0&&u!=null&&c(n,["_query","pageToken"],u),l}function eC(i){const n={},l=r(i,["config"]);return l!=null&&j_(l,n),n}function tC(i){const n={},l=r(i,["sdkHttpResponse"]);l!=null&&c(n,["sdkHttpResponse"],l);const a=r(i,["nextPageToken"]);a!=null&&c(n,["nextPageToken"],a);const u=r(i,["fileSearchStores"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>m)),c(n,["fileSearchStores"],d)}return n}function nC(i,n){const l={},a=r(i,["mimeType"]);n!==void 0&&a!=null&&c(n,["mimeType"],a);const u=r(i,["displayName"]);n!==void 0&&u!=null&&c(n,["displayName"],u);const d=r(i,["customMetadata"]);if(n!==void 0&&d!=null){let g=d;Array.isArray(g)&&(g=g.map(y=>y)),c(n,["customMetadata"],g)}const m=r(i,["chunkingConfig"]);return n!==void 0&&m!=null&&c(n,["chunkingConfig"],m),l}function iC(i){const n={},l=r(i,["fileSearchStoreName"]);l!=null&&c(n,["_url","file_search_store_name"],l);const a=r(i,["config"]);return a!=null&&nC(a,n),n}function oC(i){const n={},l=r(i,["sdkHttpResponse"]);return l!=null&&c(n,["sdkHttpResponse"],l),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lC(i,n){const l={},a=r(i,["force"]);return n!==void 0&&a!=null&&c(n,["_query","force"],a),l}function aC(i){const n={},l=r(i,["name"]);l!=null&&c(n,["_url","name"],l);const a=r(i,["config"]);return a!=null&&lC(a,n),n}function sC(i){const n={},l=r(i,["name"]);return l!=null&&c(n,["_url","name"],l),n}function rC(i,n){const l={},a=r(i,["pageSize"]);n!==void 0&&a!=null&&c(n,["_query","pageSize"],a);const u=r(i,["pageToken"]);return n!==void 0&&u!=null&&c(n,["_query","pageToken"],u),l}function uC(i){const n={},l=r(i,["parent"]);l!=null&&c(n,["_url","parent"],l);const a=r(i,["config"]);return a!=null&&rC(a,n),n}function cC(i){const n={},l=r(i,["sdkHttpResponse"]);l!=null&&c(n,["sdkHttpResponse"],l);const a=r(i,["nextPageToken"]);a!=null&&c(n,["nextPageToken"],a);const u=r(i,["documents"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>m)),c(n,["documents"],d)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fC extends wn{constructor(n){super(),this.apiClient=n,this.list=async l=>new Ci(In.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:l.parent,config:a.config}),await this.listInternal(l),l)}async get(n){var l,a;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=sC(n);return d=oe("{name}",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async delete(n){var l,a;let u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=aC(n);u=oe("{name}",m._url),d=m._query,delete m._url,delete m._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(n){var l,a;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=uC(n);return d=oe("{parent}/documents",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>{const h=cC(y),v=new iT;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dC extends wn{constructor(n,l=new fC(n)){super(),this.apiClient=n,this.documents=l,this.list=async(a={})=>new Ci(In.PAGED_ITEM_FILE_SEARCH_STORES,u=>this.listInternal(u),await this.listInternal(a),a)}async uploadToFileSearchStore(n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(n.fileSearchStoreName,n.file,n.config)}async create(n){var l,a;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Y_(n);return d=oe("fileSearchStores",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async get(n){var l,a;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=X_(n);return d=oe("{name}",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async delete(n){var l,a;let u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=K_(n);u=oe("{name}",m._url),d=m._query,delete m._url,delete m._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(n){var l,a;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=eC(n);return d=oe("fileSearchStores",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>{const h=tC(y),v=new oT;return Object.assign(v,h),v})}}async uploadToFileSearchStoreInternal(n){var l,a;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=iC(n);return d=oe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>{const h=oC(y),v=new lT;return Object.assign(v,h),v})}}async importFile(n){var l,a;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=$_(n);return d=oe("{file_search_store_name}:importFile",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>{const h=Z_(y),v=new Au;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pC(i,n){const l={},a=r(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function mC(i,n){const l={},a=r(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function hC(i,n,l){const a={};if(r(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const u=r(i,["tunedModelDisplayName"]);if(n!==void 0&&u!=null&&c(n,["displayName"],u),r(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const d=r(i,["epochCount"]);n!==void 0&&d!=null&&c(n,["tuningTask","hyperparameters","epochCount"],d);const m=r(i,["learningRateMultiplier"]);if(m!=null&&c(a,["tuningTask","hyperparameters","learningRateMultiplier"],m),r(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(r(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(r(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=r(i,["batchSize"]);n!==void 0&&g!=null&&c(n,["tuningTask","hyperparameters","batchSize"],g);const y=r(i,["learningRate"]);if(n!==void 0&&y!=null&&c(n,["tuningTask","hyperparameters","learningRate"],y),r(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(r(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return a}function gC(i,n,l){const a={};let u=r(l,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const M=r(i,["validationDataset"]);n!==void 0&&M!=null&&c(n,["supervisedTuningSpec"],lh(M))}else if(u==="PREFERENCE_TUNING"){const M=r(i,["validationDataset"]);n!==void 0&&M!=null&&c(n,["preferenceOptimizationSpec"],lh(M))}const d=r(i,["tunedModelDisplayName"]);n!==void 0&&d!=null&&c(n,["tunedModelDisplayName"],d);const m=r(i,["description"]);n!==void 0&&m!=null&&c(n,["description"],m);let g=r(l,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const M=r(i,["epochCount"]);n!==void 0&&M!=null&&c(n,["supervisedTuningSpec","hyperParameters","epochCount"],M)}else if(g==="PREFERENCE_TUNING"){const M=r(i,["epochCount"]);n!==void 0&&M!=null&&c(n,["preferenceOptimizationSpec","hyperParameters","epochCount"],M)}let y=r(l,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const M=r(i,["learningRateMultiplier"]);n!==void 0&&M!=null&&c(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],M)}else if(y==="PREFERENCE_TUNING"){const M=r(i,["learningRateMultiplier"]);n!==void 0&&M!=null&&c(n,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],M)}let h=r(l,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const M=r(i,["exportLastCheckpointOnly"]);n!==void 0&&M!=null&&c(n,["supervisedTuningSpec","exportLastCheckpointOnly"],M)}else if(h==="PREFERENCE_TUNING"){const M=r(i,["exportLastCheckpointOnly"]);n!==void 0&&M!=null&&c(n,["preferenceOptimizationSpec","exportLastCheckpointOnly"],M)}let v=r(l,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const M=r(i,["adapterSize"]);n!==void 0&&M!=null&&c(n,["supervisedTuningSpec","hyperParameters","adapterSize"],M)}else if(v==="PREFERENCE_TUNING"){const M=r(i,["adapterSize"]);n!==void 0&&M!=null&&c(n,["preferenceOptimizationSpec","hyperParameters","adapterSize"],M)}if(r(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(r(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const S=r(i,["labels"]);n!==void 0&&S!=null&&c(n,["labels"],S);const C=r(i,["beta"]);return n!==void 0&&C!=null&&c(n,["preferenceOptimizationSpec","hyperParameters","beta"],C),a}function yC(i,n){const l={},a=r(i,["baseModel"]);a!=null&&c(l,["baseModel"],a);const u=r(i,["preTunedModel"]);u!=null&&c(l,["preTunedModel"],u);const d=r(i,["trainingDataset"]);d!=null&&NC(d);const m=r(i,["config"]);return m!=null&&hC(m,l),l}function vC(i,n){const l={},a=r(i,["baseModel"]);a!=null&&c(l,["baseModel"],a);const u=r(i,["preTunedModel"]);u!=null&&c(l,["preTunedModel"],u);const d=r(i,["trainingDataset"]);d!=null&&DC(d,l,n);const m=r(i,["config"]);return m!=null&&gC(m,l,n),l}function TC(i,n){const l={},a=r(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function SC(i,n){const l={},a=r(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function EC(i,n,l){const a={},u=r(i,["pageSize"]);n!==void 0&&u!=null&&c(n,["_query","pageSize"],u);const d=r(i,["pageToken"]);n!==void 0&&d!=null&&c(n,["_query","pageToken"],d);const m=r(i,["filter"]);return n!==void 0&&m!=null&&c(n,["_query","filter"],m),a}function _C(i,n,l){const a={},u=r(i,["pageSize"]);n!==void 0&&u!=null&&c(n,["_query","pageSize"],u);const d=r(i,["pageToken"]);n!==void 0&&d!=null&&c(n,["_query","pageToken"],d);const m=r(i,["filter"]);return n!==void 0&&m!=null&&c(n,["_query","filter"],m),a}function CC(i,n){const l={},a=r(i,["config"]);return a!=null&&EC(a,l),l}function AC(i,n){const l={},a=r(i,["config"]);return a!=null&&_C(a,l),l}function xC(i,n){const l={},a=r(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const u=r(i,["nextPageToken"]);u!=null&&c(l,["nextPageToken"],u);const d=r(i,["tunedModels"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(g=>Lh(g))),c(l,["tuningJobs"],m)}return l}function MC(i,n){const l={},a=r(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const u=r(i,["nextPageToken"]);u!=null&&c(l,["nextPageToken"],u);const d=r(i,["tuningJobs"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(g=>Eu(g))),c(l,["tuningJobs"],m)}return l}function RC(i,n){const l={},a=r(i,["name"]);a!=null&&c(l,["model"],a);const u=r(i,["name"]);return u!=null&&c(l,["endpoint"],u),l}function NC(i,n){const l={};if(r(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(r(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=r(i,["examples"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),c(l,["examples","examples"],u)}return l}function DC(i,n,l){const a={};let u=r(l,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const m=r(i,["gcsUri"]);n!==void 0&&m!=null&&c(n,["supervisedTuningSpec","trainingDatasetUri"],m)}else if(u==="PREFERENCE_TUNING"){const m=r(i,["gcsUri"]);n!==void 0&&m!=null&&c(n,["preferenceOptimizationSpec","trainingDatasetUri"],m)}let d=r(l,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const m=r(i,["vertexDatasetResource"]);n!==void 0&&m!=null&&c(n,["supervisedTuningSpec","trainingDatasetUri"],m)}else if(d==="PREFERENCE_TUNING"){const m=r(i,["vertexDatasetResource"]);n!==void 0&&m!=null&&c(n,["preferenceOptimizationSpec","trainingDatasetUri"],m)}if(r(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function Lh(i,n){const l={},a=r(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const u=r(i,["name"]);u!=null&&c(l,["name"],u);const d=r(i,["state"]);d!=null&&c(l,["state"],hh(d));const m=r(i,["createTime"]);m!=null&&c(l,["createTime"],m);const g=r(i,["tuningTask","startTime"]);g!=null&&c(l,["startTime"],g);const y=r(i,["tuningTask","completeTime"]);y!=null&&c(l,["endTime"],y);const h=r(i,["updateTime"]);h!=null&&c(l,["updateTime"],h);const v=r(i,["description"]);v!=null&&c(l,["description"],v);const S=r(i,["baseModel"]);S!=null&&c(l,["baseModel"],S);const C=r(i,["_self"]);return C!=null&&c(l,["tunedModel"],RC(C)),l}function Eu(i,n){const l={},a=r(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const u=r(i,["name"]);u!=null&&c(l,["name"],u);const d=r(i,["state"]);d!=null&&c(l,["state"],hh(d));const m=r(i,["createTime"]);m!=null&&c(l,["createTime"],m);const g=r(i,["startTime"]);g!=null&&c(l,["startTime"],g);const y=r(i,["endTime"]);y!=null&&c(l,["endTime"],y);const h=r(i,["updateTime"]);h!=null&&c(l,["updateTime"],h);const v=r(i,["error"]);v!=null&&c(l,["error"],v);const S=r(i,["description"]);S!=null&&c(l,["description"],S);const C=r(i,["baseModel"]);C!=null&&c(l,["baseModel"],C);const M=r(i,["tunedModel"]);M!=null&&c(l,["tunedModel"],M);const H=r(i,["preTunedModel"]);H!=null&&c(l,["preTunedModel"],H);const b=r(i,["supervisedTuningSpec"]);b!=null&&c(l,["supervisedTuningSpec"],b);const J=r(i,["preferenceOptimizationSpec"]);J!=null&&c(l,["preferenceOptimizationSpec"],J);const te=r(i,["tuningDataStats"]);te!=null&&c(l,["tuningDataStats"],te);const le=r(i,["encryptionSpec"]);le!=null&&c(l,["encryptionSpec"],le);const Q=r(i,["partnerModelTuningSpec"]);Q!=null&&c(l,["partnerModelTuningSpec"],Q);const Z=r(i,["customBaseModel"]);Z!=null&&c(l,["customBaseModel"],Z);const ee=r(i,["experiment"]);ee!=null&&c(l,["experiment"],ee);const ne=r(i,["labels"]);ne!=null&&c(l,["labels"],ne);const j=r(i,["outputUri"]);j!=null&&c(l,["outputUri"],j);const Ee=r(i,["pipelineJob"]);Ee!=null&&c(l,["pipelineJob"],Ee);const re=r(i,["serviceAccount"]);re!=null&&c(l,["serviceAccount"],re);const me=r(i,["tunedModelDisplayName"]);me!=null&&c(l,["tunedModelDisplayName"],me);const Ne=r(i,["veoTuningSpec"]);return Ne!=null&&c(l,["veoTuningSpec"],Ne),l}function IC(i,n){const l={},a=r(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const u=r(i,["name"]);u!=null&&c(l,["name"],u);const d=r(i,["metadata"]);d!=null&&c(l,["metadata"],d);const m=r(i,["done"]);m!=null&&c(l,["done"],m);const g=r(i,["error"]);return g!=null&&c(l,["error"],g),l}function lh(i,n){const l={},a=r(i,["gcsUri"]);a!=null&&c(l,["validationDatasetUri"],a);const u=r(i,["vertexDatasetResource"]);return u!=null&&c(l,["validationDatasetUri"],u),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wC extends wn{constructor(n){super(),this.apiClient=n,this.get=async l=>await this.getInternal(l),this.list=async(l={})=>new Ci(In.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(l),l),this.tune=async l=>{var a;if(this.apiClient.isVertexAI())if(l.baseModel.startsWith("projects/")){const u={tunedModelName:l.baseModel};!((a=l.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(u.checkpointId=l.config.preTunedModelCheckpointId);const d=Object.assign(Object.assign({},l),{preTunedModel:u});return d.baseModel=void 0,await this.tuneInternal(d)}else{const u=Object.assign({},l);return await this.tuneInternal(u)}else{const u=Object.assign({},l),d=await this.tuneMldevInternal(u);let m="";return d.metadata!==void 0&&d.metadata.tunedModel!==void 0?m=d.metadata.tunedModel:d.name!==void 0&&d.name.includes("/operations/")&&(m=d.name.split("/operations/")[0]),{name:m,state:mu.JOB_STATE_QUEUED}}}}async getInternal(n){var l,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=SC(n);return g=oe("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>Eu(v))}else{const h=TC(n);return g=oe("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>Lh(v))}}async listInternal(n){var l,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=AC(n);return g=oe("tuningJobs",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=MC(v),C=new Pm;return Object.assign(C,S),C})}else{const h=CC(n);return g=oe("tunedModels",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=xC(v),C=new Pm;return Object.assign(C,S),C})}}async cancel(n){var l,a,u,d;let m="",g={};if(this.apiClient.isVertexAI()){const y=mC(n);m=oe("{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=pC(n);m=oe("{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal})}}async tuneInternal(n){var l,a;let u,d="",m={};if(this.apiClient.isVertexAI()){const g=vC(n,n);return d=oe("tuningJobs",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>Eu(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(n){var l,a;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=yC(n);return d=oe("tunedModels",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>IC(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bC{async download(n,l){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const UC=1024*1024*8,LC=3,qC=1e3,GC=2,za="x-goog-upload-status";async function HC(i,n,l){var a;const u=await qh(i,n,l),d=await(u==null?void 0:u.json());if(((a=u==null?void 0:u.headers)===null||a===void 0?void 0:a[za])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function PC(i,n,l){var a;const u=await qh(i,n,l),d=await(u==null?void 0:u.json());if(((a=u==null?void 0:u.headers)===null||a===void 0?void 0:a[za])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const m=uh(d),g=new xu;return Object.assign(g,m),g}async function qh(i,n,l){var a,u;let d=0,m=0,g=new hu(new Response),y="upload";for(d=i.size;m<d;){const h=Math.min(UC,d-m),v=i.slice(m,m+h);m+h>=d&&(y+=", finalize");let S=0,C=qC;for(;S<LC&&(g=await l.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:n,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(m),"Content-Length":String(h)}}}),!(!((a=g==null?void 0:g.headers)===null||a===void 0)&&a[za]));)S++,await zC(C),C=C*GC;if(m+=h,((u=g==null?void 0:g.headers)===null||u===void 0?void 0:u[za])!=="active")break;if(d<=m)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function VC(i){return{size:i.size,type:i.type}}function zC(i){return new Promise(n=>setTimeout(n,i))}class BC{async upload(n,l,a){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await HC(n,l,a)}async uploadToFileSearchStore(n,l,a){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await PC(n,l,a)}async stat(n){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await VC(n)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kC{create(n,l,a){return new OC(n,l,a)}}class OC{constructor(n,l,a){this.url=n,this.headers=l,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(n){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(n)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ah="x-goog-api-key";class FC{constructor(n){this.apiKey=n}async addAuthHeaders(n,l){if(n.get(ah)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");n.append(ah,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const YC="gl-node/";class JC{constructor(n){var l;if(n.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(n.project||n.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(l=n.vertexai)!==null&&l!==void 0?l:!1,this.apiKey=n.apiKey;const a=Gv(n.httpOptions,n.vertexai,void 0,void 0);a&&(n.httpOptions?n.httpOptions.baseUrl=a:n.httpOptions={baseUrl:a}),this.apiVersion=n.apiVersion;const u=new FC(this.apiKey);this.apiClient=new r_({auth:u,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:n.httpOptions,userAgentExtra:YC+"web",uploader:new BC,downloader:new bC}),this.models=new R_(this.apiClient),this.live=new E_(this.apiClient,u,new kC),this.batches=new sS(this.apiClient),this.chats=new VS(this.models,this.apiClient),this.caches=new GS(this.apiClient),this.files=new QS(this.apiClient),this.operations=new N_(this.apiClient),this.authTokens=new O_(this.apiClient),this.tunings=new wC(this.apiClient),this.fileSearchStores=new dC(this.apiClient)}}const ba=new JC({apiKey:void 0}),Ua={analyzeActivity:async i=>{try{return(await ba.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[{inlineData:{mimeType:"image/jpeg",data:i}},{text:"Analyze the person's activity in this image. Classify it as 'Walking', 'Sitting', 'Standing', 'Lying Down', 'Fallen', or 'In Distress'. Provide a brief, one-sentence description. Format as: 'Classification: [Your Classification]. Description: [Your Description].'"}]}})).text}catch(n){return console.error("Error analyzing activity:",n),"Classification: Unknown. Description: Could not analyze activity due to an API error."}},verifyMedication:async i=>{try{const n=await ba.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[{inlineData:{mimeType:"image/jpeg",data:i}},{text:"Read the medication name and dosage from the image. The text might be on a pill bottle, a box, or a handwritten note. Extract the primary medication name and its dosage."}]},config:{responseMimeType:"application/json",responseSchema:{type:pt.OBJECT,properties:{name:{type:pt.STRING,description:"The name of the medication."},dosage:{type:pt.STRING,description:'The dosage of the medication, e.g., "10mg".'}},required:["name","dosage"]}}});return JSON.parse(n.text)}catch(n){return console.error("Error verifying medication:",n),{name:"Unknown",dosage:""}}},analyzeSymptom:async i=>{try{const n=await ba.models.generateContent({model:"gemini-2.5-flash",contents:`A user reports the following symptom: "${i}". Analyze this symptom. Classify its severity as 'Low', 'Medium', or 'Urgent'. Provide a brief, one-sentence recommendation for the user.`,config:{responseMimeType:"application/json",responseSchema:{type:pt.OBJECT,properties:{severity:{type:pt.STRING},recommendation:{type:pt.STRING}},required:["severity","recommendation"]}}}),l=JSON.parse(n.text);return{id:`sym-${Date.now()}`,timestamp:new Date,description:i,severity:l.severity||"Medium",recommendation:l.recommendation||"Consult a healthcare professional."}}catch(n){return console.error("Error analyzing symptom:",n),{id:`sym-${Date.now()}`,timestamp:new Date,description:i,severity:"Medium",recommendation:"Could not analyze symptom. Please contact a healthcare professional directly."}}},generateMealPlan:async i=>{try{const n=await ba.models.generateContent({model:"gemini-2.5-flash",contents:`Generate a one-day meal plan (breakfast, lunch, dinner) for a person with the following health conditions: ${i}. Also provide one general dietary tip.`,config:{responseMimeType:"application/json",responseSchema:{type:pt.OBJECT,properties:{breakfast:{type:pt.STRING},lunch:{type:pt.STRING},dinner:{type:pt.STRING},tips:{type:pt.STRING}},required:["breakfast","lunch","dinner","tips"]}}});return JSON.parse(n.text)}catch(n){return console.error("Error generating meal plan:",n),{breakfast:"Could not generate plan.",lunch:"Could not generate plan.",dinner:"Could not generate plan.",tips:"An API error occurred."}}}},sh={sendEmail:async(i,n,l,a)=>{try{const u=`${Wt}/api/send-email`,d=await fetch(u,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({toEmail:i,subject:n,textBody:l,htmlBody:a})});if(!d.ok){const y=(await d.json().catch(()=>({}))).error||`HTTP ${d.status}: ${d.statusText}`;return console.error("Email service error:",y),{success:!1,error:y}}const m=await d.json();return console.log("Email sent successfully:",m),{success:!0}}catch(u){const d=u.message||"Unknown error occurred";return console.error("Error sending email via SMTP:",u),d.includes("Failed to fetch")||d.includes("ECONNREFUSED")?{success:!1,error:"Cannot connect to email server. Please make sure the proxy server is running (npm run dev:all)"}:{success:!1,error:`Network error: ${d}`}}}},KC={generateMealPlanFromReport:async(i,n)=>{try{if(!i)throw new Error("Authentication token is missing. Please log in again.");const l=new FormData;l.append("file",n),console.log(" Uploading patient report for meal plan generation:",n.name,"Size:",n.size,"Type:",n.type);const a=await fetch(`${Wt}/api/meal-plans/generate`,{method:"POST",headers:{Authorization:`Bearer ${i}`},body:l});console.log(" Response status:",a.status,a.statusText);const u=a.headers.get("content-type");if(!u||!u.includes("application/json")){const m=await a.text();throw console.error(" Non-JSON response from meal plan API:",m.substring(0,500)),new Error("Server returned non-JSON response. Make sure the server is running and the route is registered.")}const d=await a.json();if(console.log(" Meal plan generation response:",d),!a.ok)throw new Error(d.error||"Failed to generate meal plan");if(!d.data||!d.data.mealPlan)throw new Error("Invalid response format from server");return d.data.mealPlan}catch(l){throw console.error(" Meal plan generation error:",l),l.message.includes("fetch")||l.message.includes("Failed to fetch")?new Error("Cannot connect to server. Please make sure the server is running on port 3001."):new Error(l.message||"Failed to generate meal plan from report")}}},XC=()=>({speak:ie.useCallback(n=>{if(!(!n||n.trim().length===0))if("speechSynthesis"in window)try{window.speechSynthesis.cancel();const l=new SpeechSynthesisUtterance(n);l.lang="en-US",l.rate=1,l.pitch=1,l.volume=1,l.onerror=a=>{console.error("Speech synthesis error:",a)},l.onend=()=>{console.log(" Speech synthesis completed")},window.speechSynthesis.speak(l)}catch(l){console.error("Error with speech synthesis:",l)}else console.warn("Speech synthesis not supported in this browser.")},[])}),QC=({user:i,token:n,onLogout:l})=>{const[a,u]=ie.useState("DASHBOARD"),[d,m]=ie.useState(!1),[g,y]=ie.useState(!1),[h,v]=ie.useState([]),[S,C]=ie.useState([]),[M,H]=ie.useState([]),[b,J]=ie.useState([]),[te,le]=ie.useState([]),[Q,Z]=ie.useState(null),[ee,ne]=ie.useState([{id:"hi-1",name:"High Blood Pressure",description:"Hypertension - requires regular monitoring and medication",diagnosedDate:"2023-01-15",severity:"High"},{id:"hi-2",name:"Type 2 Diabetes",description:"Diabetes mellitus type 2 - managed with medication and diet",diagnosedDate:"2022-06-20",severity:"High"}]),[j,Ee]=ie.useState([]),[re,me]=ie.useState({type:null,data:null}),[Ne,ye]=ie.useState(!1),[ze,mt]=ie.useState(""),Xe=ie.useRef(null),G=ie.useRef(document.createElement("canvas")),$=ie.useRef(null),X=ie.useRef(null),{speak:Y}=XC(),W=ie.useCallback(K=>{const F=K.filter(Se=>Se.status!=="Normal");if(F.length===0)return[];const ve=F.sort((Se,Ce)=>new Date(Ce.testDate).getTime()-new Date(Se.testDate).getTime()).reduce((Se,Ce)=>(Se[Ce.testName]||(Se[Ce.testName]=Ce),Se),{});return Object.values(ve).map(Se=>{const Ce=Se.status==="Critical"?"High":(Se.status==="High"||Se.status==="Low","Medium"),et=Se.status==="High"?"Elevated":Se.status==="Low"?"Low":Se.status==="Critical"?"Critical":"Abnormal",at=`${et} ${Se.testName}: ${Se.value} ${Se.unit} (Normal: ${Se.normalRange||"N/A"}). Detected from blood test on ${new Date(Se.testDate).toLocaleDateString()}.`;return{id:`blood-${Se.id}`,name:`${Se.testName} (${et})`,description:at,diagnosedDate:Se.testDate,severity:Ce}})},[]),A=ie.useCallback(async()=>{if(n)try{const K=await fu.getBloodReports(n);Ee(K);const F=W(K);ne(ve=>[...ve.filter(et=>!et.id.startsWith("blood-")),...F].reduce((et,at)=>{const Ae=et.find(ue=>ue.name===at.name);if(!Ae)et.push(at);else{const ue=et.indexOf(Ae),fe={High:3,Medium:2,Low:1},ge=fe[Ae.severity||"Low"]||0,xe=fe[at.severity||"Low"]||0;(xe>ge||xe===ge&&at.diagnosedDate&&Ae.diagnosedDate&&new Date(at.diagnosedDate)>new Date(Ae.diagnosedDate))&&(et[ue]=at)}return et},[]))}catch(K){console.error("Failed to load blood reports:",K)}},[n,W]),R=ie.useCallback(async()=>{if(n)try{const K=await cu.getPrescriptions(n);console.log(" Reloaded prescriptions from API (raw):",JSON.stringify(K,null,2)),console.log(" Number of prescriptions:",K.length),K.length>0&&(console.log(" Full first prescription object:",K[0]),console.log(" First prescription keys:",Object.keys(K[0])),console.log(" First prescription Morning value:",K[0].Morning,"type:",typeof K[0].Morning),console.log(" First prescription Evening value:",K[0].Evening,"type:",typeof K[0].Evening),console.log(" First prescription Night value:",K[0].Night,"type:",typeof K[0].Night)),H(K.map(F=>{console.log(`  Raw API data for ${F.name}:`,{Morning:F.Morning,Evening:F.Evening,Night:F.Night,MorningType:typeof F.Morning,EveningType:typeof F.Evening,NightType:typeof F.Night});const ve={...F,lastTaken:null,Morning:F.Morning!==null&&F.Morning!==void 0?String(F.Morning):"0",Evening:F.Evening!==null&&F.Evening!==void 0?String(F.Evening):"0",Night:F.Night!==null&&F.Night!==void 0?String(F.Night):"0"};return console.log(`  Mapped prescription: ${F.name}, Morning: ${ve.Morning}, Evening: ${ve.Evening}, Night: ${ve.Night}`),ve}))}catch(K){console.error("Failed to reload prescriptions:",K)}},[n]);ie.useEffect(()=>{const K=localStorage.getItem("guardianEmail");K&&mt(K),R(),A()},[R,A]);const P=(K,F=!1)=>{const ve={id:`act-${Date.now()}`,timestamp:new Date,description:K,isAlert:F};v(Je=>[ve,...Je])},O=(K,F,ve)=>{const Je={id:`al-${Date.now()}`,timestamp:new Date,message:K,type:F};le(Se=>[Je,...Se])},de=async({name:K,dosage:F,frequency:ve})=>{try{const Je=await cu.addPrescription(n,K,F,ve);await R(),Y(`${K} has been added to your prescriptions.`)}catch(Je){Y("Failed to add prescription."),console.error("Add prescription error:",Je)}},ae=K=>{mt(K),localStorage.setItem("guardianEmail",K),Y("Guardian email has been updated."),me({type:"info",data:{title:"Success",message:"Guardian email saved successfully."}})},he=async K=>{ye(!0);const F="Test Email - Medicare Vision AI",ve=`This is a test email from Medicare Vision AI.

If you receive this email, the email integration is working correctly!

Time: ${new Date().toLocaleString()}`,Je=`
      <h2>Test Email - Medicare Vision AI</h2>
      <p>This is a test email from Medicare Vision AI.</p>
      <p>If you receive this email, the <strong>email integration is working correctly!</strong></p>
      <p><strong>Time:</strong> ${new Date().toLocaleString()}</p>
      <hr>
      <p style="color: #666; font-size: 12px;">This is an automated test email from Medicare Vision AI.</p>
    `,Se=await sh.sendEmail(K,F,ve,Je);if(Se.success)me({type:"info",data:{title:"Test Email Sent",message:"Test email sent successfully! Please check the guardian's inbox."}}),Y("Test email sent successfully.");else{const Ce=Se.error||"Unknown error occurred";me({type:"error",data:{title:"Email Failed",message:`Failed to send test email: ${Ce}`}}),Y("Failed to send test email."),console.error("Email error details:",Ce)}ye(!1)},Qe=ie.useCallback(()=>{if(!Xe.current)return null;const K=Xe.current,F=G.current;F.width=K.videoWidth,F.height=K.videoHeight;const ve=F.getContext("2d");return ve?(ve.drawImage(K,0,0,F.width,F.height),F.toDataURL("image/jpeg").split(",")[1]):null},[]),Ye=ie.useCallback(async()=>{Y("Please hold the medication steady."),ye(!0),me({type:"loading",data:{title:"Scanning Medication",message:"Analyzing medication label..."}}),await new Promise(F=>setTimeout(F,2e3));const K=Qe();if(K){const F=await Ua.verifyMedication(K),ve=F.name||"Unknown",Je=F.dosage||"",Se=`${ve} ${Je}`.trim(),Ce=M.find(Ae=>ve!=="Unknown"&&(ve.toLowerCase().includes(Ae.name.toLowerCase())||Ae.name.toLowerCase().includes(ve.toLowerCase()))),et=!!Ce,at={id:`med-${Date.now()}`,timestamp:new Date,medication:Se,status:et?"Verified":"Unverified"};if(C(Ae=>[at,...Ae]),et&&Ce)H(Ae=>Ae.map(fe=>fe.id===Ce.id?{...fe,lastTaken:new Date}:fe)),Y(`${Ce.name} verified and logged.`);else{const Ae=`Unverified medication taken: ${Se}`;if(O(Ae,"Medication"),Y(`Warning: ${Se} is not on your prescription list.`),ze){const ue="Medication Alert: Unverified Medication Taken",fe=`An unverified medication was scanned at ${new Date().toLocaleString()}.

Details:
Medication: ${Se}

Please check in immediately.`,ge=`
            <h2>Medication Alert: Unverified Medication Detected</h2>
            <p>An unverified medication was scanned at <strong>${new Date().toLocaleString()}</strong>.</p>
            <h3>Details:</h3>
            <p><strong>Medication:</strong> ${Se}</p>
            <p style="color: #dc3545; font-weight: bold;">Please check in immediately.</p>
            <hr>
            <p style="color: #666; font-size: 12px;">This is an automated alert from Medicare Vision AI.</p>
          `;Y("Sending alert email to your guardian.");const xe=await sh.sendEmail(ze,ue,fe,ge);if(xe.success)Y("Alert email has been sent to your guardian.");else{const Be=xe.error||"Unknown error";console.error("Failed to send alert email:",Be),Y("Failed to send email. Please contact your guardian directly.")}}}me({type:"medication_result",data:{...at,matchedPrescription:Ce}})}else Y("Could not capture image from camera."),me({type:"error",data:{title:"Camera Error",message:"Could not capture image."}});ye(!1)},[Qe,Y,M,ze]),fn=ie.useCallback(async K=>{ye(!0),me({type:"loading",data:{title:"Analyzing Symptom",message:"Please wait..."}});const F=await Ua.analyzeSymptom(K);if(J(ve=>[F,...ve]),Y(`Symptom logged. Severity is ${F.severity}. Recommendation: ${F.recommendation}`),F.severity==="Urgent"){const ve=`Urgent symptom reported: ${F.description}`;O(ve,"Symptom"),Y(`Alert: ${ve}`)}me({type:"symptom_result",data:F}),ye(!1)},[Y]);ie.useEffect(()=>{const K=window.SpeechRecognition||window.webkitSpeechRecognition;if(!K){console.warn("Speech recognition not supported.");return}const F=new K;F.continuous=!1,F.interimResults=!1,F.lang="en-US",F.onstart=()=>y(!0),F.onend=()=>y(!1),F.onerror=ve=>{console.error("Speech recognition error",ve.error),y(!1)},F.onresult=ve=>{const Je=ve.results[0][0].transcript.toLowerCase().trim();yo(Je)},X.current=F},[]);const oi=ie.useCallback(()=>{const K=M.reduce((ue,fe)=>{const ge=fe.Morning,xe=fe.Evening,Be=fe.Night,st=ge!=null&&ge!==""?typeof ge=="number"?ge:parseInt(String(ge),10)||0:0,Ze=xe!=null&&xe!==""?typeof xe=="number"?xe:parseInt(String(xe),10)||0:0,_t=Be!=null&&Be!==""?typeof Be=="number"?Be:parseInt(String(Be),10)||0:0;return ue+st+Ze+_t},0),F=new Date;F.setHours(0,0,0,0);const ve=S.filter(ue=>{const fe=new Date(ue.timestamp);return fe.setHours(0,0,0,0),fe.getTime()===F.getTime()&&ue.status==="Verified"}),Je=(ue,fe)=>{const ge=ue.toLowerCase(),xe=fe.toLowerCase(),Be=ge.replace(/\s*(tablets?|mg|ml|mcg|g|drops?|capsules?)\s*/gi,"").trim(),st=xe.trim();return ge.includes(xe)||xe.includes(ge)||Be.includes(st)||st.includes(Be)},Se=[];if(M.forEach(ue=>{const fe=ue.Morning,ge=ue.Evening,xe=ue.Night,Be=fe!=null&&fe!==""?typeof fe=="number"?fe:parseInt(String(fe),10)||0:0,st=ge!=null&&ge!==""?typeof ge=="number"?ge:parseInt(String(ge),10)||0:0,Ze=xe!=null&&xe!==""?typeof xe=="number"?xe:parseInt(String(xe),10)||0:0,_t=ve.some(xt=>Je(xt.medication,ue.name));Be>0&&Se.push({name:ue.name,timing:"Morning",count:Be,taken:_t}),st>0&&Se.push({name:ue.name,timing:"Evening",count:st,taken:_t}),Ze>0&&Se.push({name:ue.name,timing:"Night",count:Ze,taken:_t})}),K===0){Y("You have no tablets scheduled for today.");return}let Ce=`You have ${K} tablet${K>1?"s":""} to take today. `;const et={};Se.forEach(ue=>{et[ue.name]||(et[ue.name]={timings:[],count:0,taken:ue.taken||!1}),et[ue.name].timings.push(ue.timing),et[ue.name].count+=ue.count,ue.taken&&(et[ue.name].taken=!0)});const at=[];Object.entries(et).forEach(([ue,fe])=>{const ge=fe.timings.length===1?fe.timings[0].toLowerCase():fe.timings.slice(0,-1).join(", ").toLowerCase()+" and "+fe.timings[fe.timings.length-1].toLowerCase(),xe=fe.count===1?"1 tablet":`${fe.count} tablets`,Be=fe.taken?"already taken":"to be taken";at.push(`${xe} of ${ue} ${Be} in the ${ge}`)}),Ce+=at.join(". ")+".";const Ae=Se.filter(ue=>!ue.taken);if(Ae.length>0&&Ae.length<Se.length){const ue=Ae.reduce((fe,ge)=>fe+ge.count,0);Ce+=` You still have ${ue} tablet${ue>1?"s":""} remaining to take.`}else Ae.length===0&&Se.length>0&&(Ce+=" All medications have been taken for today.");Y(Ce)},[M,S,Y]),yo=K=>{console.log("Command received:",K),K.includes("start monitoring")||K.includes("check on me")?(u("MONITORING"),vo(),Y("Starting live monitoring.")):K.includes("stop monitoring")?(en(),Y("Stopping live monitoring.")):K.includes("report symptom")||K.includes("not feeling well")?(Y("Please describe your symptom after the beep."),setTimeout(()=>{me({type:"symptom_input",data:null}),Y("Listening for symptom.")},2e3)):K.includes("medication")||K.includes("pill")?(u("MONITORING"),Ye()):K.includes("meal plan")||K.includes("meal recommendation")?(u("MEAL_PLAN"),Y("Navigating to the meal planner.")):K.includes("dashboard")||K.includes("home")?(u("DASHBOARD"),Y("Showing dashboard.")):K.includes("prescription")?(u("PRESCRIPTIONS"),Y("Showing your prescriptions.")):K.includes("guardian")?(u("GUARDIAN"),Y("Showing guardian details.")):K.includes("today's tablets")||K.includes("today tablets")||K.includes("what tablets")||K.includes("tell me about tablets")||K.includes("medication summary")||K.includes("tablet summary")?(u("DASHBOARD"),setTimeout(()=>{oi()},100)):Y("Sorry, I didn't understand that command.")},vo=()=>{m(!0),$.current&&clearInterval($.current),$.current=window.setInterval(async()=>{const K=Qe();if(K){const F=await Ua.analyzeActivity(K),ve=(F.match(/Classification: (.*?)\./)||[])[1]||"Unknown",Je=(F.match(/Description: (.*?)$/)||[])[1]||F,Se=ve==="Fallen"||ve==="In Distress";if(Se){const Ce=`Possible ${ve.toLowerCase()} detected.`;O(Ce,ve),Y(`Alert: ${Ce}`)}P(Je,Se)}},Tv)},en=()=>{m(!1),$.current&&(clearInterval($.current),$.current=null)},Ai=async()=>{ye(!0),Y("Generating your personalized meal plan.");const K=await Ua.generateMealPlan(Sv);Z(K),ye(!1),Y("Your meal plan is ready.")},To=async K=>{ye(!0),Y("Analyzing your patient report and generating a personalized meal plan.");try{const F=await KC.generateMealPlanFromReport(n,K);Z(F),Y("Your personalized meal plan based on your patient report is ready.")}catch(F){throw Y("Failed to generate meal plan from report."),F}finally{ye(!1)}};ie.useEffect(()=>((async()=>{if(a==="MONITORING")try{const F=await navigator.mediaDevices.getUserMedia({video:!0,audio:!1});Xe.current&&(Xe.current.srcObject=F)}catch(F){console.error("Error accessing camera:",F),alert("Could not access the camera. Please ensure it is not in use by another application and that you have granted permission.")}})(),()=>{en(),Xe.current&&Xe.current.srcObject&&(Xe.current.srcObject.getTracks().forEach(ve=>ve.stop()),Xe.current.srcObject=null)}),[a]);const Ya=()=>{var at;console.log(" Calculating today's tablets from prescriptions:",M),console.log(" Prescription count:",M.length);const K=M.reduce((Ae,ue)=>{const fe=ue.Morning,ge=ue.Evening,xe=ue.Night;console.log(`  Prescription: ${ue.name}`),console.log(`    Raw values - Morning: "${fe}" (type: ${typeof fe}), Evening: "${ge}" (type: ${typeof ge}), Night: "${xe}" (type: ${typeof xe})`);const Be=fe!=null&&fe!==""?typeof fe=="number"?fe:parseInt(String(fe),10)||0:0,st=ge!=null&&ge!==""?typeof ge=="number"?ge:parseInt(String(ge),10)||0:0,Ze=xe!=null&&xe!==""?typeof xe=="number"?xe:parseInt(String(xe),10)||0:0;return console.log(`    Parsed values - M:${Be}, E:${st}, N:${Ze}, Total for this med: ${Be+st+Ze}`),Ae+Be+st+Ze},0),F=[],ve=new Date;ve.setHours(0,0,0,0);const Je=S.filter(Ae=>{const ue=new Date(Ae.timestamp);return ue.setHours(0,0,0,0),ue.getTime()===ve.getTime()&&Ae.status==="Verified"}),Se=(Ae,ue)=>{const fe=Ae.toLowerCase(),ge=ue.toLowerCase(),xe=fe.replace(/\s*(tablets?|mg|ml|mcg|g|drops?|capsules?)\s*/gi,"").trim(),Be=ge.trim();return fe.includes(ge)||ge.includes(fe)||xe.includes(Be)||Be.includes(xe)};M.forEach(Ae=>{const ue=Ae.Morning,fe=Ae.Evening,ge=Ae.Night,xe=ue!=null&&ue!==""?typeof ue=="number"?ue:parseInt(String(ue),10)||0:0,Be=fe!=null&&fe!==""?typeof fe=="number"?fe:parseInt(String(fe),10)||0:0,st=ge!=null&&ge!==""?typeof ge=="number"?ge:parseInt(String(ge),10)||0:0,Ze=Je.some(_t=>Se(_t.medication,Ae.name));xe>0&&F.push({name:Ae.name,timing:"Morning",count:xe,taken:Ze}),Be>0&&F.push({name:Ae.name,timing:"Evening",count:Be,taken:Ze}),st>0&&F.push({name:Ae.name,timing:"Night",count:st,taken:Ze})});const Ce={Morning:1,Evening:2,Night:3};F.sort((Ae,ue)=>{const fe=Ce[Ae.timing]||999,ge=Ce[ue.timing]||999;return fe!==ge?fe-ge:Ae.name.localeCompare(ue.name)}),console.log(" Today's tablets calculated:",{todayTablets:K,todayMedications:F});const et={alertsToday:te.filter(Ae=>new Date(Ae.timestamp).toDateString()===new Date().toDateString()).length,lastActivity:((at=h[0])==null?void 0:at.description)||"No activity recorded",isMonitoring:d,todayTablets:K,todayMedications:F};switch(a){case"MONITORING":return E.jsx(Mv,{activities:h,isMonitoring:d,onToggleMonitoring:()=>d?en():vo(),onMedicationScan:Ye,videoRef:Xe});case"MEAL_PLAN":return E.jsx(Rv,{mealPlan:Q,onGenerate:Ai,onGenerateFromReport:To,isLoading:Ne,token:n});case"PRESCRIPTIONS":return E.jsx(Nv,{prescriptions:M,onAddPrescription:de,onPrescriptionAdded:R});case"GUARDIAN":return E.jsx(Dv,{email:ze,onSaveEmail:ae,onTestEmail:he});case"VOICE_ASSISTANT":return E.jsx(Iv,{prescriptions:M,medicationLogs:S,mealPlan:Q,onSpeak:Y,onNavigateToScan:()=>u("MONITORING"),onTriggerMedicationScan:Ye,onNavigateToMealPlan:()=>u("MEAL_PLAN"),onGenerateMealPlan:Ai});case"BLOOD_REPORTS":return E.jsx(wv,{bloodReports:j,onBloodReportsUpdated:A,token:n});case"DASHBOARD":default:return E.jsx(xv,{stats:et,activities:h,medicationLogs:S,symptoms:b,prescriptions:M,healthIssues:ee,bloodReports:j,onSpeakTodayTablets:oi})}},hl=()=>{const{type:K,data:F}=re;switch(K){case"loading":return E.jsxs("div",{style:{textAlign:"center"},children:[E.jsx("h3",{children:F.title}),E.jsx("p",{children:F.message}),E.jsx("div",{className:"spinner"})]});case"error":case"info":return E.jsxs("div",{children:[E.jsx("h3",{children:F.title}),E.jsx("p",{children:F.message}),E.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:20},children:E.jsx("button",{onClick:()=>me({type:null,data:null}),style:{...k.actionButton,backgroundColor:L.secondary},children:"Close"})})]});case"medication_result":return E.jsxs("div",{children:[E.jsx("h3",{children:"Medication Scan Result"}),E.jsxs("p",{children:[E.jsx("strong",{children:"Medication Scanned:"})," ",F.medication]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Status:"})," ",E.jsx("span",{style:{color:F.status==="Verified"?L.success:L.danger},children:F.status})]}),F.status!=="Verified"?E.jsx("p",{children:"This does not match any medication on your prescription list."}):E.jsxs("p",{children:["Matched prescription: ",E.jsxs("strong",{children:[F.matchedPrescription.name," ",F.matchedPrescription.dosage]}),". Last taken time has been updated."]})]});case"symptom_input":return E.jsxs("div",{children:[E.jsx("h3",{children:"Report a Symptom"}),E.jsx("p",{children:"Please describe your symptom in the text box below."}),E.jsxs("form",{onSubmit:ve=>{ve.preventDefault();const Je=ve.target.elements.namedItem("symptom");Je!=null&&Je.value&&fn(Je.value)},children:[E.jsx("textarea",{name:"symptom",style:k.textarea,rows:4}),E.jsx("button",{type:"submit",style:k.actionButton,children:"Submit Symptom"})]})]});case"symptom_result":return E.jsxs("div",{children:[E.jsx("h3",{children:"Symptom Analysis"}),E.jsxs("p",{children:[E.jsx("strong",{children:"Symptom:"})," ",F.description]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Severity:"})," ",E.jsx("span",{style:{color:F.severity==="Urgent"?L.danger:F.severity==="Medium"?L.warning:L.text},children:F.severity})]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Recommendation:"})," ",F.recommendation]})]});default:return null}};return E.jsxs(E.Fragment,{children:[E.jsx("style",{children:`
      .spinner {
        border: 4px solid rgba(0,0,0,0.1);
        border-left-color: ${L.primary};
        border-radius: 50%;
        width: 30px;
        height: 30px;
        animation: spin 1s linear infinite;
        margin: 20px auto;
      }
      @keyframes spin {
        to { transform: rotate(360deg); }
      }
    `}),E.jsxs("div",{style:k.appContainer,children:[E.jsx(Ev,{onCommand:()=>{var K;return(K=X.current)==null?void 0:K.start()},isListening:g,user:i,onLogout:l}),E.jsxs("div",{style:k.mainLayout,children:[E.jsx(_v,{currentView:a,setView:u}),E.jsx("main",{style:k.content,children:Ya()})]}),E.jsx(Cv,{show:re.type!==null,onClose:()=>me({type:null,data:null}),title:"System Message",children:hl()})]})]})},ZC=()=>{const[i,n]=ie.useState(null),[l,a]=ie.useState(""),[u,d]=ie.useState(!0);ie.useEffect(()=>{const y=localStorage.getItem("authToken");y?du.getMe(y).then(h=>{n(h),a(y)}).catch(h=>{console.error("Failed to verify token:",h),localStorage.removeItem("authToken"),n(null),a("")}).finally(()=>d(!1)):d(!1)},[]);const m=(y,h)=>{n(y),a(h)},g=()=>{localStorage.removeItem("authToken"),n(null),a("")};return u?E.jsx("div",{style:{...k.loginContainer},children:E.jsxs("div",{style:{textAlign:"center"},children:[E.jsx("div",{className:"spinner"}),E.jsx("p",{style:{color:L.textSecondary},children:"Loading..."})]})}):!l||!i?E.jsx(bv,{onLogin:m}):E.jsx(QC,{user:i,token:l,onLogout:g})},$C=uv.createRoot(document.getElementById("root"));$C.render(E.jsx(ZC,{}));
